(self.webpackChunkjustpasteit=self.webpackChunkjustpasteit||[]).push([[5317],{42144:function(e,t,i){"use strict";let n;i.d(t,{I:function(){return n}}),function(e){e.PRIVATE="private",e.HIDDEN="hidden",e.PUBLIC="public"}(n||(n={}))},84563:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var n=i(65936);function r(){return n.ZP.load({monitoring:!1})}},74743:function(e,t,i){"use strict";var n=i(67294),r=i(20745),a=i(88581),s=i(84563);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l{static getStartTime(){return performance?Math.round(performance.now()):null}constructor(e){o(this,"fingerprint",void 0),o(this,"article",void 0),o(this,"readingInterval",void 0),o(this,"visibilityApi",void 0),o(this,"closeStatsSent",!1),this.fingerprint=null,this.article=e,this.readingInterval=1e4,this.visibilityApi=new a.Z,this.sendCloseStatsEvent=this.sendCloseStatsEvent.bind(this),this.sendCloseStatsBeacon=this.sendCloseStatsBeacon.bind(this)}init(){const e=this.visibilityApi.isSupported();e&&this.visibilityApi.installHook(),this.sendEventToServer("onload"),e&&this.visibilityApi.setEveryVisibility((()=>{this.sendEventToServer("reading")}),this.readingInterval),window.addEventListener("onbeforeunload",this.sendCloseStatsEvent,!1),window.addEventListener("unload",this.sendCloseStatsBeacon,!1)}sendCloseStatsEvent(){this.closeStatsSent||(this.closeStatsSent=!0,this.sendEventToServer("onunload"))}sendCloseStatsBeacon(){!this.closeStatsSent&&navigator.sendBeacon&&(this.closeStatsSent=!0,navigator.sendBeacon(window.statsUrl,JSON.stringify(this.prepareEventPayloadSync("onunload",this.fingerprint))))}async getFingerPrint(){return null===this.fingerprint&&(this.fingerprint=await this.initFingerprint()),this.fingerprint}initFingerprint(){return new Promise((async e=>{const t=await(0,s.Z)();e((await t.get()).visitorId)}))}prepareEventPayloadSync(e,t){let i=null;return"undefined"!=typeof Intl&&(i=Intl.DateTimeFormat().resolvedOptions().timeZone),{articleId:this.article.id,type:e,userF:t,sinceLoad:l.getStartTime(),vTime:this.visibilityApi.visibilityTime,key:window.viewKey,sH:screen.height??null,sW:screen.width??null,tz:i}}async prepareEventPayload(e){return this.prepareEventPayloadSync(e,await this.getFingerPrint())}async sendEventToServer(e){const t=await this.prepareEventPayload(e),i=new Request(window.statsUrl,{method:"post",mode:"cors",credentials:"include",body:JSON.stringify(t)});fetch(i).catch((()=>{this.visibilityApi.stopVisibilityTimer()}))}}var c=l,d=i(74855),u=i.n(d),h=i(17126);class m{static howLongAgo(e){if(null===e)return"";const t=h.ou.now().diff(e,"seconds"),i=Math.round(t.as("seconds"));return i<60?i+"s":i>=60&&i<120?"1m":i>=120&&i<3600?Math.round(i/60)+"m":i>=3600&&i<7199?"1h":i>=7199&&i<86400?Math.round(i/3600)+"h":e.toFormat("DD")}}var p,b=i(42144);function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class y extends n.Component{constructor(e){super(e),v(this,"localStorageName",void 0),v(this,"barOptions",void 0),v(this,"article",void 0),v(this,"articleFromLocalStorage",void 0),v(this,"stats",void 0),v(this,"defaultDisplayOwnership",!1),this.barOptions=window.barOptions,this.state={showMoreOptionsPanel:!1,displayOwnership:this.barOptions.displayOwnership,linkCopied:!1,editLinkCopied:!1,shortLinkCopied:!1,secretLinkCopied:!1,pdfLinkCopied:!1,editUrl:null,secretUrl:null},window.decodeArticleContent=this.decodeArticleContent.bind(this),this.onClickMore=this.onClickMore.bind(this),this.loadLocalStorageData(window.article)}componentDidMount(){this.defaultDisplayOwnership&&this.setState({displayOwnership:!0}),this.canArticleBeEdited()&&this.setState({editUrl:this.article.editUrl})}render(){var e;return this.barOptions.articleRemoved||null!==(e=this.barOptions)&&void 0!==e&&e.isBlockedAsPrivate?null:n.createElement("div",{className:"ownershipPanel"},n.createElement("div",{className:"articleOwnershipContainer d-flex"},this.renderPanelLeft(),this.editPanelButtons()),this.renderMoreOptionsPanel())}canArticleBeEdited(){return void 0!==this.article.editUrl&&!this.barOptions.isInTrash}renderPanelLeft(){return n.createElement("div",{className:"articleOwnershipLeft flex-grow-1"},n.createElement("span",{className:"authorsPanelSpan"},this.renderUserBar()))}renderUserBar(){let e,t,i;if(this.barOptions.displayOwnership){const r={direction:this.barOptions.premiumUserData.userNameDirection};e=this.barOptions.premiumUserData.avatar,t=n.createElement(n.Fragment,null,n.createElement("a",{href:this.barOptions.premiumUserData.userLink,className:"articlePremiumUserLink",style:r},this.barOptions.premiumUserData.userName)," ",n.createElement("a",{href:this.barOptions.premiumUserData.userLink,className:"userNameSubLineArticle"},"@",this.barOptions.premiumUserData.permalink)),i=this.barOptions.premiumUserData.userLink}else e=this.barOptions.defaultAvatar,t=n.createElement("span",{className:"anonymousInfo"},"@anonymous"),i=null;return n.createElement("div",{className:"articleBarLeftContainer"},n.createElement("div",{className:"articleBarLeftAvatar"},n.createElement("a",{href:i},n.createElement("img",{src:e,className:"rounded-circle articleUserAvatar",alt:"User avatar",width:"50px",height:"50px"}))),n.createElement("div",{className:"articleBarLeftLogin"},n.createElement("div",null,n.createElement("span",{className:"authorsPanelSpan"},t," ",this.renderNoteDate()))))}renderCaptchaRequiredButton(){return this.barOptions.isCaptchaRequired?n.createElement(n.Fragment,null,n.createElement("span",{className:"badge bg-warning text-dark",title:"Protected by CAPTCHA"},"Captcha")," "):null}renderEncryptedButton(){return this.barOptions.isPasswordProtected?n.createElement(n.Fragment,null,n.createElement("span",{className:"badge bg-warning text-dark",title:"Content encrypted"},"Encrypted")," "):null}renderVisibilityButton(){return this.barOptions.visibilityLevel!==b.I.PRIVATE&&this.barOptions.isArticleOwner?this.barOptions.visibilityLevel===b.I.HIDDEN?n.createElement(n.Fragment,null,n.createElement("span",{className:"badge bg-success"},"Hidden")," "):n.createElement(n.Fragment,null,n.createElement("span",{className:"badge bg-primary"},"Public")," "):null}renderPrivateButton(){return this.barOptions.visibilityLevel!==b.I.PRIVATE?null:n.createElement(n.Fragment,null,n.createElement("span",{className:"badge bg-secondary"},"Private")," ")}renderSharedButton(){return this.barOptions.isShared&&this.barOptions.isArticleOwner?n.createElement(n.Fragment,null,n.createElement("span",{className:"badge bg-primary"},"Shared")," "):null}editPanelButtons(){return n.createElement("div",{className:"articleOwnershipRight"},this.renderCaptchaRequiredButton(),this.renderEncryptedButton(),this.renderSharedButton(),this.renderVisibilityButton(),this.renderPrivateButton(),this.renderTrashBadge(),this.renderExpireAfterReadBadge(),n.createElement("div",{className:"btn-group btn-group-sm extraBtnGroup"},this.renderEditButton(),this.renderShowLinksButton()))}renderShowLinksButton(){return this.barOptions.isInTrash?null:n.createElement("a",{className:"btn btn-default",title:"Show links",onClick:this.onClickMore},n.createElement("i",{className:"bi bi-three-dots"}))}renderExpireAfterReadBadge(){return this.barOptions.expireAfterRead?n.createElement(n.Fragment,null,n.createElement("span",{className:"badge bg-warning text-dark",title:"Expire after reading"},"Expire after reading")," "):null}renderTrashBadge(){return this.barOptions.isInTrash?n.createElement(n.Fragment,null,n.createElement("span",{className:"badge bg-secondary",title:"Article is in Trash"},"Trash")," "):null}renderEditButton(){return this.canArticleBeEdited()?n.createElement("a",{className:"btn btn-default",title:"Edit",href:this.state.editUrl},n.createElement("i",{className:"bi bi-pencil-square"})," ",n.createElement("span",{className:"d-none d-sm-inline"},"Edit")):null}onClickMore(){this.setState({showMoreOptionsPanel:!this.state.showMoreOptionsPanel})}renderMoreOptionsPanel(){return this.state.showMoreOptionsPanel?n.createElement("div",{className:"alert alert-warning editMoreOptionsPanel"},n.createElement("div",{className:"form-horizontal"},this.renderLinkRow("link","Link:",this.article.url),!this.getIsPrivate()&&this.renderLinkRow("shortLink","Short link:",this.article.shortUrl),this.showPdfLink()&&this.renderLinkRow("pdfLink","PDF link:",this.article.pdfUrl),this.canArticleBeEdited()&&this.renderLinkRow("editLink","Edit link:",this.state.editUrl),null!==this.barOptions.linkSharingUrl&&this.renderLinkRow("linkSharingSecret","Private link:",this.barOptions.linkSharingUrl),null!==this.state.secretUrl&&this.renderLinkRow("secretLink","Secret link:",this.state.secretUrl),n.createElement("div",{className:"text-center qrCodeBlock"},n.createElement("img",{src:window.article.qrCodeData,alt:"QR code",width:87,height:87})))):null}getIsPrivate(){return this.barOptions.visibilityLevel===b.I.PRIVATE}showPdfLink(){return!(this.barOptions.isPasswordProtected||this.getIsPrivate()||this.barOptions.isCaptchaRequired||this.barOptions.isExpired||this.barOptions.expireAfterRead)}renderLinkRow(e,t,i){const r=e+"Copy",a={};return a[r]=!0,n.createElement("div",{className:"row mb-1"},n.createElement("span",{className:"col-12 col-sm-2 col-form-label panelLabelLeft"},t),n.createElement("div",{className:"col-12 col-sm-10"},n.createElement("div",{className:"input-group input-group-sm"},n.createElement("input",{defaultValue:i,title:"Click to copy",className:"form-control",readOnly:!0}),n.createElement(u(),{text:i,onCopy:()=>this.setState(a)},n.createElement("a",{className:"btn btn-default",title:this.state[r]?"Copied to clipboard":"Copy to clipboard"},n.createElement("i",{className:"bi "+(this.state[r]?"bi-clipboard-check":"bi-clipboard-plus")}))))))}renderNoteDate(){const e=h.ou.fromISO(this.barOptions.createdText).toLocal(),t=m.howLongAgo(e);let i=null,r=null,a=0;null!==this.barOptions.modifiedText&&(i=h.ou.fromISO(this.barOptions.modifiedText).toLocal(),r=m.howLongAgo(i),a=Math.round(i.diff(e).as("seconds")));let s=null;return null!==r&&t!==r&&a>60&&(s=n.createElement(n.Fragment,null," · edited: ",this.nbSpaces(r)," ")),n.createElement("span",{className:"userNameSubLineArticle"},"· ",this.nbSpaces(t),s)}nbSpaces(e){return e.replace(" "," ")}loadLocalStorageData(e){this.localStorageName=`art-${e.id}`,void 0===e.secureCode&&localStorage&&localStorage.getItem(this.localStorageName)?(this.article=JSON.parse(localStorage.getItem(this.localStorageName)),this.articleFromLocalStorage=!0):this.article=e,this.article&&this.article.editUrl&&(this.defaultDisplayOwnership=!0,localStorage&&!this.articleFromLocalStorage&&localStorage.setItem(this.localStorageName,JSON.stringify(this.article))),this.stats=new c(e),this.stats.init()}decodeArticleContent(e){if(null===e)return;if(this.canArticleBeEdited()){const t=this.article.editUrl+"#"+e;this.setState({editUrl:t})}let t;t=null!==window.barOptions.linkSharingSecret?this.barOptions.linkSharingUrl:this.article.url,t=t+"#"+e,this.setState({secretUrl:t})}}!function(e){e.Empty="empty",e.Positive="positive",e.Negative="negative"}(p||(p={}));var g=p,f=i(9669),w=i.n(f);function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class O extends n.Component{constructor(e){super(e),E(this,"barOptions",void 0),E(this,"article",void 0),this.barOptions=window.barOptions,this.article=window.article,this.state={isFavourite:!1,currentVote:this.barOptions.currentVote,positiveVotes:this.barOptions.positiveVotes,negativeVotes:this.barOptions.negativeVotes,votingButtonsEnabled:!this.barOptions.isArticleOwner,favouritesCount:this.barOptions.favouritesCount},this.onShareButtonClick=this.onShareButtonClick.bind(this),this.onClickFavourite=this.onClickFavourite.bind(this),this.onClickVotePositive=this.onClickVotePositive.bind(this),this.onClickVoteNegative=this.onClickVoteNegative.bind(this),this.hideModal=this.hideModal.bind(this)}render(){const e=this.canRenderShareButton(),t=!window.barOptions.isInTrash;return n.createElement(n.Fragment,null,n.createElement("div",{className:"articleFooterContainer"},n.createElement("div",{className:"noteFooter row"},t&&n.createElement("div",{className:"noteBottomFooter col-6"},this.renderViewsAndOnline(),e&&this.renderShareButton()),n.createElement("div",{className:"noteBottomFooter col-6"},this.renderVoteButtons()," ",this.renderFavouritesButton()," ",this.renderPdfButton()))),this.renderImagePreviewBox())}componentWillUnmount(){this.clearHeadProperties()}renderImagePreviewBox(){return n.createElement("div",{id:"imagePreviewBox",className:"modal fade show"},n.createElement("div",{className:"modal-dialog modal-fullscreen"},n.createElement("div",{className:"imagePreviewBoxContent",onClick:this.hideModal},n.createElement("div",{className:"modal-body imagePreviewBoxBody text-center align-center"},n.createElement("div",{id:"imagePreviewBoxImageContainer",className:"modalImageOutBox"},n.createElement("img",{id:"imageThumbPreviewBoxImage","data-close":"no",alt:"Thumbnail",className:"img-fluid"}),n.createElement("img",{id:"imagePreviewBoxImage","data-close":"no",alt:"Large image",className:"img-fluid"}))),n.createElement("div",{className:"modal-header imagePreviewBoxContentHeader","data-close":"no"},n.createElement("button",{id:"imagePreviewBoxHide",type:"button",onClick:this.hideModal,title:"Close",className:"btn btn-sm btn-secondary"},n.createElement("i",{className:"bi bi-x-lg"})),n.createElement("a",{id:"imagePreviewBoxFullLink","data-close":"no",target:"_blank",className:"btn btn-sm btn-secondary",title:"Resize"},n.createElement("i",{className:"bi bi-arrows-fullscreen"})),n.createElement("a",{id:"imagePreviewBoxPreviousImageLeft","data-close":"no",className:"btn btn-sm btn-secondary",title:"Previous image"},n.createElement("i",{className:"bi bi-arrow-left"})),n.createElement("a",{id:"imagePreviewBoxPreviousImageRight","data-close":"no",className:"btn btn-sm btn-secondary",title:"Next image"},n.createElement("i",{className:"bi bi-arrow-right"})),n.createElement("div",{id:"imagePreviewBoxLoader",className:"spinner-border text-secondary",title:"Image loading",role:"status"})))))}clearHeadProperties(){document.getElementsByTagName("body")[0].style.removeProperty("overflow")}hideModal(e){var t,i,n;const r=e.target;"no"===(null===(t=r.dataset)||void 0===t?void 0:t.close)||"I"===r.tagName&&"no"===(null==r||null===(i=r.parentNode)||void 0===i||null===(n=i.dataset)||void 0===n?void 0:n.close)||(this.clearHeadProperties(),document.getElementById("imagePreviewBox").style.display="none")}renderViewsAndOnline(){return null===this.barOptions.viewsText?null:n.createElement("span",{className:"footerDate"},this.barOptions.viewsText," visits",this.renderOnlineUsers())}renderFavouritesButton(){return this.barOptions.visibilityLevel===b.I.PRIVATE&&!this.barOptions.isArticleOwner||this.barOptions.isInTrash||this.barOptions.expireAfterRead?null:n.createElement("a",{className:"btn bottomArticleButtons btn-sm btn-default",onClick:this.onClickFavourite,title:this.state.isFavourite?"Remove from favourites":"Add to favourites"},n.createElement("span",{className:"bi "+(this.state.isFavourite?"bi-star-fill":"bi-star")})," ",this.state.favouritesCount)}renderVoteButtons(){return this.barOptions.visibilityLevel===b.I.PRIVATE||this.barOptions.isInTrash||this.barOptions.expireAfterRead?null:n.createElement("div",{className:"btn-group btn-group-sm bottomArticleButtons"},n.createElement("span",{className:"btn btn-default text-secondary"},"Vote:"),this.renderPlusButton(),this.renderMinusButton())}renderPlusButton(){const e=this.state.currentVote===g.Positive?"positiveVotedText ":"positiveVoteText ",t=this.state.currentVote===g.Positive?"bi-hand-thumbs-up-fill":"bi-hand-thumbs-up";return n.createElement("a",{className:"btn btn-default "+(this.state.currentVote===g.Positive?"positiveVoteSelected ":"positiveVote "),onClick:this.onClickVotePositive,title:"Vote positive"},n.createElement("span",{className:e},n.createElement("i",{className:"bi "+t})," ",this.state.positiveVotes))}renderMinusButton(){const e=this.state.currentVote===g.Negative?"negativeVotedText":"negativeVoteText",t=this.state.currentVote===g.Negative?"bi-hand-thumbs-down-fill":"bi-hand-thumbs-down";return n.createElement("a",{className:"btn btn-default "+(this.state.currentVote===g.Negative?"negativeVoteSelected ":"negativeVote "),onClick:this.onClickVoteNegative,title:"Vote negative"},n.createElement("span",{className:e},n.createElement("i",{className:"bi "+t})," ",this.state.negativeVotes))}async onClickVotePositive(){const e=this.state.currentVote===g.Positive?"empty":"positive";this.handleVote(e)}async onClickVoteNegative(){const e=this.state.currentVote===g.Negative?"empty":"negative";this.handleVote(e)}async handleVote(e){this.barOptions.isLoggedIn?this.barOptions.hasPublicProfile?!this.barOptions.isArticleOwner&&this.state.votingButtonsEnabled&&(this.setState({votingButtonsEnabled:!1}),await this.sendVoteRequest(e),this.setState({votingButtonsEnabled:!0})):alert("You need to create your Public profile first"):alert("You need to be logged in to vote")}async sendVoteRequest(e){try{const t=(await w().post(this.barOptions.voteUrl,{articleId:this.article.id,vote:e})).data;void 0!==t.success?t.success?this.setState({positiveVotes:t.stats.positive,negativeVotes:t.stats.negative,currentVote:t.vote}):alert("Error during voting: "+t.message):alert("Voting failed")}catch(e){alert(`Some error occurred during voting: ${e}`)}}async onClickFavourite(){if(!this.barOptions.isLoggedIn)return void alert("You need to be logged in to manage your favourites articles");let e;this.state.isFavourite?(e=await this.removeFavouriteRequest(),this.setState({favouritesCount:Math.max(this.state.favouritesCount-1,0)})):(e=await this.addFavouriteRequest(),this.setState({favouritesCount:this.state.favouritesCount+1})),e&&void 0!==e.isFavourite||alert("Unknown error"),this.setState({isFavourite:e.isFavourite})}async addFavouriteRequest(){try{return(await w().post(this.barOptions.addFavouriteArticleUrl,{articleId:this.article.id})).data}catch(e){alert(`Some error occurred: ${e}`)}}async removeFavouriteRequest(){try{return(await w().post(this.barOptions.removeFavouriteArticleUrl)).data}catch(e){alert(`Some error occurred: ${e}`)}}renderOnlineUsers(){return window.barOptions.isInTrash?null:n.createElement(n.Fragment,null," · ",this.barOptions.onlineText," online")}renderShareButton(){return n.createElement("div",{className:"bottomArticleButtonsShare"},n.createElement("a",{className:"btn btn-sm btn-default",onClick:this.onShareButtonClick,title:"Share",rel:"nofollow"},n.createElement("i",{className:"bi bi-share"})," Share"))}canRenderShareButton(){return navigator.share&&!window.barOptions.isPasswordProtected&&this.barOptions.visibilityLevel!==b.I.PRIVATE&&!window.barOptions.isInTrash}renderPdfButton(){return window.barOptions.isPasswordProtected||window.barOptions.isCaptchaRequired||this.barOptions.visibilityLevel===b.I.PRIVATE||window.barOptions.isExpired||window.barOptions.isInTrash||window.barOptions.expireAfterRead?null:n.createElement("a",{href:this.article.pdfUrl,title:"Save as PDF",className:"btn btn-sm btn-default bottomArticleButtons",rel:"nofollow"},n.createElement("i",{className:"bi bi-file-earmark-pdf"})," Save as PDF")}onShareButtonClick(){navigator.share({title:"",text:"",url:this.article.shortUrl})}async checkFavourites(){try{const e=await w().get(this.barOptions.getFavouriteArticleUrl);void 0!==e.data&&void 0!==e.data.isFavourite&&this.setState({isFavourite:e.data.isFavourite})}catch(e){}}componentDidMount(){this.barOptions.isLoggedIn&&this.checkFavourites()}}var C=i(65912),P=async()=>{const e=document.getElementById("articleContent");if(null===e)return;const t=e.getElementsByClassName("youTubePlayer"),i=t.length;for(let e=0;e<i;e++){const i=t[e],n=i.getAttribute("data-player-url");if(n.startsWith("https://www.youtube.com/",0)){const e=i.getElementsByTagName("a")[0],t=document.createElement("p");t.className="playLayerCover",e.appendChild(t),i.addEventListener("click",(t=>{e.style.display="none";const r=document.createElement("iframe");r.src=n,r.setAttribute("allow","autoplay; fullscreen"),r.setAttribute("frameborder","0");const a=document.createElement("div");a.className="ratio ratio-16x9",a.appendChild(r),i.appendChild(a),t.preventDefault()}))}}};let S=[],N="",k=0,B=0,I=e=>{},V=I,T=I;let x=!1;const L=(e,t,i,n)=>{x||(x=!0,(()=>{document.getElementById("imagePreviewBoxPreviousImageLeft").addEventListener("click",(e=>{V(e)}),!1),document.getElementById("imagePreviewBoxPreviousImageRight").addEventListener("click",(e=>{T(e)}),!1);const e=document.getElementById("imagePreviewBoxImageContainer");e.addEventListener("touchstart",A,!1),e.addEventListener("touchmove",R,!1)})());const r=document.getElementById("imagePreviewBoxImageContainer");let a,s;"left"===n?(r.classList.add("imageGalleryTurnLeft"),setTimeout((()=>{r.classList.remove("imageGalleryTurnLeft")}),600)):"right"===n&&(r.classList.add("imageGalleryTurnRight"),setTimeout((()=>{r.classList.remove("imageGalleryTurnRight")}),600)),0===i?(a="hidden",V=I):(a="visible",V=e=>L(S[i-1],e,i-1,"left")),document.getElementById("imagePreviewBoxPreviousImageLeft").style.visibility=a;S.length-i==1?(s="hidden",T=I):(s="visible",T=e=>{L(S[i+1],e,i+1,"right")}),document.getElementById("imagePreviewBoxPreviousImageRight").style.visibility=s,document.getElementsByTagName("body")[0].style.overflow="hidden";const o=document.getElementById("imagePreviewBoxFullLink"),l=e.getAttribute("href");N=l;const c=document.getElementById("imageThumbPreviewBoxImage"),d=document.getElementById("imagePreviewBoxImage"),u=document.getElementById("imagePreviewBoxLoader");d.style.display="none",u.style.display="inline-block";const h=()=>{l===N&&(d.setAttribute("src",l),c.style.display="none",d.style.display="inline-block",u.style.display="none")},m=()=>{if(l!==N)return;const e=new Image;e.onload=h,e.onerror=h,e.src=l};c.onload=()=>{},c.onerror=()=>{},c.setAttribute("src",""),c.onload=m,c.onerror=m,c.setAttribute("src",function(e){if(!F.test(e))return e;return e.replace("/img/","/img/p/")}(l)),c.style.display="inline-block",o.setAttribute("href",l),document.getElementById("imagePreviewBox").style.display="block",t.preventDefault()},A=e=>{k=e.touches[0].clientX,B=e.touches[0].clientY},R=e=>{if(null===k||null===B)return;const t=e.touches[0].clientX,i=e.touches[0].clientY,n=k-t,r=B-i;Math.abs(n)>Math.abs(r)&&(n>0?T(e):V(e)),k=null,B=null,e.preventDefault()},F=/\/img\/([a-zA-Z0-9]{32})\.(gif|png|jpg|webp)$/;var D=async()=>{const e=document.getElementById("articleContent");if(null===e)return;const t=/\.(jpg|gif|png|webp)$/,i=e.querySelectorAll("a > img");S=[],i.forEach((e=>{const i=e.parentNode,n=i.getAttribute("href");""!==n&&t.test(n)&&S.push(i)})),S.forEach(((e,t)=>{e.addEventListener("click",(i=>L(e,i,t,"init")))}))};window.initVideoPlayers=P,window.initImageGallery=D,async function(){const e=await(0,C.Z)("showArticleWidget");(0,r.createRoot)(e).render(n.createElement(n.StrictMode,null,n.createElement(y,e.dataset)))}(),async function(){const e=await(0,C.Z)("showArticleBottomWidget");(0,r.createRoot)(e).render(n.createElement(n.StrictMode,null,n.createElement(O,e.dataset))),P(),D()}()},88581:function(e,t){"use strict";function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n;!function(e){e.Visible="visible",e.Hidden="hidden",e.Prerender="prerender",e.Unloaded="unloaded"}(n||(n={}));t.Z=class{constructor(){if(i(this,"isEnabled",void 0),i(this,"hiddenName",void 0),i(this,"visibilityChangeName",void 0),i(this,"isHidden",void 0),i(this,"visibilityStateSupported",void 0),i(this,"visibilityTimer",null),i(this,"visibilityTimerInterval",100),i(this,"everyVisibilityHook",void 0),i(this,"everyVisibilityInterval",void 0),i(this,"everyVisibilityIntervalCountdown",void 0),i(this,"visibilityTime",0),void 0===document.addEventListener)return void(this.isEnabled=!1);let e,t;if(this.visibilityStateSupported=void 0!==document.visibilityState,void 0!==document.hidden)e="hidden",t="visibilitychange";else if(void 0!==document.msHidden)e="msHidden",t="msvisibilitychange";else{if(void 0===document.webkitHidden)return void(this.isEnabled=!1);e="webkitHidden",t="webkitvisibilitychange"}this.isEnabled=!0,this.hiddenName=e,this.visibilityChangeName=t,this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this.startVisibilityTimerTick=this.startVisibilityTimerTick.bind(this)}installHook(){this.isSupported()&&(void 0!==document.onvisibilitychange?document.onvisibilitychange=this.handleVisibilityChange:document.addEventListener(this.visibilityChangeName,this.handleVisibilityChange,!1),this.startVisibilityTimer())}setEveryVisibility(e,t){this.everyVisibilityHook=e,this.everyVisibilityInterval=t,this.resetEveryVisibilityIntervalCountdown()}isVisible(){return!this.isHidden}resetEveryVisibilityIntervalCountdown(){this.everyVisibilityIntervalCountdown=this.everyVisibilityInterval}stopVisibilityTimer(){null!==this.visibilityTimer&&(clearTimeout(this.visibilityTimer),this.visibilityTimer=null)}isSupported(){return this.isEnabled}handleVisibilityChange(){document[this.hiddenName]?this.onHidden():this.visibilityStateSupported&&document.visibilityState!==n.Visible||this.onVisible()}startVisibilityTimerTick(){this.visibilityTime+=this.visibilityTimerInterval,this.everyVisibilityIntervalCountdown-=this.visibilityTimerInterval,void 0!==this.everyVisibilityHook&&this.everyVisibilityIntervalCountdown<=0&&(this.resetEveryVisibilityIntervalCountdown(),this.everyVisibilityHook()),this.startVisibilityTimer()}onHidden(){this.isHidden=!0,this.stopVisibilityTimer()}onVisible(){this.isHidden=!1,this.resetEveryVisibilityIntervalCountdown(),this.startVisibilityTimer()}startVisibilityTimer(){this.visibilityTimer=setTimeout(this.startVisibilityTimerTick,this.visibilityTimerInterval)}}},25164:function(e,t){"use strict";t.Z=e=>new Promise((t=>setTimeout(t,e)))},65912:function(e,t,i){"use strict";var n=i(25164);t.Z=async e=>{let t=null;do{t=document.getElementById(e),null===t&&await(0,n.Z)(100)}while(null===t);return t}},20640:function(e,t,i){"use strict";var n=i(25108),r=i(11742),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var i,s,o,l,c,d,u=!1;t||(t={}),i=t.debug||!1;try{if(o=r(),l=document.createRange(),c=document.getSelection(),(d=document.createElement("span")).textContent=e,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){i&&n.warn("unable to use e.clipboardData"),i&&n.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=a[t.format]||a.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(d),l.selectNodeContents(d),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){i&&n.error("unable to copy using execCommand: ",r),i&&n.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){i&&n.error("unable to copy using clipboardData: ",r),i&&n.error("falling back to prompt"),s=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(s,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),d&&document.body.removeChild(d),o()}return u}},74300:function(e,t,i){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=o(i(67294)),a=o(i(20640)),s=["text","onCopy","options","children"];function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function d(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=y(e);if(t){var r=y(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return b(this,i)}}function b(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(l,e);var t,i,n,o=p(l);function l(){var e;u(this,l);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return g(v(e=o.call.apply(o,[this].concat(i))),"onClick",(function(t){var i=e.props,n=i.text,s=i.onCopy,o=i.children,l=i.options,c=r.default.Children.only(o),d=(0,a.default)(n,l);s&&s(n,d),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(t)})),e}return t=l,(i=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),i=d(e,s),n=r.default.Children.only(t);return r.default.cloneElement(n,c(c({},i),{},{onClick:this.onClick}))}}])&&h(t.prototype,i),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.default.PureComponent);t.CopyToClipboard=f,g(f,"defaultProps",{onCopy:void 0,options:void 0})},74855:function(e,t,i){"use strict";var n=i(74300).CopyToClipboard;n.CopyToClipboard=n,e.exports=n},20745:function(e,t,i){"use strict";var n=i(73935);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},11742:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,i=[],n=0;n<e.rangeCount;n++)i.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||i.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}},function(e){e.O(0,[3935,9669,7126,5936],(function(){return t=74743,e(e.s=t);var t}));e.O()}]);