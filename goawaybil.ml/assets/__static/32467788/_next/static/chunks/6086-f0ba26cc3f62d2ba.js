"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6086],{25029:function(e,n,i){i.d(n,{Z:function(){return h}});var t=i(59499),r=i(50029),a=i(87794),o=i.n(a),s=i(81020),l=i.n(s),d=i(67294),u=i(96486),c=i(37342),m=i(79845),p=i(8148),f=i(17253),v=i(85893);function b(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}var k={onSubmit:l().func.isRequired,formInitialValues:l().object,submitButtonText:l().string,onSuccess:l().func,title:l().string,formName:l().string,onClose:l().func.isRequired,children:l().func.isRequired};k=Object.assign(k,(0,u.omit)(p.Z.propTypes,["content","actions"]));var g={formInitialValues:{},submitButtonText:null,title:null,onSuccess:null};g=Object.assign(g,(0,u.omit)(p.Z.defaultProps,["content","actions"]));var y=function(e){var n=e.formName,i=e.formInitialValues,a=e.submitButtonText,s=e.onSubmit,l=e.onSuccess,k=e.onClose,g=e.children,y=(0,d.useState)(!0),h=y[0],N=y[1],j=(0,d.useState)(null),O=j[0],P=j[1],x=(0,m.Z)().translate,S=(0,u.uniqueId)("FormDialog_"),D=function(){var e=(0,r.Z)(o().mark((function e(n,i){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n,i);case 2:return(t=e.sent).errors||(l?(l(),k()):k()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}();return(0,v.jsx)(p.Z,function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?b(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({content:(0,v.jsx)(c.Z,{onSubmit:D,initialValues:i,children:function(e){return(0,v.jsxs)("form",{id:S,name:n,onSubmit:e.handleSubmit,children:[g(e),N(e.disabledOnSuccess&&e.submitSucceeded||e.disabledOnPristine&&e.pristine||e.hasValidationErrors||e.submitting),P(e.submitError)]})}}),actions:[O&&(0,v.jsx)(f.QP,{type:"error",children:O}),(0,v.jsx)(f.zx,{label:a||x("Common.submit"),onClick:function(){var e=document.getElementById(S);e&&e.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},disabled:h,name:"".concat(n,"_submitBtn")}),(0,v.jsx)(f.zx,{label:x("Common.cancel"),onClick:k,type:"secondary",name:"".concat(n,"_cancelBtn")})]},(0,u.omit)(e,["content","actions","children"])))};y.defaultProps=g;var h=y},68393:function(e,n,i){i.d(n,{Z:function(){return p}});var t=i(59499),r=(i(67294),i(41640)),a=i(10224),o=i(85893);function s(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?s(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlayerTag"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"player"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"playerId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playerTag"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"playerTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Player"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gamerTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]}]}}],loc:{start:0,end:115,source:{body:'#import "./PlayerTag.fragment.gql"\n\nquery PlayerTag($playerId: ID!) {\n\tplayer(id: $playerId) {\n\t\t...playerTag\n\t}\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},u=l({},a.lG);function c(e){var n=e.playerId,i=e.player,t=(0,r.Z)(d,{variables:{playerId:n},skip:!!i}),s=t.loading,u=(t.error,t.data);return s?null:(0,o.jsx)(a.ZP,l({player:i||u.player},e))}c.defaultProps=u;var m=c;m.pres=a.ZP;var p=m},77290:function(e,n,i){i.d(n,{Z:function(){return U}});var t=i(17674),r=i(81020),a=i.n(r),o=i(67294),s=i(17253),l=i(8129),d=i(89574),u=i(90555),c=i(70923),m=i(79845),p=i(59499),f=i(50029),v=i(87794),b=i.n(v),k=i(18499),g=i(66688),y=i(93665),h=i(31705),N=i(25029),j=i(99971),O=i(44955),P=i(85893);function x(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function S(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?x(Object(i),!0).forEach((function(n){(0,p.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditUserBioDialog"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userFields"}},type:{kind:"NamedType",name:{kind:"Name",value:"updateUserFields"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"userFields"},value:{kind:"Variable",name:{kind:"Name",value:"userFields"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"genderPronoun"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158,source:{body:"mutation EditUserBioDialog($userId: ID!, $userFields: updateUserFields) {\n\tupdateUser(id: $userId, userFields: $userFields) {\n\t\tid\n\t\tbio\n\t\tgenderPronoun\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},I=function(e){var n=e.user,i=n.bio,r=n.genderPronoun,a=(0,m.Z)().translate,s=new j.Z(a),l=(0,k.Db)(D,{variables:{userId:n.id}}),d=(0,t.Z)(l,1)[0],u=function(){var e=(0,f.Z)(b().mark((function e(n){var i,t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!!n.showPronounField,e.next=3,d({variables:{userFields:{bio:n.bio||"",genderPronoun:i&&n.genderPronoun||null}}});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c={bio:i,genderPronoun:r,showPronounField:!!(r&&r.length>0)};return(0,P.jsx)(N.Z,S(S({},e),{},{formInitialValues:c,onSubmit:u,children:function(){return(0,P.jsxs)(o.Fragment,{children:[(0,P.jsx)(O.Z,{headerText:a("EditUserBioDialog.editBio")}),(0,P.jsx)(g.gN,{name:"bio",label:a("EditUserBioDialog.bio"),type:"text",component:y.II.ffAdapter,validate:s.maxLength(160)}),(0,P.jsx)(g.gN,{name:"showPronounField","data-test":"profile-setup-form-show-pronoun",type:"checkbox",component:y.XZ.ffAdapter,label:a("ProfileSetupForm.showPronouns")}),(0,P.jsx)(h.gP,{fieldName:"showPronounField",comparator:function(e){return!!e},children:(0,P.jsx)(g.gN,{name:"genderPronoun","data-test":"profile-setup-form-pronoun",type:"text",component:y.II.ffAdapter,validate:s.maxLength(50),placeholder:a("ProfileSetupForm.pronounsPlaceholder")})})]})}}))};I.defaultProps={onBioUpdated:function(){}};var Z=I,T=i(41640),w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserBioLine"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userBioLine"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"userBioLine"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"genderPronoun"},arguments:[],directives:[]}]}}],loc:{start:0,end:138,source:{body:'#import "./UserBioLine.fragment.gql"\n\nquery UserBioLine($userId: ID!) {\n\tcurrentUser {\n\t\tid\n\t}\n\tuser(id: $userId) {\n\t\t...userBioLine\n\t}\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},L=(a().oneOfType([a().number,a().string]).isRequired,a().object,a().boolean,a().number,(0,d.ZL)()((function(e,n){return{container:{display:"flex",alignItems:"center"},dotify:{display:1===n.maxLines&&"block"}}}))),F=function(e){var n=e.userId,i=e.user,r=e.allowEditing,a=e.maxLines,o=(0,T.Z)(w,{variables:{userId:i&&i.id||n},skip:!i&&!n}),d=o.loading,p=(o.error,o.data),f=(0,c.Z)(Z),v=(0,t.Z)(f,2),b=v[0],k=v[1],g=(0,m.Z)().translate,y=L({maxLines:a}).classes;if(d)return null;var h=i||p&&p.user;if(!h)return!1;var N=p.currentUser,j=r&&N&&h.id===N.id,O=h.bio,x=h.genderPronoun,S=(0,P.jsx)(s.rU,{"data-test":"user-bio-edit",onClick:k,children:(0,P.jsx)(s.ZT,{variant:"body14",noWrap:!0,children:g("UserBioLine.editBio")})});return(O||x)&&(S=(0,P.jsx)(l.xu,{ml:1,children:S})),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(b,{user:h}),(0,P.jsxs)("div",{className:y.container,children:[(O||x)&&(0,P.jsx)(l.x$,{maxLines:a,children:(0,P.jsx)(s.ZT,{className:y.dotify,variant:"body1",children:(0,P.jsxs)(l.tX,{children:[O&&O.length>0&&(0,P.jsx)("span",{children:u.Z.addLinksToString(O)}),x&&(0,P.jsx)("span",{children:x})]})})}),j&&S]})]})};F.defaultProps={user:null,allowEditing:!0,maxLines:1};var U=F},66758:function(e,n,i){var t=i(81020),r=i.n(t),a=(i(67294),i(94184)),o=i.n(a),s=i(30381),l=i.n(s),d=i(89574),u=i(17253),c=i(74610),m=i(63040),p=i(79845),f=i(20753),v=i(85893),b=(r().object.isRequired,r().oneOf(["full","condensed"]),(0,d.ZL)()((function(e){return{root:{color:e.palette.common.grey.slate,marginLeft:e.spacing(-.3),display:"flex"},child:{display:"flex",alignItems:"center","&:not(:first-child)":{marginLeft:e.spacing(1)}},location:{minWidth:0}}}))),k=function(e){var n=e.user,i=e.display,t=(n||{}).birthday,r=b().classes,a=(0,p.Z)().translate,s=(0,f.Z)((function(e){return e.breakpoints.down("md")}));if(!n)return!1;var d=m.Z.getLocationPreview(n.publishingSettings.location,n.location),k=d&&(0,v.jsxs)("div",{"data-test":"userLocationDisplay",className:o()(r.child,r.location),children:[(0,v.jsx)(c.R_,{fontSize:"small"}),"\xa0",(0,v.jsx)(u.ZT,{noWrap:!0,children:d})]});i||(i=s?"condensed":"full");var g="full"===i?"MMMM YYYY":"MMM YYYY",y=l().unix(n.createdAt).format(g),h=(0,v.jsxs)("div",{"data-test":"userSinceDisplay",className:r.child,children:[(0,v.jsx)(c.$M,{fontSize:"small"}),"\xa0",(0,v.jsx)(u.ZT,{noWrap:!0,children:y})]}),N=t&&(0,v.jsxs)("div",{"data-test":"userBirthdayDisplay",className:r.child,children:[(0,v.jsx)(c.B2,{fontSize:"small"}),"\xa0",(0,v.jsx)(u.ZT,{noWrap:!0,children:t})]});return(0,v.jsxs)("div",{className:r.root,children:[(0,v.jsx)(u.MZ,{placement:"bottom",message:a("UserLocationAndDate.locationTooltip"),children:k}),(0,v.jsx)(u.MZ,{placement:"bottom",message:a("UserLocationAndDate.userSinceTooltip"),children:h}),(0,v.jsx)(u.MZ,{placement:"bottom",message:a("UserLocationAndDate.birthdayTooltip"),children:N})]})};k.defaultProps={display:null},n.ZP=k},63040:function(e,n){n.Z={PRIVATE:"PRIVATE",COUNTRY_ONLY:"COUNTRY_ONLY",PUBLIC:"PUBLIC",getName:function(e,n){var i;switch(e){case this.PRIVATE:i=n("Publishing.location.none");break;case this.COUNTRY_ONLY:i=n("Publishing.location.countryOnly");break;case this.PUBLIC:i=n("Publishing.location.fullLocation")}return i},getAllOptions:function(e){var n=this;return[this.PUBLIC,this.COUNTRY_ONLY,this.PRIVATE].map((function(i){return{value:i,label:n.getName(i,e)}}))},getLocationPreview:function(e,n){if(!n)return"";var i=n.city,t=n.state,r=n.country;switch(e){case this.PRIVATE:return"";case this.COUNTRY_ONLY:return r;case this.PUBLIC:var a=r||"";return t&&(a="".concat(t,", ").concat(a)),i?"".concat(i,", ").concat(a):a;default:return null}}}}}]);
//# sourceMappingURL=6086-f0ba26cc3f62d2ba.js.map