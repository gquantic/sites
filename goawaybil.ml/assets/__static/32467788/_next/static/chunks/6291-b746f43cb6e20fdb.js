(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6291],{43516:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var i=r(81020),n=r.n(i),o=r(67294),a=r(72555),s=r.n(a),l=r(96086),c=r.n(l),u=r(78147),p=r(96486),d=r(4574),h=r(54881),f=r(45333);function m(e,t,r){var i=h.Z.getCompositeActionName(d.Z.SERVER_FETCHED_UI.INIT,t.storeName),n=h.Z.getCompositeActionName(d.Z.SERVER_FETCHED_UI.FETCHED,t.storeName),o=h.Z.getCompositeActionName(d.Z.SERVER_FETCHED_UI.ERROR,t.storeName);e.dispatch(i,t);var a=e.getStore(t.storeName).getFetchSpecs(t.params);if(a&&a.length>0){var s={specs:a=(0,p.map)(a,(function(t){var r=t.params.url;return t&&t.params&&"function"===typeof t.params.url&&(r=t.params.url(e,t.params)),t.params=(0,p.extend)({},t.params,{url:r}),t}))};f.Z.fetch(e,s,(function(t,i){t||(i=i&&i[0],e.dispatch(n,i)),r()}),(function(t){e.dispatch(o,t),r()}))}else r()}var g=r(96011);function v(e,t){var r=e.displayName||e.name,i={displayName:"".concat(r,"ServerFetchedUIStoreInitializer"),propTypes:{shouldReset:n().bool,disableUpdate:n().bool},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isLoading:this.props.getStore("ServerFetchedUIStateStore").isLoading(t.storeName)}},onChange:function(){var e=this.getStateFromStores();this.state.isLoading&&!e.isLoading&&this.state.initializing&&(e.initializing=!1),this.setState(e)},initStore:function(e){if(!this.state.isLoading&&!this.state.initializing){var r=t.getFetchParams(e);this.props.executeAction(m,{storeName:t.storeName,params:r}),this.setState({initializing:!0})}},componentDidMount:function(){if(this.shouldReset({},this.props)&&this.initStore(this.props),t.updateInterval&&!this.interval){t.updateInterval<1e3&&(t.updateInterval*=1e3);var e=t.updateInterval+Math.random(1e3,1e4);this.interval=setInterval(this._updateFromStore,e)}this.props.getStore("ServerFetchedUIStateStore").addChangeListener(this.onChange)},componentWillReceiveProps:function(e){this.shouldReset(this.props,e)&&this.initStore(e)},componentWillUnmount:function(){this.interval&&(clearInterval(this.interval),this.interval=null),this.props.getStore("ServerFetchedUIStateStore").removeChangeListener(this.onChange)},_updateFromStore:function(){this.props&&this.props.disableUpdate||!this.shouldUpdate()||this.initStore(this.props)},shouldReset:function(e,r){var i=this.refs.component&&this.refs.component.state||{};return r.shouldReset||t.shouldReset&&t.shouldReset(e,r,i)},shouldUpdate:function(){if("function"===typeof t.shouldUpdate){var e=this.refs.component&&this.refs.component.state||{};return t.shouldUpdate(this.props,e)}return"boolean"!==typeof t.shouldUpdate||t.shouldUpdate},shouldInitUIStore:function(){this.initStore(this.props)},render:function(){return o.createElement(e,c()({ref:"component",shouldInitUIStore:this.shouldInitUIStore},this.props))}},a=s()(i);return a.contextType=g.Z,(0,u.Z)(a)}},37975:function(e,t,r){"use strict";r.d(t,{Z:function(){return F}});var i=r(72555),n=r.n(i),o=r(67294),a=r(43393),s=r.n(a),l=r(96486),c=r(81154),u=(r(20084),r(3248)),p=r(41074),d=r(5892),h=r(43516),f=r(11214),m=r(78147),g=r(83461),v=r(9301);function y(e,t,r){e.dispatch(v.Z.VIDEOGAME.SELECTED,t)}var j=r(85893),b=n()({displayName:"GameSelectOverlay",key:"activeGame",selectGame:function(e){var t=e.get("name"),r={id:e.get("id")};e.get("displayName")&&(t=e.get("displayName"));var i="".concat(e.get("id"),";").concat(t);c.Z.setItem(this.key,i),this.props.executeAction(y,r),this.props.onSelect()},buildSection:function(e,t){var r=this.props.translate,i={0:1,1:2,1386:3,7:4,14:5,4:6,19:7};if(e&&e.size){var n=r("GameFilter.allGames");return t&&(e=e.insert(0,s().Map({id:0,name:r("GameFilter.allGames")})),n=r("GameFilter.topResults")),e=e.filter((function(e){return!(t&&(!this.props.activeGame||this.props.activeGame.id!==e.get("id")))||!!i[e.get("id")]}),this).sortBy((function(e){if(t)return i[e.get("id")];var r=e.get("displayName"),n=e.get("name");return r||n})).map((function(e){var t,r,i;return e.get("displayName")?(t=e.get("displayName"),r=(0,j.jsxs)("span",{className:"OverlayFilterItem__subtitle",children:[" ",e.get("name")," "]})):t=e.get("name"),i=this.props.activeGame&&this.props.activeGame.id===e.get("id")||!this.props.activeGame&&0===e.get("id")?"OverlayFilterItem is-active":"OverlayFilterItem",(0,j.jsxs)("div",{className:i,onClick:(0,l.partial)(this.selectGame,e),children:[(0,j.jsxs)("a",{onClick:(0,l.partial)(this.selectGame,e),children:[" ",t," "]})," ",r]},e.get("id"))}),this),(0,j.jsxs)("div",{className:"OverlayFilterSection",children:[(0,j.jsx)("div",{className:"OverlayFilterSection__title",children:n}),e]})}},render:function(){var e,t,r;return e=this.props.videogames,t=this.buildSection(e,!0),r=this.buildSection(e,!1),(0,j.jsx)("span",{onClick:this.props.onSelect,children:(0,j.jsx)(g.Z,{className:"OverlayFilter",children:(0,j.jsxs)("div",{className:"OverlayFilter__container",children:[t,r]})})})}});b=(0,u.Z)(b,["TopLevelFilterUIStore"],(function(e,t){var r;return r=c.Z.parseItem("activeGame"),{videogames:e.TopLevelFilterUIStore.get("videogames"),activeGame:r}}));var x=(0,f.qC)((0,p.Z)(),m.Z)(b),S=n()({displayName:"GameFilter",getDefaultProps:function(){return{icons:{rankings:"fa fa-rocket",results:"fa fa-trophy",tournaments_search:"fa fa-calendar",shops:"fa fa-gift",fantasy:"fa fa-book"}}},getInitialState:function(){return{showOverlay:!1}},openOverlay:function(){this.setState({showOverlay:!0})},closeOverlay:function(){this.setState({showOverlay:!1})},renderDisplayName:function(){var e,t,r,i,n=this.props.translate,o=d.Z.getActiveVideogameId();if(this.props.query&&this.props.query.get("filter")){var a,s;if((e=null!==(a=null===(s=this.props.query.get("filter"))||void 0===s?void 0:s.toJS())&&void 0!==a?a:{}).videogameIds&&(i=this.props.videogames&&this.props.videogames.find((function(t){return t.get("id")===parseInt(e.videogameIds,10)}))))return r="".concat(i.get("id"),";").concat(i.get("displayName")),(t=c.Z.parseItem("activeGame"))||c.Z.setItem("activeGame",r),i.get("displayName");if(0===o)return n("GameFilter.allGames")}return(t=c.Z.parseItem("activeGame"))&&(t=t.name),t||n("GameFilter.allGames")},render:function(){var e,t=this.props,r=t.translate,i=t.icons,n=t.containerClass,a=t.videogames,s=this.state.showOverlay,l=this.props.titleKey,c=r("GameFilter.titles.".concat(l)),u=i[l],p=this.renderDisplayName(),d=(0,j.jsx)("div",{className:n,children:(0,j.jsxs)("div",{className:"TopLevelFilter",children:[(0,j.jsx)("i",{className:u,"aria-hidden":"true"}),c,(0,j.jsx)("span",{className:"TopLevelFilter__preposition",children:r("GameFilter.selectionForGame")}),(0,j.jsxs)("span",{className:"TopLevelFilter__selector",children:["\xa0",(0,j.jsxs)("a",{role:"button",onClick:this.openOverlay,children:[p,"\xa0",(0,j.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]})]})]})});return s&&(e=(0,j.jsx)(x,{onSelect:this.closeOverlay,videogames:a})),(0,j.jsxs)(o.Fragment,{children:[d,e]})}}),C={storeName:"TopLevelFilterUIStore",getFetchParams:function(){},shouldReset:function(e){return!!(0,l.isEmpty)(e)}};S=(0,h.Z)(S,C),S=(0,u.Z)(S,["TopLevelFilterUIStore"],(function(e){return{videogames:e.TopLevelFilterUIStore.get("videogames")}}));var F=(0,p.Z)()(S)},94116:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var i=r(11214),n=(r(67294),r(72555)),o=r.n(n),a=r(43393),s=r.n(a),l=r(96486),c=r(78147),u=r(41074),p=r(3248),d=r(46625),h=r(53213),f=r(22713),m=r(5892),g=r(18783),v=r(17253),y=r(18979),j=r(50229),b=r(96896),x=r(16405),S=r(8129),C=r(34174),F=r(30381),Z=r.n(F),O=r(4921),I=r(85893),w=function(e){var t,r=e.name,i=e.dateTimeOptions,n=e.query,o=e.translate;return"function"===typeof i&&(t=i(n.filter)),t=(0,l.extend)({inline:!0,defaultDate:Z()().startOf("day")},t),(0,I.jsxs)(S.MI,{direction:"column",children:[(0,I.jsx)(O.Z.formsyAdapter,{name:r,validationErrors:{isRequired:"Date is required"},unix:!0,dateTimeOptions:t,PopperProps:{sx:{zIndex:1052}}}),(0,I.jsxs)(S.rj,{container:!0,justifyContent:"space-between",children:[(0,I.jsx)(S.rj,{item:!0}),(0,I.jsx)(S.rj,{item:!0,children:(0,I.jsx)(C.zx,{type:"primary",buttonType:"submit",label:o("Common.submit")})})]})]})},N=r(20725),P=function(e){var t=e.sections,r=e.query,i=e.baseUrl,n=e.onClick,o=e.editLocation,a=e.editDate,s=e.selectOptions,c=e.clearFilters,u=e.translate,p=t.length-1,d=function(e){return(0,l.map)(e,(function(e,t){var p,d=e.fieldName,h=e.label,f=e.type,m=e.value,g=e.clearFields,y={},j=u("TopLevelFilter.fieldLabels.".concat(h),null,null,h);switch(f){case"radius":case"region":return(0,I.jsx)("div",{children:(0,I.jsx)(v.rU,{type:"primary",onClick:(0,l.partial)(o,d,f),children:j})},f);case"date":return(0,I.jsx)("div",{children:(0,I.jsx)(v.rU,{type:"primary",onClick:(0,l.partial)(a,e),children:j})},d);case"array":-1===(p=r.filter[d]||[]).indexOf(m)&&p.push(m);break;case"location":p=m;break;case"select":return(0,I.jsx)("div",{children:(0,I.jsx)(v.rU,{type:"primary",onClick:(0,l.partial)(s,e),children:h})},d);default:p=!0}return y[d]=p,y.past&&(y.upcoming=!1),y.upcoming&&(y.past=!1),y.year&&(y.threeMonths=!1),g&&(y=c(g,y)),(0,I.jsx)("div",{children:(0,I.jsx)(N.Z,{query:r,baseUrl:i,filter:y,overwriteQuery:!1,highlightWhenActive:!0,onClick:n,fieldName:d,children:j})},"".concat(d,".").concat(t))}))};return(0,I.jsx)(S.MI,{direction:"column",spacing:2,children:(0,l.reduce)(t,(function(e,t,r){return e.push((0,I.jsx)(S.MI,{direction:"column",children:d(t)})),r!==p&&e.push((0,I.jsx)(C.Z0,{})),e}),[])})},k=r(98688),L=function(e){var t=e.name,r=e.placeholder,i=e.translate;return(0,I.jsxs)(S.MI,{direction:"column",children:[(0,I.jsx)(k.Z,{focusOnMount:!0,placeholder:r,name:t,type:"text"}),(0,I.jsxs)(S.rj,{container:!0,justifyContent:"space-between",children:[(0,I.jsx)(S.rj,{item:!0}),(0,I.jsx)(S.rj,{item:!0,children:(0,I.jsx)(v.zx,{type:"primary",buttonType:"submit",label:i("Common.submit")})})]})]})},R=r(65810),_=r(26306),D=r(96766),T=function(e){var t=e.regions,r=e.locationType,i=e.fieldNames,n=e.query,o=e.countryId,a=e.selectedCountryId,s=e.selectedStateId,c=e.hasState,u=e.countryChanged,p=e.translate,d=(0,I.jsxs)(S.rj,{container:!0,justifyContent:"space-between",children:[(0,I.jsx)(S.rj,{item:!0}),(0,I.jsx)(S.rj,{item:!0,children:(0,I.jsx)(v.zx,{type:"primary",buttonType:"submit",label:p("Common.submit")})})]});if("region"===r){var h=i.country,f=i.state;return(0,I.jsxs)(S.MI,{direction:"column",children:[(0,I.jsx)(R.Z,{name:"filter.".concat(h),isRequired:!0,validationErrors:{isRequired:"Country is required"},onChange:u,value:a,formField:(0,I.jsx)(D.Z,{type:"country",regions:t,isFormsy:!0})}),o&&c&&(0,I.jsx)(R.Z,{name:"filter.".concat(f),value:s,formField:(0,I.jsx)(D.Z,{type:"state",regions:t,selectedCountry:(0,l.find)(t,(function(e){return e.id===o})),isFormsy:!0})}),d]})}if("radius"===r){var m=i.radius,g=i.origin,y=n.filter;return(0,I.jsxs)(S.MI,{direction:"column",children:[(0,I.jsxs)(R.Z,{name:"filter.".concat(m),validationErrors:{isRequired:"Radius is required"},value:y.radiusField||"50mi",children:[(0,I.jsx)("div",{className:"radio",children:(0,I.jsxs)("label",{children:[(0,I.jsx)("input",{type:"radio","data-value":"10mi",name:m})," \xa0 10 mi"]})}),(0,I.jsx)("div",{className:"radio",children:(0,I.jsxs)("label",{children:[(0,I.jsx)("input",{type:"radio","data-value":"50mi",name:m})," \xa0 50 mi"]})}),(0,I.jsx)("div",{className:"radio",children:(0,I.jsxs)("label",{children:[(0,I.jsx)("input",{type:"radio","data-value":"100mi",name:m})," ","\xa0 100 mi"]})}),(0,I.jsx)("div",{className:"radio",children:(0,I.jsxs)("label",{children:[(0,I.jsx)("input",{type:"radio","data-value":"250mi",name:m})," ","\xa0 250 mi"]})})]}),(0,I.jsx)(_.Z,{name:"filter.".concat(g),showErrors:!1,isRequired:!0,autocompleteTypes:["(cities)"],title:"City",validations:{requirePlace:function(e,t){return!(!t||!t.placeId)}}}),d]})}return null},G=o()({displayName:"TopLevelFilter",mixins:[g.Z],getDefaultProps:function(){return{query:{},searchField:"name",filterTabs:{upcoming:{label:"Time",rightIcon:"fa-caret-down"},filters:{label:"Filters",leftIcon:"fa-plus"},search:{label:"Search",leftIcon:"fa-search",collapsible:!0}},fieldLabels:{upcoming:!0,past:!0,year:!0,tournamentName:!0,beforeDate:!0,afterDate:!0,specificDate:!0,countryCode:!0,addrState:!0,subState:!0,multiState:!0,eventRegOpen:!0,regOpen:!0,attendeeCount:!0,entrantCount:!0,hasPrizes:!0,isFeatured:!0,threeMonths:!0,specificYear:!0,isLeague:!0},valueLabels:{multiCountry:"Multi-Country",country:"Country",state:"State",subState:"Sub-State",city:"City","lt:100":"<100","gt:100,lte:200":"101-200","gt:200,lte:500":"201-500","gt:500,lte:1000":"501-1000","gt:1000":"1001+"},filterConfig:{},excludedFilters:{completed:!0,approved:!0,videogameIds:!0,distanceFrom:!0,distanceFromCity:!0,allRankings:!0}}},getInitialState:function(){return{editingDateField:null,editingLocationField:null,editingLocationType:null,selectedItem:null}},componentWillReceiveProps:function(e){this.props.videogameId!==e.videogameId&&this.executeFilter({query:{filter:{videogameIds:e.videogameId||""}}},!1)},componentDidUpdate:function(e,t){var r=this.props.regions&&this.props.regions.size;t.editingLocationType||"region"!==this.state.editingLocationType||(r||this.props.executeAction(b.Z),this.generateRegionSelectionIds()),0===(e.regions||s().Map()).count()&&r&&this.generateRegionSelectionIds()},generateRegionSelectionIds:function(){var e,t,r=(s().fromJS(this.props.query)||s().Map()).get("filter")||s().Map(),i=r.get("countryCode"),n=r.get("addrState");i&&(e=(f.Z.getCountries(this.props.regions).find((function(e){return e.get("countryCode")===i}))||s().Map()).get("id"));n&&(t=(f.Z.getStates(this.props.regions,this.props.regions.get(e)).find((function(e){return e.get("state")===n}))||s().Map()).get("id"));this.setState({selectedCountryId:e,selectedStateId:t}),this.countryChanged(e)},onSubmit:function(e){var t=!1,r=e.filter||{};if("object"===typeof r.distanceFrom){var i=r.distanceFrom.lat,n=r.distanceFrom.lng,o=r.distanceFrom.city;i&&n?(r.distanceFrom=[i,n].join(","),r.distanceFromCity=o):(r.distanceFrom=void 0,r.distance=void 0)}if(r.countryCode){var a=this.props.regions.get(r.countryCode);r.countryCode=a.get("countryCode")}if(r.addrState){var s=this.props.regions.get(r.addrState);r.addrState=s.get("state")}r.specificYear&&(r=this.clearFilters(["year","threeMonths"],r));var l=this.props.query.filter&&this.props.query.filter.name;r.name&&r.name!==l&&(e.filter={name:r.name,upcoming:!1},t=!0),this.executeFilter({query:e},t),this.hidePopover()},countryChanged:function(e){var t=e&&parseInt(e,10);this.setState({countryId:t,hasState:f.Z.hasStatesOrProvinces(this.props.regions.get(t),this.props.regions),selectedStateId:null})},editDate:function(e){this.setState({editingDateField:e.fieldName,editingDateFieldConfig:e})},selectOptions:function(e){this.setState({selectedItem:e})},editLocation:function(e,t){this.setState({editingLocationField:e,editingLocationType:t})},hidePopover:function(){this.setState({hidePopover:!0})},popoverClosed:function(){this.setState({hidePopover:!1,countryId:null,hasState:null,editingDateField:null,editingDateFieldConfig:null,editingLocationField:null,editingLocationType:null,selectedItem:null})},removeFilter:function(e,t,r){var i=this.props.query.filter;if("array"===r){var n=i[e],o=(0,l.indexOf)(n,t);o>-1&&n.splice(o,1)}else i[e]=void 0,"distance"===e&&(i.distanceFromCity=void 0,i.distanceFrom=void 0),"upcoming"===e&&(i.upcoming=!1);this.executeFilter({query:{filter:i}},!1)},formatField:function(e){return this.props.fieldLabels[e]?this.props.translate("TopLevelFilter.fieldLabels.".concat(e)):d.Z.capitalize(e)},formatValue:function(e){var t=this.props.valueLabels[e];return t||e},formatDate:function(e){return h.Z.formatDate(e,{format:"MMM Do, YYYY"})},clearFilters:function(e,t){return e.forEach((function(e){t[e]=void 0})),t},renderPopover:function(e,t,r){var i=this.state.hidePopover;return(0,I.jsx)(v.J2,{placement:"bottom",content:t,hidePopover:i,TransitionProps:{onExited:this.popoverClosed},children:e},r)},renderFilterCard:function(e){var t,r=this.props,i=r.filterConfig,n=r.query,o=r.baseUrl,a=r.searchField,s=r.regions,c=r.translate,u=this.state,p=u.editingDateField,d=u.editingDateFieldConfig,h=u.editingLocationField,f=u.editingLocationType,m=u.selectedItem,g=u.countryId,v=u.selectedCountryId,b=u.selectedStateId,x=u.hasState,F=i[e];if(p)t=(0,I.jsx)(w,{name:"filter.".concat(p),dateTimeOptions:d&&d.dateTimeOptions,query:n,translate:c});else if(h)t=(0,I.jsx)(T,{regions:s&&s.size?Object.values(s.toJS()):[],locationType:f,fieldNames:h,query:n,countryId:g,selectedCountryId:v,selectedStateId:b,hasState:x,countryChanged:this.countryChanged,translate:c});else if(m){var Z=m.options,O=m.placeholder,N=m.fieldName;t=(0,I.jsxs)(S.MI,{direction:"column",children:[(0,I.jsx)(y.Z,{options:Z,placeholder:O,name:"filter.".concat(N)}),(0,I.jsxs)(S.rj,{container:!0,justifyContent:"space-between",children:[(0,I.jsx)(S.rj,{item:!0}),(0,I.jsx)(S.rj,{item:!0,children:(0,I.jsx)(C.zx,{type:"primary",buttonType:"submit",label:c("Common.submit")})})]})]})}else(0,l.isArray)(F)?t=(0,I.jsx)(P,{sections:F,query:n,baseUrl:o,onClick:this.hidePopover,editLocation:this.editLocation,editDate:this.editDate,selectOptions:this.selectOptions,clearFilters:this.clearFilters,translate:c}):"object"===typeof F&&(t=(0,I.jsx)(L,{name:"filter.".concat(a),placeholder:c("TopLevelFilter.".concat(F.placeholder),null,null,F.placeholder),translate:c}));return(0,I.jsx)(j.Z,{name:"top-level-filter-form",className:"filter-form",showServerErrors:!1,showSubmit:!1,submitButton:!0,onSubmit:this.onSubmit,navigateOnSearch:!0,overwriteQuery:!1,children:(0,I.jsx)(S.xu,{p:"1.6rem",children:t})})},renderFilterTab:function(e,t,r,i,n){var o,a="ContentFilterItem",s=this.renderFilterCard(e);r&&(o=(0,I.jsx)("span",{className:"ContentFilterItem__icon",children:(0,I.jsx)("i",{className:"fa ".concat(r),"aria-hidden":"true"})}));var l=(0,I.jsx)("span",{className:"ContentFilterItem__icon",children:(0,I.jsx)("i",{className:"fa ".concat(i),"aria-hidden":"true"})});"function"===typeof t&&(t=t(this.props)),t=(0,I.jsx)("span",{className:"ContentFilterItem__title",children:this.props.translate("TopLevelFilter.filterTabs.".concat(t),null,null,t)}),n&&(a="ContentFilterItem ContentFilterItem--collapsible");var c=(0,I.jsxs)("span",{className:a,children:[o,t,l]});return this.renderPopover(c,s,e)},renderFilterTabs:function(){var e=this.props.filterTabs;return e=(0,l.map)(e,(0,l.bind)((function(e,t){return this.renderFilterTab(t,e.label,e.leftIcon,e.rightIcon,e.collapsible)}),this)),(0,I.jsx)("div",{className:"ContentFilter__section",children:e})},renderPill:function(e,t,r,i){if(t){var n="pill-".concat(e);try{n+="-".concat(t)}catch(a){n+="-?"}var o=(0,I.jsx)("i",{className:"fa fa-close pointer",onClick:(0,l.partial)(this.removeFilter,e,t,i)});return(0,I.jsxs)("span",{className:"ContentFilter__label",children:[" ",r,(0,I.jsx)("span",{className:"ContentFilter__icon",children:o})]},n)}},renderAppliedFilters:function(){var e,t=this.props.query.filter,r=this.props.excludedFilters,i=[];return(0,l.each)(t,(0,l.bind)((function(n,o){if(!r[o]){var a=this.formatField(o),s=a;if((0,l.isArray)(n))(0,l.each)(n,(0,l.bind)((function(t){e=this.formatValue(t),s="".concat(a,": ").concat(e),i.push(this.renderPill(o,t,s,"array"))}),this));else{if(!0!==n&&"string"===typeof n){e=this.formatValue(n),s="".concat(a,": ").concat(e);var c=t.distanceFromCity;"distance"===o&&c&&(s+=" from ".concat(c))}else Number.isInteger(n)&&(e="specificYear"===o?n:this.formatDate(n),s="".concat(a,": ").concat(e));i.push(this.renderPill(o,n,s))}}}),this)),(0,I.jsx)("div",{className:"ContentFilter__section",children:i})},render:function(){var e=this.renderFilterTabs(),t=this.renderAppliedFilters();return(0,I.jsxs)("div",{className:"ContentFilter",children:[e,t]})}});G=(0,p.Z)(G,["TopLevelFilterUIStore","RegionStore"],(function(e){return{videogameId:m.Z.getActiveVideogameId(),regions:e.RegionStore.getAll()}}));var A=(0,i.qC)((0,u.Z)(),c.Z,x.Z)(G)},90977:function(e,t,r){"use strict";var i=r(92777),n=r(82262),o=r(81531),a=r(63553),s=r(37247),l=r(59499),c=r(17253),u=r(67294),p=r(96486),d=r(94184),h=r.n(d),f=r(85893);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=(0,s.Z)(e);if(t){var n=(0,s.Z)(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return(0,a.Z)(this,r)}}var g=function(e){(0,o.Z)(r,e);var t=m(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){var e=this.props.title;(0,p.isString)(this.props.title)&&(e=(0,f.jsx)(c.ZT,{variant:"h5",component:"h3",className:"empty-state-header",children:this.props.title}));var t=h()("empty-state-container text-center",this.props.className||"");return(0,f.jsxs)("div",{className:t,children:[e,(0,f.jsx)("div",{children:this.props.message})]})}}]),r}(u.Component);(0,l.Z)(g,"defaultProps",{className:"",title:"",message:""}),t.Z=g},18979:function(e,t,r){"use strict";var i=r(92777),n=r(82262),o=r(10748),a=r(81531),s=r(63553),l=r(37247),c=r(59499),u=r(96486),p=r(67294),d=r(43393),h=r.n(d),f=r(65810),m=r(85893);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=(0,l.Z)(e);if(t){var n=(0,l.Z)(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return(0,s.Z)(this,r)}}var j=function(e){(0,a.Z)(r,e);var t=y(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c.Z)((0,o.Z)(e),"makeOption",(function(e,t){var r,i,n;return"function"===typeof e.get?(r=e.get("name")||e.get("label"),i=e.get("value")):(0,u.isObject)(e)?(r=e.name||e.label,i=e.value,n=e.disabled):(r=e,i=e),(0,m.jsx)("option",{disabled:n,value:i,children:r},"".concat(r,"-").concat(t))})),e}return(0,n.Z)(r,[{key:"render",value:function(){var e=[];e=h().List.isList(this.props.options)?this.props.options.map(this.makeOption).toArray():(0,u.map)(this.props.options,this.makeOption),this.props.placeholder&&"string"===typeof this.props.placeholder&&e.unshift((0,m.jsx)("option",{value:"",disabled:!0,children:this.props.placeholder},"placeholder"));var t=(0,m.jsx)("select",v(v({defaultValue:"",className:this.props.selectClassName,id:this.props.name,name:this.props.name,disabled:this.props.disabled},this.props.selectProps),{},{children:e}));return(0,m.jsx)(f.Z,v({ref:"FormsyElement",formField:t},this.props))}}]),r}(p.Component);(0,c.Z)(j,"defaultProps",{selectClassName:"form-control",placeholder:"",selectProps:{}}),t.Z=j},76779:function(e,t,r){"use strict";var i=r(22808),n=r(90116),o=r(92777),a=r(82262),s=r(10748),l=r(81531),c=r(63553),u=r(37247),p=r(59499),d=r(67294),h=r(94184),f=r.n(h),m=r(96486),g=r(11214),v=r(30431),y=r(84118),j=r(37212),b=r(2997),x=r(48837),S=r(83871),C=r(41074),F=r(46841),Z=r(4899),O=r(82876),I=r(8129),w=(r(66477),r(55932)),N=r.n(w),P=r(85893);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,p.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=(0,u.Z)(e);if(t){var n=(0,u.Z)(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return(0,c.Z)(this,r)}}var _=function(e){(0,l.Z)(r,e);var t=R(r);function r(e){var i;(0,o.Z)(this,r),i=t.call(this,e),(0,p.Z)((0,s.Z)(i),"geocodeAndUpdate",(function(e){var t=new window.google.maps.Geocoder,r=(0,s.Z)(i);i.setState({geocoding:!0}),t.geocode({address:e},(function(e,t){r.setState({geocoding:!1}),t===window.google.maps.GeocoderStatus.OK&&r.updateValueFromPlace(e[0])}))})),(0,p.Z)((0,s.Z)(i),"updateValueFromPlace",(function(e){var t=S.Z.deepGet(e,"geometry.location");if(e.place_id){var r=(0,m.extend)({placeId:e.place_id,lat:t&&t.lat(),lng:t&&t.lng(),fullAddress:e.formatted_address},i.convertMapsAddress(e.address_components));i.props.setValue(r),i.setState({currentLocation:null}),i.props.autoCompleteSelected&&i.props.autoCompleteSelected(r)}})),(0,p.Z)((0,s.Z)(i),"autoCompleteSelected",(function(e){i.geocodeAndUpdate(e);var t={placeId:null,lat:null,lng:null,fullAddress:e,address:e,city:null,postalCode:null,country:null,countryCode:null,state:null};i.props.setValue(t)})),(0,p.Z)((0,s.Z)(i),"onFieldChange",(function(e){var t=(0,m.extend)({},i.props.value,{fullAddress:e,placeId:null});i.props.setValue(t)})),(0,p.Z)((0,s.Z)(i),"onKeyDown",(function(e){var t=i.props.value,r=t&&t.fullAddress&&!t.placeId;if(13===e.keyCode)return r&&!i.state.verifying&&i.verifyLocation(),!1})),(0,p.Z)((0,s.Z)(i),"verifyLocation",(function(e){if(window.google&&S.Z.deepGet(window.google,"maps.Geocoder")){var t=i.searchInput.value,r=new window.google.maps.Geocoder,n=(0,s.Z)(i);e&&(e.preventDefault(),e.stopPropagation()),i.setState({verifying:!0}),r.geocode({address:t},(function(e){e&&e.length&&n.updateValueFromPlace(e[0]),n.setState({verifying:!1})}))}})),(0,p.Z)((0,s.Z)(i),"convertMapsAddress",(function(e){var t={},r=[];return(e=e||[]).forEach((function(e){e.types.forEach((function(r){var i=null;switch(r){case"street_number":case"route":case"postal_code":case"postal_town":case"administrative_area_level_1":i=e.short_name;break;case"locality":case"sublocality":i=e.long_name;break;case"country":i=e.long_name,t.country_short=e.short_name;break;case"subpremise":i="#".concat(e.long_name)}t[r]=i}))})),t.street_number&&r.push(t.street_number),t.route&&r.push(t.route),t.subpremise&&r.push(t.subpremise),{address:r.join(" "),city:t.locality||t.postal_town||t.sublocality,postalCode:t.postal_code,country:t.country,countryCode:t.country_short,state:t.administrative_area_level_1}})),(0,p.Z)((0,s.Z)(i),"assignInputRef",(function(e){i.searchInput=e}));var n=(0,s.Z)(i);if(i.state={verifying:!1,currentLocation:null},i.mapsApiLoaded=!1,e.suggestCurrentLocation&&!O.sk){var a=e.appConfig,l=a&&a.appData&&a.appData.googleMapsKey;window.fetch("https://www.googleapis.com/geolocation/v1/geolocate?key=".concat(l),{method:"POST",data:{considerIp:!0}}).then((function(e){e.json().then((function(e){var t=e.location,r=t.lat,i=t.lng;if(window.google){var o=new window.google.maps.LatLng(r,i);(new window.google.maps.Geocoder).geocode({latLng:o},(function(e,t){if(t===window.google.maps.GeocoderStatus.OK&&e.length){var r=e.find((function(e){return(0,m.includes)(e.types,"locality")}));r&&n.setState({currentLocation:{description:r.formatted_address,placeId:r.place_id}})}}))}}))}))}return i}return(0,a.Z)(r,[{key:"handleMapsApiLoaded",value:function(){var e=this;if(!this.mapsApiLoaded){var t=this.props.latLng;if(t&&!O.sk){if(!window.google)return;var r=(0,i.Z)(window.google.maps.LatLng,(0,n.Z)(t.split(", ").map((function(e){return parseFloat(e)}))));(new window.google.maps.Geocoder).geocode({latLng:r},(function(t,r){if(r===google.maps.GeocoderStatus.OK&&t.length){var i=t.find((function(e){return(0,m.includes)(e.types,"locality")}));i&&e.updateValueFromPlace(i)}}))}this.mapsApiLoaded=!0}}},{key:"render",value:function(){var e,t,r,i=this,n=this.props,o=n.placeholder,a=n.translate,s=n.classes,l=n.MenuWrapper,c=n.MenuWrapperProps,u=n.appConfig,p=n.InputProps,d=void 0===p?{}:p,h=u&&u.appData&&u.appData.googleMapsKey,m=this.props.value,g="",b=m&&m.fullAddress&&!m.placeId,S=m&&m.placeId,C=this.props.errorMessage,Z=f()(this.props.className,{"has-feedback":C,"has-error":C||!this.state.geocoding&&b});m&&(g=m.fullAddress||""),this.props.showErrors&&(C?e=(0,P.jsx)("span",{className:"validation-error",children:C}):b&&this.state.geocoding?e=(0,P.jsx)("div",{className:"top-spacer-xs",children:a("GoogleMapsAutocomplete.actions.geocode--active")}):b&&(r=this.state.verifying?a("GoogleMapsAutocomplete.actions.findMatch--active"):(0,P.jsxs)("span",{children:[(0,P.jsx)("a",{onClick:this.verifyLocation,children:a("Common.clickHere",null,!0).toLowerCase()}),"\xa0",a("GoogleMapsAutocomplete.actions.findMatch")]}),e=(0,P.jsxs)("div",{className:"top-spacer-xs",children:[a("GoogleMapsAutocomplete.errors.unverified"),","," ",r]})),S&&(t=(0,P.jsxs)("span",{className:"text-success-brand",children:[(0,P.jsx)("i",{className:"fa fa-check"}),"\xa0",a("GoogleMapsAutocomplete.field.location--verified")]})));var O=this.state.currentLocation,w=function(e){return e===j.Status.LOADING?(0,P.jsx)("div",{children:"Loading..."}):e===j.Status.FAILURE?(0,P.jsx)("div",{children:"Error loading Google Maps."}):e===j.Status.SUCCESS?(i.handleMapsApiLoaded(),k()):void 0},k=function(){return(0,P.jsx)(x.ZP,L(L({},i.props),{},{value:g,onChange:i.onFieldChange,onSelect:i.autoCompleteSelected,children:function(r){var n=r.getInputProps,u=r.suggestions,p=r.getSuggestionItemProps,h=r.loading,f=u;!u.length&&O&&(f=[O]);return(0,P.jsxs)("div",{children:[(0,P.jsx)(F.Z,L(L({},n({placeholder:a(o,null,!0),label:i.props.label||i.props.title,type:"text",ref:i.assignInputRef,helperText:t||e})),d)),0!==f.length&&function(){var e=(0,P.jsx)(y.Z,{classes:s,children:f.map((function(e){return(0,P.jsx)(v.Z,L(L({},p(e,{})),{},{children:(0,P.jsxs)(I.MI,{direction:"row",alignItems:"center",className:N().nowrap,children:[(0,P.jsx)("i",{className:"fa fa-map-marker"}),(0,P.jsx)("span",{children:e.description})]})}))}))});return(0,P.jsxs)("div",{children:[h&&(0,P.jsx)("div",{children:"Loading..."}),l?(0,P.jsx)(l,L(L({},c),{},{children:e})):e]})}()]})}}))};return(0,P.jsx)("div",{className:Z,children:(0,P.jsx)(j.Wrapper,{apiKey:h,render:w,retries:5,libraries:["places"]})})}}]),r}(d.Component);(0,p.Z)(_,"defaultProps",{label:null,InputProps:{},placeholder:"GoogleMapsAutocomplete.field.location--placeholder",autocompleteTypes:["address"],autoCompleteSelected:void 0,showErrors:!0,suggestCurrentLocation:!1,onChange:function(){},getErrorMessage:function(){},getValue:function(){},value:""}),t.Z=(0,g.qC)(Z.Z,(0,C.Z)(),(0,b.Z)({root:{marginLeft:-16,marginRight:-16,paddingBottom:0}},{name:"GoogleMapsAutocompleteForm"}))(_)},26306:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(17999),n=r(76779),o=(0,i.pd)(n.Z)},20725:function(e,t,r){"use strict";r(67294);var i=r(72555),n=r.n(i),o=r(96486),a=r(94184),s=r.n(a),l=r(83871),c=r(20084),u=r(18783),p=r(17253),d=r(16405),h=r(85893),f=n()({displayName:"PaginationFilterLink",mixins:[u.Z],getDefaultProps:function(){return{baseUrl:"",activeClass:"text-bold",inactiveClass:"link-inherit",overwriteQuery:!0,highlightWhenActive:!1}},filterClicked:function(e,t){var r=1===t.button,i=t.ctrlKey||t.metaKey;r||i||(t.preventDefault(),t.stopPropagation(),this.executeFilter({query:(0,o.extend)({filter:e},this.props.additional)},this.props.overwriteQuery),"function"===typeof this.props.onClick&&this.props.onClick(t,e))},render:function(){var e,t=this.props.filter,r=this.props.fieldName;if(this.props.overwriteQuery)e=l.Z.addToUrl(this.props.baseUrl,(0,o.extend)({filter:JSON.stringify(t)},this.props.additional));else{var i=c.Z.combinePaginationQueries(this.props.query,{filter:this.props.filter}).filter;e=l.Z.addToUrl(this.props.baseUrl,(0,o.extend)({filter:JSON.stringify(i)},this.props.additional))}var n=this.props.query&&this.props.query.filter&&c.Z.isFilterApplied(this.props.query.filter,t,this.props.overwriteQuery);if(!n&&r){var a={};a[r]=t[r],n=this.props.query&&this.props.query.filter&&c.Z.isFilterApplied(this.props.query.filter,a,this.props.overwriteQuery)}var u={};u[this.props.inactiveClass]=!this.props.highlightWhenActive||!n,u[this.props.activeClass]=this.props.highlightWhenActive&&n;var d=s()(u);return(0,h.jsx)(p.rU,{href:e,className:d,onClick:(0,o.partial)(this.filterClicked,t),"data-skiptrap":!0,children:this.props.children})}});t.Z=(0,d.Z)(f)},57059:function(e,t,r){"use strict";r.d(t,{UW:function(){return f},lG:function(){return m}});var i,n=r(59499),o=(r(67294),r(81020)),a=r.n(o),s=r(96486),l=r(79845),c=r(93665),u=r(66548),p=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e,t){return t.find((function(t){var r=t.state,i=t.country===e.country,n=t.country===e.countryCode;return r&&(i||n)}))},m=(a().array.isRequired,a().oneOf(["country","countryWithStates","state"]).isRequired,a().oneOf(["id","code"]),a().object,a().bool,a().string,a().string,a().string,i={valueType:"id",selectedCountry:null,isFormsy:!1,name:null,label:null},(0,n.Z)(i,"valueType","id"),(0,n.Z)(i,"selectedCountry",[]),(0,n.Z)(i,"placeholder",null),i),g=function(e){var t,r=e.regions,i=e.selectedCountry,n=e.type,o=e.valueType,a=e.isFormsy,d=e.name,m=e.label,g=e.placeholder,v=(0,l.Z)().translate,y=a?c.Ph.formsyAdapter:c.Ph;switch(n){case"state":d=d||"state",318===i.id?(m=m||v("RegionSelector.label.state"),g=g||v("RegionSelector.placeholder.state")):(m=m||v("RegionSelector.label.province"),g=g||v("RegionSelector.placeholder.province")),t=function(e){var t=e.state,r=e.region,n=e.country,o=t&&!r,a=!0;return i&&(a=n===i.country||n===u.Z[i.country]),o&&a};break;case"countryWithStates":d=d||"country",m=m||v("RegionSelector.label.country"),g=g||v("RegionSelector.placeholder.country"),t=function(e){var t=e.country,i=e.state,n=e.subRegion;return t&&!i&&!n&&"US"!==t&&f(e,r)};break;default:d=d||"country",m=m||v("RegionSelector.label.country"),g=g||v("RegionSelector.placeholder.country"),t=function(e){var t=e.country,r=e.state,i=e.subRegion;return t&&!r&&!i&&"US"!==t}}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.state,i=e.stateLong,n=e.region,o=e.country;return r||n?r&&n?v("RegionSelector.region.stateRegion",{state:r,region:n}):r?"CA"===o?v("RegionSelector.region.province",{state:i}):t?v("RegionSelector.region.stateCountry",{state:i,country:o}):i:n:o},b=function(e){if("code"===o)switch(n){case"country":case"countryWithStates":return e.countryCode;case"state":return e.state;default:return null}return e.id},x=(0,s.chain)(r).filter(t).sortBy((function(e){var t=e.country;return"US"===t||"United States"===t?"1_".concat(j(e)):"CA"===t||"Canada"===t?"2_".concat(j(e)):"3_".concat(j(e))})).map((function(e){return{value:b(e),label:j(e)}})).value();return(0,p.jsx)(y,h(h({},e),{},{name:d,label:m,placeholder:g,options:x}))};g.defaultProps=m,t.ZP=g},96766:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var i=r(59499),n=(r(67294),r(30262)),o=r(41640),a=r(57059),s=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RegionSelectorQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateLong"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:102,source:{body:"query RegionSelectorQuery {\n\tregions {\n\t\tid\n\t\tcountry\n\t\tcountryCode\n\t\tstate\n\t\tstateLong\n\t\tregion\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},p=c({},a.lG),d=function(e){var t=e.regions,r=(0,o.Z)(u,{skip:!!t}),i=r.loading,l=r.error,p=r.data;return i||l?(0,s.jsx)(n.ZP,{variant:"rectangular",height:"100%"}):(p&&(t=p.regions),(0,s.jsx)(a.ZP,c(c({},e),{},{regions:t})))};d.defaultProps=p;var h=d},55932:function(e){e.exports={nowrap:"nowrap-sggroe0k"}}}]);
//# sourceMappingURL=6291-b746f43cb6e20fdb.js.map