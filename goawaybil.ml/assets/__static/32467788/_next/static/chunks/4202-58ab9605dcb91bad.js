"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4202],{34202:function(e,t,n){var i=n(43393),r=n(96486),s=n(30381),a=n.n(s),u=n(67764),o=n(88866),l=n(74469),g=n(41444),c=n(85302),d=n(83871),h=n(23080),f=n(33241),m=n(96908),p=n(13607),v=n(98821),E=function(e,t,n){var i=[e||""];t&&i.push(t);var s=n;return s&&!(0,r.isArray)(s)&&(s=[s]),s&&s.length&&i.push(s.join("/")),"/".concat(i.join("/"))},b=function(e,t,n,i,r){var s=t||"",a=[];if(i&&a.push(i),r&&a.push(r),e&&n){var u=s.replace(/(tournament\/[^/]+\/)event.*/,"admin/$1");return a.unshift(n),"/".concat(u,"brackets/").concat(a.join("/"))}return E(s,"brackets",a)},_=function(e,t,n,i,s){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;if(e||i&&1===a)return b(e,t,n,i,s);var u={};i&&(u.phaseId=i,u.perPage=Math.min(a,32));var o=(0,r.isEmpty)(u),l=encodeURIComponent(JSON.stringify(u)),g=o?"":"?filter=".concat(l);return"".concat(E(t,"brackets")).concat(g)};t.Z=u.Z.extend({getPlatforms:function(e){var t=this._model.get("platformIds");return t&&e?e.filter((function(e){return t.includes(e.get("id"))})).map((function(e){return e.get("name")})).join(", "):""},getFormat:function(){var e=this._model;return h.Z.getInfo(e.get("type"),e).perEntryName},getFormatName:function(){var e=this._model;return h.Z.getInfo(e.get("type"),e).name},hasHitCap:function(){var e=this._model.get("entryCap"),t=this._model.get("entrantCount");return!!e&&t>=e},getTabUrl:function(e,t){var n=this._model?this._model.get("slug"):null;return E(n,e,t)},getEventPublishing:function(e){return this._model&&this._model.get("publishing")?this._model.get("publishing").get(e):null},isPhaseBracketsPublished:function(e){var t=this.getEventPublishing(p.Z.BRACKETS.key);return!0===t||i.Map.isMap(t)&&!!t.get(e)},isPhaseSeedingPublished:function(e){var t=this.getEventPublishing(p.Z.SEEDING.key);return!0===t||i.Map.isMap(t)&&!!t.get(e)},hasSeedingPublished:function(e){var t=this,n=e;if(n)return i.Iterable.isIterable(n)||("number"!==typeof n&&"string"!==typeof n||(n=[n]),n=(0,i.fromJS)(n)),0===n.size&&(n=null),!!n.find((function(e){return t.isPhaseSeedingPublished(e)}));var r=this.getEventPublishing(p.Z.SEEDING.key);return!0===r||r&&r.some((function(e,t){return e}))},hasPublicDecks:function(){if(this._model&&this._model.get("hasDecks"))return this.getEventPublishing("deck")},isDeckManagementAvailable:function(){var e=this._model.get("deckSubmissionDeadline");return!e||e>(new Date).getTime()/1e3},deckDeadlinePassed:function(){var e=this._model.get("deckSubmissionDeadline");return e&&e<a()().unix()},isTeamManagementAllowed:function(e){var t=this._model.get("teamManagementDeadline");return t?t>(new Date).getTime()/1e3:new c.Z(e).isTeamCreationAllowed()},getSetUrl:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return"";var i=this.getTabUrl(),r=n?"V2":"",s=t?"/".concat(t):"";return"".concat(i,"/set").concat(r,"/").concat(e).concat(s)},getHomeUrl:function(){return this.hasTab("details")?this.getTabUrl("details"):this.getTabUrl("overview")},getBracketsUrl:function(e,t,n){return _(n,this._model.get("slug"),this._model.get("id"),e,t)},getMatchesUrl:function(e,t){var n={};return(e||t)&&(n.filter={},e&&(n.filter.phaseId=e),t&&(n.filter.phaseGroupId=t),n.filter=JSON.stringify(n.filter)),d.Z.addToUrl(this.getTabUrl("matches"),n)},getStandingsUrl:function(e,t,n){var i={};return(e||t)&&(i.filter={},e&&(i.filter.phaseId=e),t&&(i.filter.phaseGroupId=t)),i.filter&&(i.filter=JSON.stringify(i.filter)),d.Z.addToUrl(this.getTabUrl("standings"),i)},getMatchRules:function(){return this._model&&this._model.get("matchRulesMarkdown")||null},getTabs:function(){var e=[],t={details:!0,brackets:!0,matches:!0,standings:!0,stats:!0},n=this._model&&this._model.getIn(["pageConfig","tabs"])||(0,i.Map)(),r=n&&n.filterNot((function(e,n){return t[n]}));if(n.get("standings")&&!this.isTabPublished("standings")||e.push({title:"Standings",path:"standings"}),n.get("stats")&&this.isTabPublished("stats")&&e.push({title:"Stats",path:"stats"}),n&&n.get("details")&&this.isTabPublished("details")){var s=n.get("details").toJS();"details"===s.path&&"Ladder"===s.title&&(s.path="overview",s.title="Overview"),e.unshift(s)}else e.unshift({title:"Overview",path:"overview"});return r&&r.forEach((function(t){this.isTabPublished(t.get("path"))&&("number"===typeof t.get("tabOrder")?e.splice(t.get("tabOrder"),0,t.toJS()):e.push(t.toJS()))}),this),e},isTabPublished:function(e){var t=this._model&&this._model.getIn(["pageConfig","tabs"]),n=t&&t.get(e);return n&&!1!==n.getIn(["config","published"])},hasTab:function(e){var t=this.getTabs();return Boolean((0,r.find)(t,(function(t){return t&&t.path===e})))},hasDashboard:function(){return this.hasTab("dashboard")},getTabConfig:function(e){var t=this._model&&this._model.getIn(["pageConfig","tabs"]);return t&&t.get(e)?t.get(e).get("config"):(0,i.Map)()},getHeaderConfig:function(){return this._model&&this._model.getIn(["pageConfig","header"])||(0,i.Map)()},getStandingConfig:function(){var e=f.Z.EVENT,t=this._model&&this._model.get("id"),n=this.getTabs();return(0,r.each)(n,(function(n){var i=d.Z.deepGet(n,"config.standingContainerType"),r=d.Z.deepGet(n,"config.standingContainerId");r&&i&&(t=r,e=i)})),{containerType:e,containerId:t}},getBaseAdminUrl:function(e,t){var n=this._model.get("slug").replace(/event\/.+$/,""),i="/admin/";return i+="".concat(n+e),t&&(i+="/".concat(t)),i},isTeams:function(){return this._model&&this._model.get("type")===h.Z.TEAMS},isActive:function(){return this._model.get("state")===m.Z.ACTIVE},isComplete:function(){return this._model.get("state")===m.Z.COMPLETED},getEventSize:function(){if(this._model)switch(this._model.get("type")){case h.Z.SINGLES:return 1;case h.Z.DOUBLES:return 2;case h.Z.TEAMS:return this._model.getIn(["teamRosterSize","minPlayers"])}},getDeckNames:function(){var e=[];switch(this._model.get("videogameId")){case o.Z.DUEL_LINKS.id:case o.Z.MASTER_DUEL.id:e=["Main Deck","Deck 2 (Optional)","Extra Deck (Optional)"];break;case o.Z.MTG_ARENA.id:e=["Main Deck","Sideboard Deck"];break;default:e=["Deck 1","Deck 2","Deck 3"]}return e},hasClassSelection:function(){return this._model.get("videogameId")===o.Z.HEARTHSTONE.id}},{getUrlSlug:function(e){return(e&&e.get("slug")||"").split("/").pop()||""},getAdminUrl:function(e,t,n){var i=e.get("slug"),r=c.Z.getAdminUrlWithSlug(i,null,t);return c.Z.appendBreadcrumbs(r,n)},overrideEventsUrl:function(e,t){return t&&e?e.replace(/^\/tournament\/[^/]+/,t):e},filterHiddenEvents:function(e){return e.filter((function(e){return!e.getIn(["publishing","hidden"])}))},getFilteredEvents:function(e,t){var n=t.get(e);if(l.Z.isSupportedGame(n.get("videogameId")))return[e];var i=[];return t.forEach((function(e){l.Z.isSupportedGame(e.get("videogameId"))||i.push(e.get("id"))})),i},splitByTime:function(e,t){var n=t;n||(n=Math.floor(Date.now()/1e3));var r=(0,i.Map)(),s=(0,i.Map)(),a=(0,i.Map)();e.forEach((function(e){var t=e.get("startAt");t?t<n?r=r.set(e.get("id"),e):s=s.set(e.get("id"),e):a=a.set(e.get("id"),e)}));var u={};return s.size&&(u.after=s),r.size&&(u.before=r),a.size&&(u.unknown=a),u},splitByStatusAndDate:function(e){var t=(0,i.Map)(),n=(0,i.Map)(),r=(0,i.Map)(),s=(0,i.Map)();e.forEach((function(e){var i=e.get("state");if((i===m.Z.CREATED||i===m.Z.ACTIVE)&&e.get("startAt")){var u=e.get("startAt");a().unix(u).isBefore(a()().subtract(1,"day"))&&(i=m.Z.COMPLETED)}switch(i){case m.Z.CREATED:t=t.set(e.get("id"),e);break;case m.Z.ACTIVE:r=r.set(e.get("id"),e);break;case m.Z.COMPLETED:n=n.set(e.get("id"),e);break;default:s=s.set(e.get("id"),e)}}));var u=(0,i.OrderedMap)();return r.size&&(u=u.set(m.Z.ACTIVE,r)),t.size&&(u=u.set(m.Z.CREATED,t)),n.size&&(u=u.set(m.Z.COMPLETED,n)),s.size&&(u=u.set("unknown",s)),u},isMultiWeek:function(e){if(!e||e.size<=1)return!1;var t=e.sortBy((function(e){return e.get("startAt")})),n=t.first().get("startAt"),i=t.last().get("startAt");return!(!n||!i||n===i)&&a().unix(n).isBefore(a().unix(i).subtract(1,"week"))},getCheckInTimes:function(e,t,n){if(!e)return null;var i=a().unix(e),r=a().unix(e).subtract(n+t,"seconds");return{roundStart:i,startTime:r,endTime:a().unix(e).subtract(t,"seconds"),preStartTime:a()(r).subtract(24,"hours")}},getBracketsUrl:_,getTabUrl:E,hasDeckSupport:function(e,t){var n=new v.Z(t).getEventSettings(e),i=parseInt(n.get("deckUploadMethod"),10);return e&&e.get("hasDecks")&&i&&i!==g.Z.NONE}})},98821:function(e,t,n){var i=n(67764),r=n(43393),s=n.n(r),a=1,u=2,o=i.Z.extend({getEventSettingsDefaults:function(){return this._model?(this._model.get("eventSettings")||s().Map()).map((function(e){return e.get("defaultValue")})):s().Map()},getEventSettings:function(e){var t=this.getEventSettingsDefaults(),n=e.get("rulesetSettings")||s().Map();return n=n.set("deckSubmissionDeadline",e.get("deckSubmissionDeadline")),t.merge(n)},classSelectionEnabled:function(){return!!this._model&&this._model.getIn(["eventSettings","classSelectionCount"])},getMaxDecks:function(e){if(!e.get("hasDecks"))return 0;var t=this.getEventSettings(e),n=t.get("classSelectionCount");return n?(n=n?parseInt(n,10):1)*(parseInt(t.get("decksPerClass"),10)||1):this._model.get("deckLimit")||1},isFreeForAll:function(){return this._model&&this._model.get("gameMode")===u},isHeadToHead:function(){return this._model&&this._model.get("gameMode")===a}},{getRuleField:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return n.get(e)?n.get(e):t&&t.get(e)?t.get(e):i}});t.Z=o},48769:function(e,t){t.Z={CARD:"CARD",IMAGE:"IMAGE",EXTERNAL_LINK:"EXTERNAL_LINK"}},41444:function(e,t,n){n.d(t,{r:function(){return s}});var i=n(48769),r={NONE:0,IMAGES:1,USER_INPUT:2,EXTERNAL_LINK:3};t.Z=r;var s=function(e){switch(e){case r.USER_INPUT:return i.Z.CARD;case r.EXTERNAL_LINK:return i.Z.EXTERNAL_LINK;case r.IMAGES:return i.Z.IMAGE;default:return null}}}}]);
//# sourceMappingURL=4202-58ab9605dcb91bad.js.map