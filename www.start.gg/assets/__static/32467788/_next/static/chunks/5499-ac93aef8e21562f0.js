"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5499],{80564:function(e,i,n){n.d(i,{Z:function(){return ee}});var t,a=n(92777),r=n(82262),d=n(10748),l=n(81531),o=n(63553),s=n(37247),u=n(59499),m=n(67294),v=n(43393),c=n(94184),p=n.n(c),k=n(11214),f=n(96486),g=n(509),N=n(3248),S=n(30882),y=n(74865),b=n.n(y),h=n(28727),F=n(85893),T=function(){var e=function(){b().done()},i=(0,h.Z)((function(){b().configure({speed:900}),b().set(.6),b().start(),setTimeout((0,f.bind)((0,f.partial)(n,.8)),2e3)}),e,(function(){b().configure({ease:"ease-out",speed:500,trickleRate:.05,trickleSpeed:800,showSpinner:!1})}));function n(e){i.isLoadingRoute&&(b().configure({trickleRate:.02,trickleSpeed:500}),b().set(e))}return(0,m.useEffect)((function(){return function(){return e()}}),[]),(0,F.jsx)("span",{})},O=n(60926),A=n(78147),P=n(81154),Z=n(93658),R=n(33241),j=n(4574),w=n(80499),L=n(25835),D=n.n(L);function E(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function I(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?E(Object(n),!0).forEach((function(i){(0,u.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}var x=(t={},(0,u.Z)(t,R.Z.TOURNAMENT,"tournament_details_1"),(0,u.Z)(t,R.Z.LEAGUE,"leagueDetails_1"),t);function B(){return context.getStore("RouteStore").getNextRouter().isReady}function V(e){var i=e.profileId,n=e.profileType;return"".concat(n,"-").concat(i)}function C(e){return e.getStore("ApplicationStore").getConfig().appEnv===D().PRODUCTION?6:3}function U(e,i){var n,t=i.profileIdentifier,a=void 0===t?{}:t,r=i.topLevelNav,d=i.isEmbeddedRoute,l=i.route;if(B()){var o=a.profileType,s=a.profileSlug;if(o in x){var m,v,c,p=new Z.Z(r),k=r.get("name"),g=r.get("profileId");try{var N=new URL(p.getImage("profile"));m=null===N||void 0===N?void 0:N.pathname.split("/").pop(),v=null===N||void 0===N?void 0:N.searchParams.get("ehk"),c=null===N||void 0===N?void 0:N.searchParams.get("ehkOptimized")}catch(E){}var S=(0,w.ZX)(e),y=P.Z.getAndParseItem(S)||[],b=(0,f.map)(y.pages,(function(e,i){return I(I({},e),{},{order:i})})),h=(0,f.keyBy)(b,V),F=V({profileId:g,profileType:o});if(!function(e,i,n){var t=(0,f.get)(e,i);if(t){var a=t.route.url;return n.url===a}return!1}(h,F,l)){var T=(n={},(0,u.Z)(n,R.Z.TOURNAMENT,(function(){return{slug:s.replace("tournament/","")}})),(0,u.Z)(n,R.Z.LEAGUE,(function(){return{slug:s}})),(0,u.Z)(n,R.Z.PLAYER,(function(){return{}})),n),O=I(I({},a),{},{profileId:g,name:k,icon:m,ehk:v,ehkOptimized:c,route:d?{name:x[o],params:T[o]()}:l,order:-1}),A=(0,f.set)(h,F,O),L=Object.values(A),D={version:w.yH,pages:(0,f.take)((0,f.sortBy)(L,"order"),C(e))};e.dispatch(j.Z.RECENT_PAGES.UPDATED,D)}}}}var M=n(37217),$=n(61722),q=n(25193),_=n(59447),J=n(73134),Q=n(16408),G=n(8129),H=n(37230),W=n(41074);function z(e){var i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=(0,s.Z)(e);if(i){var a=(0,s.Z)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,o.Z)(this,n)}}var X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProfileNavNoRefetchQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"profileType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"profileSlug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isAdmin"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profileNav"},arguments:[{kind:"Argument",name:{kind:"Name",value:"profileType"},value:{kind:"Variable",name:{kind:"Name",value:"profileType"}}},{kind:"Argument",name:{kind:"Name",value:"profileSlug"},value:{kind:"Variable",name:{kind:"Name",value:"profileSlug"}}},{kind:"Argument",name:{kind:"Name",value:"isAdmin"},value:{kind:"Variable",name:{kind:"Name",value:"isAdmin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"profileNavComponent"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"profileNavComponent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProfileNav"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profileId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topFeatures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"navFeatures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"navFeature"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"userFeatures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"navFeatures"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"navFeature"},directives:[]},{kind:"Field",name:{kind:"Name",value:"subItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"navFeature"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"eventDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"events"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"navEventItem"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"navFeature"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProfileNavFeature"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tab"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canEdit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewMore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"navEventItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nextUpcomingPhase"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"winnerEntrant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videogame"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"image"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOriginal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}}],loc:{start:0,end:261,source:{body:'#import "./ProfileNav.fragment.gql"\n\nquery ProfileNavNoRefetchQuery(\n\t$profileType: String!\n\t$profileSlug: String\n\t$isAdmin: Boolean\n) {\n\tprofileNav(\n\t\tprofileType: $profileType\n\t\tprofileSlug: $profileSlug\n\t\tisAdmin: $isAdmin\n\t) {\n\t\t...profileNavComponent\n\t}\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},Y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MobileTopLevelNavQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"profileType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"profileSlug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isAdmin"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topLevelNav"},arguments:[{kind:"Argument",name:{kind:"Name",value:"profileType"},value:{kind:"Variable",name:{kind:"Name",value:"profileType"}}},{kind:"Argument",name:{kind:"Name",value:"profileSlug"},value:{kind:"Variable",name:{kind:"Name",value:"profileSlug"}}},{kind:"Argument",name:{kind:"Name",value:"isAdmin"},value:{kind:"Variable",name:{kind:"Name",value:"isAdmin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profileId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:253,source:{body:"query MobileTopLevelNavQuery(\n\t$profileType: String!\n\t$profileSlug: String\n\t$isAdmin: Boolean\n) {\n\ttopLevelNav(\n\t\tprofileType: $profileType\n\t\tprofileSlug: $profileSlug\n\t\tisAdmin: $isAdmin\n\t) {\n\t\tprofileId\n\t\tname\n\t\timages {\n\t\t\tid\n\t\t\turl\n\t\t\ttype\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},K=function(e){(0,l.Z)(n,e);var i=z(n);function n(e){var t,r;(0,a.Z)(this,n),r=i.call(this,e),(0,u.Z)((0,d.Z)(r),"addRecentPageView",(function(e){var i=e||r.props,n=i.isEmbeddedRoute,t=i.topLevelNav,a=i.routeName,d=i.currentRoute,l=i.routeParams,o=i.isProfileNavLoading,s=i.isMobileTopLevelNavLoading,u=!o&&!s,m=d.get("profileIdentifier"),v=m&&t,c=null===m||void 0===m?void 0:m.get("profileType"),p=c===R.Z.TOURNAMENT||c===R.Z.LEAGUE;if(u&&v&&p){var k={name:a,params:l};i.executeAction(U,{profileIdentifier:m.toJS()||{},topLevelNav:t,isEmbeddedRoute:n,route:k})}}));var l=((null===(t=e.currentRoute.get("profileIdentifier"))||void 0===t?void 0:t.toJS())||{}).isAdmin,o=r.props.getShowSideNavBannerObserver,s=!o||o().value;return r.state={isAdmin:l,showSideNavBanner:s},r}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var e=this,i=this.props.getShowSideNavBannerObserver;i&&(this.subscription=i().subscribe((function(i){return e.setState({showSideNavBanner:i})}))),this.addRecentPageView()}},{key:"componentWillReceiveProps",value:function(e){var i,n,t=(null===(i=this.props.currentRoute.get("profileIdentifier"))||void 0===i?void 0:i.toJS())||{},a=(null===(n=e.currentRoute.get("profileIdentifier"))||void 0===n?void 0:n.toJS())||{};t.profileSlug!==a.profileSlug&&this.setState({isAdmin:a.isAdmin}),this.addRecentPageView(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.getShowSideNavBannerObserver;e&&e().unsubscribe(this.subscription)}},{key:"renderLoadingbar",value:function(){var e,i,n=null!==(e=null===(i=this.props.currentRoute.get("profileIdentifier"))||void 0===i?void 0:i.toJS())&&void 0!==e?e:{},t=n.profileType;return n.isAdmin&&t===R.Z.TOURNAMENT?(0,F.jsx)(T,{}):null}},{key:"render",value:function(){var e,i=this,n=this.props,t=n.isEmbeddedRoute,a=n.shouldRenderHeader,r=n.currentRoute,d=n.currentUser,l=n.topLevelNav,o=n.useDropdownSettings,s=n.isProfileNavLoading,u=n.isMobileTopLevelNavLoading,c=n.translate,k=this.state.showSideNavBanner,f=null===(e=r.get("profileIdentifier"))||void 0===e?void 0:e.toJS();if(!f||t)return(0,F.jsx)("div",{});var g,N=u?null:(l||(0,v.Map)()).get("profileId"),y=p()("profileNavTrack",{tabletUpNavTrack:!0,showSideNavBanner:k}),b=p()("desktopProfileNav",{primaryTab:a});return(0,F.jsxs)(m.Fragment,{children:[this.renderLoadingbar(),(0,F.jsx)("div",{className:b,children:(0,F.jsx)("div",{className:y,children:(0,F.jsx)("div",{className:"profileNavPositionManager",children:(0,F.jsx)("div",{children:(0,F.jsx)("div",{className:"profileNavContainer",role:"navigation","aria-label":c("DesktopProfileNav.navLabel"),children:(0,F.jsx)(G.xu,{height:"100vh",children:(0,F.jsxs)(q.Z,{direction:"vertical",hasHinting:!1,fullWidth:!0,children:[(0,F.jsx)("div",{className:"profileNavBanner isSticky",children:(0,F.jsx)("div",{className:"navBanner",children:(0,F.jsx)(_.Z,{onClickToggle:function(e){return i.setState({isAdmin:e})},isAdmin:this.state.isAdmin,profileId:N,profileSlug:f.profileSlug,profileType:f.profileType,isDesktopNav:!0,showSideNavBanner:k,useDropdownSettings:o})})}),(0,F.jsx)(S.Z,{shouldBeginFade:(g=!1,function(e,i){return e.profileSlug!==i.profileSlug||e.profileType!==i.profileType||Boolean(e.isAdmin)!==Boolean(i.isAdmin)&&!g}),props:{},children:function(e){return(0,F.jsx)(M.Z,{isLoading:s,currentUser:d,currentRoute:r,isAdmin:i.state.isAdmin,profileSlug:f.profileSlug,profileType:f.profileType,viewAllTTDUrl:"/admin/".concat(f.profileSlug,"/dashboard")})}})]})})})})})})})]})}}]),n}(m.Component),ee=(0,k.qC)((0,W.Z)(),$.Z,O.Z,A.Z,(0,f.curryRight)(N.Z)([],(function(e,i){var n=i.currentRoute.toJS();return{isEmbeddedRoute:n.isEmbed,shouldRenderHeader:n.shouldRenderHeader,routeName:n&&n.name,routeParams:n&&n.params,profileIdentifier:n&&n.getProfileIdentifier&&n.getProfileIdentifier(n.params)}})),(0,J.Z)((function(e){return e.profileIdentifier})),(0,Q.Z)((function(e){return e.profileIdentifier})),(0,H.Z)((function(e){var i=e.apollo;return{isProfileNavLoading:g.Z.isLoading(i,X),isMobileTopLevelNavLoading:g.Z.isLoading(i,Y)}})))(K)},7199:function(e,i,n){var t=n(59499),a=n(67294),r=n(98668);function d(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?d(Object(n),!0).forEach((function(i){(0,t.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}i.Z=function(e){return a.createElement(r.Z,l(l({},e),{},{showProfileNav:!0}))}},509:function(e,i){var n=function(e,i){var n;return!(null!==e&&void 0!==e&&null!==(n=e.forOperation)&&void 0!==n&&n.call(e,i))};i.Z={wasQuerySkipped:n,isLoading:function(e,i){var t,a;return n(e,i)||(null===e||void 0===e||null===(t=e.forOperation)||void 0===t||null===(a=t.call(e,i))||void 0===a?void 0:a.loading)},isInitialLoad:function(e,i){var t,a;return n(e,i)||(null===e||void 0===e||null===(t=e.forOperation)||void 0===t||null===(a=t.call(e,i))||void 0===a?void 0:a.isInitialLoad)},anyLoading:function(e){return!e||e.anyLoading}}}}]);
//# sourceMappingURL=5499-ac93aef8e21562f0.js.map