(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764],{17331:function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"===typeof e}function n(e){return"object"===typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,a,s,c,o,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i(a=this._events[e]))return!1;if(r(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:c=Array.prototype.slice.call(arguments,1),a.apply(this,c)}else if(n(a))for(c=Array.prototype.slice.call(arguments,1),s=(u=a.slice()).length,o=0;o<s;o++)u[o].apply(this,c);return!0},t.prototype.addListener=function(e,a){var s;if(!r(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(a.listener)?a.listener:a),this._events[e]?n(this._events[e])?this._events[e].push(a):this._events[e]=[this._events[e],a]:this._events[e]=a,n(this._events[e])&&!this._events[e].warned&&(s=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,a,s,c;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(i=this._events[e]).length,a=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(i)){for(c=s;c-- >0;)if(i[c]===t||i[c].listener&&i[c].listener===t){a=c;break}if(a<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},8131:function(e,t,r){"use strict";var n=r(49374),i=r(17775),a=r(23076);function s(e,t,r){return new n(e,t,r)}s.version=r(24336),s.AlgoliaSearchHelper=n,s.SearchParameters=i,s.SearchResults=a,e.exports=s},68078:function(e,t,r){"use strict";var n=r(17331);function i(e,t){this.main=e,this.fn=t,this.lastResults=null}r(14853)(i,n),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},e.exports=i},82437:function(e,t,r){"use strict";var n=r(52344),i=r(49803),a=r(71444),s={addRefinement:function(e,t,r){if(s.isRefined(e,t,r))return e;var i=""+r,a=e[t]?e[t].concat(i):[i],c={};return c[t]=a,n({},c,e)},removeRefinement:function(e,t,r){if(void 0===r)return s.clearRefinement(e,(function(e,r){return t===r}));var n=""+r;return s.clearRefinement(e,(function(e,r){return t===r&&n===e}))},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return s.isRefined(e,t,r)?s.removeRefinement(e,t,r):s.addRefinement(e,t,r)},clearRefinement:function(e,t,r){if(void 0===t)return a(e)?{}:e;if("string"===typeof t)return i(e,[t]);if("function"===typeof t){var n=!1,s=Object.keys(e).reduce((function(i,a){var s=e[a]||[],c=s.filter((function(e){return!t(e,a,r)}));return c.length!==s.length&&(n=!0),i[a]=c,i}),{});return n?s:e}},isRefined:function(e,t,r){var n=!!e[t]&&e[t].length>0;if(void 0===r||!n)return n;var i=""+r;return-1!==e[t].indexOf(i)}};e.exports=s},17775:function(e,t,r){"use strict";var n=r(60185),i=r(52344),a=r(22686),s=r(7888),c=r(28023),o=r(49803),u=r(71444),h=r(46801),f=r(82437);function l(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,r){return l(t[r],e)})):e===t}function d(e){var t=e?d._parseNumbers(e):{};void 0===t.userToken||h(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var r=this;Object.keys(t).forEach((function(e){var n=-1!==d.PARAMETERS.indexOf(e),i=void 0!==t[e];!n&&i&&(r[e]=t[e])}))}d.PARAMETERS=Object.keys(new d),d._parseNumbers=function(e){if(e instanceof d)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(r){var n=e[r];if("string"===typeof n){var i=parseFloat(n);t[r]=isNaN(i)?n:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach((function(t){var n=e.numericRefinements[t]||{};r[t]={},Object.keys(n).forEach((function(e){var i=n[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"===typeof e?parseFloat(e):e})):"string"===typeof e?parseFloat(e):e}));r[t][e]=i}))})),t.numericRefinements=r}return n({},e,t)},d.make=function(e){var t=new d(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var r=t.getHierarchicalRefinement(e.name);r.length>0&&0!==r[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(r=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},d.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&u(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):u(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},d.prototype={constructor:d,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:f.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:f.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:f.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:f.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var i=c(r);if(this.isNumericRefined(e,t,i))return this;var a=n({},this.numericRefinements);return a[e]=n({},a[e]),a[e][t]?(a[e][t]=a[e][t].slice(),a[e][t].push(i)):a[e][t]=[i],this.setQueryParameters({numericRefinements:a})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,r){return void 0!==r?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,i){return i===e&&n.op===t&&l(n.val,c(r))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,n){return n===e&&r.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,r){return r===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return u(this.numericRefinements)?{}:this.numericRefinements;if("string"===typeof e)return o(this.numericRefinements,[e]);if("function"===typeof e){var t=!1,r=this.numericRefinements,n=Object.keys(r).reduce((function(n,i){var a=r[i],s={};return a=a||{},Object.keys(a).forEach((function(r){var n=a[r]||[],c=[];n.forEach((function(t){e({val:t,op:r},i,"numeric")||c.push(t)})),c.length!==n.length&&(t=!0),s[r]=c})),n[i]=s,n}),{});return t?n:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:f.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:f.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return f.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:f.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:f.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:f.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return f.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:f.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:f.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:f.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:f.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:i({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&f.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&f.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&f.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return t?-1!==r.indexOf(t):r.length>0},isNumericRefined:function(e,t,r){if(void 0===r&&void 0===t)return!!this.numericRefinements[e];var n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===r||!n)return n;var i,a,o=c(r),u=void 0!==(i=this.numericRefinements[e][t],a=o,s(i,(function(e){return l(e,a)})));return n&&u},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=a(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return a(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0})))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},r=this;return Object.keys(this).forEach((function(n){var i=r[n];-1===e.indexOf(n)&&void 0!==i&&(t[n]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var t=d.validate(this,e);if(t)throw t;var r=this,n=d._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=r[t],e}),{}),a=Object.keys(n).reduce((function(e,t){var r=void 0!==e[t],i=void 0!==n[t];return r&&!i?o(e,[t]):(i&&(e[t]=n[t]),e)}),i);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!==typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return s(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(r).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}},e.exports=d},10210:function(e,t,r){"use strict";e.exports=function(e){return function(t,r){var s=e.hierarchicalFacets[r],u=e.hierarchicalFacetsRefinements[s.name]&&e.hierarchicalFacetsRefinements[s.name][0]||"",h=e._getHierarchicalFacetSeparator(s),f=e._getHierarchicalRootPath(s),l=e._getHierarchicalShowParentLevel(s),d=a(e._getHierarchicalFacetSortBy(s)),p=t.every((function(e){return e.exhaustive})),m=function(e,t,r,a,s){return function(u,h,f){var l=u;if(f>0){var d=0;for(l=u;d<f;){var p=l&&Array.isArray(l.data)?l.data:[];l=i(p,(function(e){return e.isRefined})),d++}}if(l){var m=Object.keys(h.data).map((function(e){return[e,h.data[e]]})).filter((function(e){return function(e,t,r,n,i,a){if(i&&(0!==e.indexOf(i)||i===e))return!1;return!i&&-1===e.indexOf(n)||i&&e.split(n).length-i.split(n).length===1||-1===e.indexOf(n)&&-1===r.indexOf(n)||0===r.indexOf(e)||0===e.indexOf(t+n)&&(a||0===e.indexOf(r))}(e[0],l.path||r,s,t,r,a)}));l.data=n(m.map((function(e){var r=e[0];return function(e,t,r,n,i){var a=t.split(r);return{name:a[a.length-1].trim(),path:t,escapedValue:c(t),count:e,isRefined:n===t||0===n.indexOf(t+r),exhaustive:i,data:null}}(e[1],r,t,o(s),h.exhaustive)})),e[0],e[1])}return u}}(d,h,f,l,u),g=t;return f&&(g=t.slice(f.split(h).length)),g.reduce(m,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:p,data:null})}};var n=r(42148),i=r(7888),a=r(82293),s=r(94039),c=s.escapeFacetValue,o=s.unescapeFacetValue},23076:function(e,t,r){"use strict";var n=r(60185),i=r(52344),a=r(42148),s=r(74587),c=r(7888),o=r(69725),u=r(82293),h=r(94039),f=h.escapeFacetValue,l=h.unescapeFacetValue,d=r(10210);function p(e){var t={};return e.forEach((function(e,r){t[e]=r})),t}function m(e,t,r){t&&t[r]&&(e.stats=t[r])}function g(e,t,r){var a=t[0];this._rawResults=t;var u=this;Object.keys(a).forEach((function(e){u[e]=a[e]})),Object.keys(r||{}).forEach((function(e){u[e]=r[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var h=e.getRefinedDisjunctiveFacets(),f=p(e.facets),g=p(e.disjunctiveFacets),v=1,y=a.facets||{};Object.keys(y).forEach((function(t){var r,n,i=y[t],s=(r=e.hierarchicalFacets,n=t,c(r,(function(e){return(e.attributes||[]).indexOf(n)>-1})));if(s){var h=s.attributes.indexOf(t),l=o(e.hierarchicalFacets,(function(e){return e.name===s.name}));u.hierarchicalFacets[l][h]={attribute:t,data:i,exhaustive:a.exhaustiveFacetsCount}}else{var d,p=-1!==e.disjunctiveFacets.indexOf(t),v=-1!==e.facets.indexOf(t);p&&(d=g[t],u.disjunctiveFacets[d]={name:t,data:i,exhaustive:a.exhaustiveFacetsCount},m(u.disjunctiveFacets[d],a.facets_stats,t)),v&&(d=f[t],u.facets[d]={name:t,data:i,exhaustive:a.exhaustiveFacetsCount},m(u.facets[d],a.facets_stats,t))}})),this.hierarchicalFacets=s(this.hierarchicalFacets),h.forEach((function(r){var s=t[v],c=s&&s.facets?s.facets:{},h=e.getHierarchicalFacetByName(r);Object.keys(c).forEach((function(t){var r,f=c[t];if(h){r=o(e.hierarchicalFacets,(function(e){return e.name===h.name}));var d=o(u.hierarchicalFacets[r],(function(e){return e.attribute===t}));if(-1===d)return;u.hierarchicalFacets[r][d].data=n({},u.hierarchicalFacets[r][d].data,f)}else{r=g[t];var p=a.facets&&a.facets[t]||{};u.disjunctiveFacets[r]={name:t,data:i({},f,p),exhaustive:s.exhaustiveFacetsCount},m(u.disjunctiveFacets[r],s.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(n){!u.disjunctiveFacets[r].data[n]&&e.disjunctiveFacetsRefinements[t].indexOf(l(n))>-1&&(u.disjunctiveFacets[r].data[n]=0)}))}})),v++})),e.getRefinedHierarchicalFacets().forEach((function(r){var n=e.getHierarchicalFacetByName(r),a=e._getHierarchicalFacetSeparator(n),s=e.getHierarchicalRefinement(r);0===s.length||s[0].split(a).length<2||t.slice(v).forEach((function(t){var r=t&&t.facets?t.facets:{};Object.keys(r).forEach((function(t){var c=r[t],h=o(e.hierarchicalFacets,(function(e){return e.name===n.name})),f=o(u.hierarchicalFacets[h],(function(e){return e.attribute===t}));if(-1!==f){var l={};if(s.length>0){var d=s[0].split(a)[0];l[d]=u.hierarchicalFacets[h][f].data[d]}u.hierarchicalFacets[h][f].data=i(l,c,u.hierarchicalFacets[h][f].data)}})),v++}))})),Object.keys(e.facetsExcludes).forEach((function(t){var r=e.facetsExcludes[t],n=f[t];u.facets[n]={name:t,data:a.facets[t],exhaustive:a.exhaustiveFacetsCount},r.forEach((function(e){u.facets[n]=u.facets[n]||{name:t},u.facets[n].data=u.facets[n].data||{},u.facets[n].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(d(e)),this.facets=s(this.facets),this.disjunctiveFacets=s(this.disjunctiveFacets),this._state=e}function v(e,t,r,n){if(n=n||0,Array.isArray(t))return e(t,r[n]);if(!t.data||0===t.data.length)return t;var a=t.data.map((function(t){return v(e,t,r,n+1)})),s=e(a,r[n]);return i({data:s},t)}function y(e,t){var r=c(e,(function(e){return e.name===t}));return r&&r.stats}function R(e,t,r,n,i){var a=c(i,(function(e){return e.name===r})),s=a&&a.data&&a.data[n]?a.data[n]:0,o=a&&a.exhaustive||!1;return{type:t,attributeName:r,name:n,count:s,exhaustive:o}}g.prototype.getFacetByName=function(e){function t(t){return t.name===e}return c(this.facets,t)||c(this.disjunctiveFacets,t)||c(this.hierarchicalFacets,t)},g.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],g.prototype.getFacetValues=function(e,t){var r=function(e,t){function r(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var n=c(e.facets,r);return n?Object.keys(n.data).map((function(r){var i=f(r);return{name:r,escapedValue:i,count:n.data[r],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,r)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=c(e.disjunctiveFacets,r);return i?Object.keys(i.data).map((function(r){var n=f(r);return{name:r,escapedValue:n,count:i.data[r],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}})):[]}if(e._state.isHierarchicalFacet(t))return c(e.hierarchicalFacets,r)}(this,e);if(r){var n,s=i({},t,{sortBy:g.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),o=this;if(Array.isArray(r))n=[e];else n=o._state.getHierarchicalFacetByName(r.name).attributes;return v((function(e,t){if(s.facetOrdering){var r=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(o,t);if(Boolean(r))return function(e,t){var r=[],n=[],i=(t.order||[]).reduce((function(e,t,r){return e[t]=r,e}),{});e.forEach((function(e){var t=e.path||e.name;void 0!==i[t]?r[i[t]]=e:n.push(e)})),r=r.filter((function(e){return e}));var s,c=t.sortRemainingBy;return"hidden"===c?r:(s="alpha"===c?[["path","name"],["asc","asc"]]:[["count"],["desc"]],r.concat(a(n,s[0],s[1])))}(e,r)}if(Array.isArray(s.sortBy)){var n=u(s.sortBy,g.DEFAULT_SORT);return a(e,n[0],n[1])}if("function"===typeof s.sortBy)return function(e,t){return t.sort(e)}(s.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),r,n)}},g.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?y(this.facets,e):this._state.isDisjunctiveFacet(e)?y(this.disjunctiveFacets,e):void 0},g.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach((function(n){e.facetsRefinements[n].forEach((function(i){r.push(R(e,"facet",n,i,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(n){e.facetsExcludes[n].forEach((function(i){r.push(R(e,"exclude",n,i,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(n){e.disjunctiveFacetsRefinements[n].forEach((function(i){r.push(R(e,"disjunctive",n,i,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(n){e.hierarchicalFacetsRefinements[n].forEach((function(i){r.push(function(e,t,r,n){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),s=r.split(a),o=c(n,(function(e){return e.name===t})),u=s.reduce((function(e,t){var r=e&&c(e.data,(function(e){return e.name===t}));return void 0!==r?r:e}),o),h=u&&u.count||0,f=u&&u.exhaustive||!1,l=u&&u.path||"";return{type:"hierarchical",attributeName:t,name:l,count:h,exhaustive:f}}(e,n,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var n=e.numericRefinements[t];Object.keys(n).forEach((function(e){n[e].forEach((function(n){r.push({type:"numeric",attributeName:t,name:n,numericValue:n,operator:e})}))}))})),e.tagRefinements.forEach((function(e){r.push({type:"tag",attributeName:"_tags",name:e})})),r},e.exports=g},49374:function(e,t,r){"use strict";var n=r(17775),i=r(23076),a=r(68078),s=r(96394),c=r(17331),o=r(14853),u=r(71444),h=r(49803),f=r(60185),l=r(24336),d=r(94039).escapeFacetValue;function p(e,t,r){"function"===typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+l+")"),this.setClient(e);var i=r||{};i.index=t,this.state=n.make(i),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function m(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function g(){return this.state.page}o(p,c),p.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},p.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},p.prototype.getQuery=function(){var e=this.state;return s._getHitsSearchParams(e)},p.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=s._getQueries(r.index,r),a=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(n).then((function(e){return a._currentNbQueries--,0===a._currentNbQueries&&a.emit("searchQueueEmpty"),{content:new i(r,e.results),state:r,_originalResponse:e}}),(function(e){throw a._currentNbQueries--,0===a._currentNbQueries&&a.emit("searchQueueEmpty"),e}));this.client.search(n).then((function(e){a._currentNbQueries--,0===a._currentNbQueries&&a.emit("searchQueueEmpty"),t(null,new i(r,e.results),r)})).catch((function(e){a._currentNbQueries--,0===a._currentNbQueries&&a.emit("searchQueueEmpty"),t(e,null,r)}))},p.prototype.findAnswers=function(e){var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=f({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:h(s._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!==typeof this.client.initIndex)throw new Error(a);var c=this.client.initIndex(n.index);if("function"!==typeof c.findAnswers)throw new Error(a);return c.findAnswers(n.query,e.queryLanguages,i)},p.prototype.searchForFacetValues=function(e,t,r,n){var i="function"===typeof this.client.searchForFacetValues,a="function"===typeof this.client.initIndex;if(!i&&!a&&"function"!==typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var c=this.state.setQueryParameters(n||{}),o=c.isDisjunctiveFacet(e),u=s.getSearchForFacetQuery(e,t,r,c);this._currentNbQueries++;var h,f=this;return i?h=this.client.searchForFacetValues([{indexName:c.index,params:u}]):a?h=this.client.initIndex(c.index).searchForFacetValues(u):(delete u.facetName,h=this.client.search([{type:"facet",facet:e,indexName:c.index,params:u}]).then((function(e){return e.results[0]}))),this.emit("searchForFacetValues",{state:c,facet:e,query:t}),h.then((function(t){return f._currentNbQueries--,0===f._currentNbQueries&&f.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.escapedValue=d(t.value),t.isRefined=o?c.isDisjunctiveFacetRefined(e,t.escapedValue):c.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw f._currentNbQueries--,0===f._currentNbQueries&&f.emit("searchQueueEmpty"),e}))},p.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},p.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},p.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},p.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},p.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},p.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},p.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},p.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},p.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},p.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},p.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},p.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},p.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},p.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},p.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},p.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},p.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},p.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},p.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},p.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},p.prototype.setCurrentPage=m,p.prototype.setPage=m,p.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},p.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},p.prototype.setState=function(e){return this._change({state:n.make(e),isPageReset:!1}),this},p.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new n(e),this},p.prototype.hasRefinements=function(e){return!!u(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},p.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},p.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},p.prototype.hasTag=function(e){return this.state.isTagRefined(e)},p.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},p.prototype.getIndex=function(){return this.state.index},p.prototype.getCurrentPage=g,p.prototype.getPage=g,p.prototype.getTags=function(){return this.state.tagRefinements},p.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}))}var r=this.state.getNumericRefinements(e);return Object.keys(r).forEach((function(e){var n=r[e];t.push({value:n,operator:e,type:"numeric"})})),t},p.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},p.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},p.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=s._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var n=e.getModifiedState(t),i=s._getQueries(n.index,n);return r.push({state:n,queriesCount:i.length,helper:e}),e.emit("search",{state:n,results:e.lastResults}),i})),a=Array.prototype.concat.apply(n,i),c=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,c)).catch(this._dispatchAlgoliaError.bind(this,c))}catch(o){this.emit("error",{error:o})}},p.prototype._dispatchAlgoliaResponse=function(e,t,r){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var n=r.results.slice();e.forEach((function(e){var t=e.state,r=e.queriesCount,a=e.helper,s=n.splice(0,r),c=a.lastResults=new i(t,s);a.emit("result",{results:c,state:t})}))}},p.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},p.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},p.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},p.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))},p.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},p.prototype.setClient=function(e){return this.client===e||("function"===typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+l+")"),this.client=e),this},p.prototype.getClient=function(){return this.client},p.prototype.derive=function(e){var t=new a(this,e);return this.derivedHelpers.push(t),t},p.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},p.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},e.exports=p},74587:function(e){"use strict";e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},52344:function(e){"use strict";e.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(r){void 0!==t[r]&&(void 0!==e[r]&&delete e[r],e[r]=t[r])})),e}),{})}},94039:function(e){"use strict";e.exports={escapeFacetValue:function(e){return"string"!==typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!==typeof e?e:e.replace(/^\\-/,"-")}}},7888:function(e){"use strict";e.exports=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}},69725:function(e){"use strict";e.exports=function(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}},82293:function(e,t,r){"use strict";var n=r(7888);e.exports=function(e,t){var r=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var i=t.split(":"),a=n(r,(function(e){return e[0]===i[0]}));return i.length>1||!a?(e[0].push(i[0]),e[1].push(i[1]),e):(e[0].push(a[0]),e[1].push(a[1]),e)}),[[],[]])}},14853:function(e){"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},22686:function(e){"use strict";e.exports=function(e,t){return e.filter((function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n}))}},60185:function(e){"use strict";function t(e){return"function"===typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function r(e,n){if(e===n)return e;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&"__proto__"!==i){var a=n[i],s=e[i];"undefined"!==typeof s&&"undefined"===typeof a||(t(s)&&t(a)?e[i]=r(s,a):e[i]="object"===typeof(c=a)&&null!==c?r(Array.isArray(c)?[]:{},c):c)}var c;return e}e.exports=function(e){t(e)||(e={});for(var n=1,i=arguments.length;n<i;n++){var a=arguments[n];t(a)&&r(e,a)}return e}},71444:function(e){"use strict";e.exports=function(e){return e&&Object.keys(e).length>0}},49803:function(e){"use strict";e.exports=function(e,t){if(null===e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},42148:function(e){"use strict";function t(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,a=null===t;if(!a&&e>t||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}e.exports=function(e,r,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var i=e.map((function(e,t){return{criteria:r.map((function(t){return e[t]})),index:t,value:e}}));return i.sort((function(e,r){for(var i=-1;++i<e.criteria.length;){var a=t(e.criteria[i],r.criteria[i]);if(a)return i>=n.length?a:"desc"===n[i]?-a:a}return e.index-r.index})),i.map((function(e){return e.value}))}},28023:function(e){"use strict";e.exports=function e(t){if("number"===typeof t)return t;if("string"===typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},96394:function(e,t,r){"use strict";var n=r(60185);function i(e){return Object.keys(e).sort((function(e,t){return e.localeCompare(t)})).reduce((function(t,r){return t[r]=e[r],t}),{})}var a={_getQueries:function(e,t){var r=[];return r.push({indexName:e,params:a._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(n){r.push({indexName:e,params:a._getDisjunctiveFacetSearchParams(t,n)})})),t.getRefinedHierarchicalFacets().forEach((function(n){var i=t.getHierarchicalFacetByName(n),s=t.getHierarchicalRefinement(n),c=t._getHierarchicalFacetSeparator(i);if(s.length>0&&s[0].split(c).length>1){var o=s[0].split(c).slice(0,-1).reduce((function(e,t,r){return e.concat({attribute:i.attributes[r],value:0===r?t:[e[e.length-1].value,t].join(c)})}),[]);o.forEach((function(n,s){var c=a._getDisjunctiveFacetSearchParams(t,n.attribute,0===s);function u(e){return i.attributes.some((function(t){return t===e.split(":")[0]}))}var h=(c.facetFilters||[]).reduce((function(e,t){if(Array.isArray(t)){var r=t.filter((function(e){return!u(e)}));r.length>0&&e.push(r)}return"string"!==typeof t||u(t)||e.push(t),e}),[]),f=o[s-1];c.facetFilters=s>0?h.concat(f.attribute+":"+f.value):h.length>0?h:void 0,r.push({indexName:e,params:c})}))}})),r},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(a._getHitsHierarchicalFacetsAttributes(e)),r=a._getFacetFilters(e),s=a._getNumericFilters(e),c=a._getTagFilters(e),o={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:c};return r.length>0&&(o.facetFilters=r),s.length>0&&(o.numericFilters=s),i(n({},e.getQueryParams(),o))},_getDisjunctiveFacetSearchParams:function(e,t,r){var s=a._getFacetFilters(e,t,r),c=a._getNumericFilters(e,t),o=a._getTagFilters(e),u={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};o.length>0&&(u.tagFilters=o);var h=e.getHierarchicalFacetByName(t);return u.facets=h?a._getDisjunctiveHierarchicalFacetAttribute(e,h,r):t,c.length>0&&(u.numericFilters=c),s.length>0&&(u.facetFilters=s),i(n({},e.getQueryParams(),u))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach((function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach((function(e){var a=i[e]||[];t!==n&&a.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return n+e+t}));r.push(i)}else r.push(n+e+t)}))}))})),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).forEach((function(e){(i[e]||[]).forEach((function(t){n.push(e+":"+t)}))}));var a=e.facetsExcludes||{};Object.keys(a).forEach((function(e){(a[e]||[]).forEach((function(t){n.push(e+":-"+t)}))}));var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).forEach((function(e){var r=s[e]||[];if(e!==t&&r&&0!==r.length){var i=[];r.forEach((function(t){i.push(e+":"+t)})),n.push(i)}}));var c=e.hierarchicalFacetsRefinements||{};return Object.keys(c).forEach((function(i){var a=(c[i]||[])[0];if(void 0!==a){var s,o,u=e.getHierarchicalFacetByName(i),h=e._getHierarchicalFacetSeparator(u),f=e._getHierarchicalRootPath(u);if(t===i){if(-1===a.indexOf(h)||!f&&!0===r||f&&f.split(h).length===a.split(h).length)return;f?(o=f.split(h).length-1,a=f):(o=a.split(h).length-2,a=a.slice(0,a.lastIndexOf(h))),s=u.attributes[o]}else o=a.split(h).length-1,s=u.attributes[o];s&&n.push([s+":"+a])}})),n},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,r){var n=e.getHierarchicalRefinement(r.name)[0];if(!n)return t.push(r.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(r),a=n.split(i).length,s=r.attributes.slice(0,a+1);return t.concat(s)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var s=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,s+1)},getSearchForFacetQuery:function(e,t,r,s){var c=s.isDisjunctiveFacet(e)?s.clearRefinements(e):s,o={facetQuery:t,facetName:e};return"number"===typeof r&&(o.maxFacetHits=r),i(n({},a._getHitsSearchParams(c),o))}};e.exports=a},46801:function(e){"use strict";e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},24336:function(e){"use strict";e.exports="3.11.1"},51580:function(e,t,r){var n=r(34155);e.exports=u;var i=r(23733),a=r(93753),s=r(99437),c=r(44475),o=n.env.RESET_APP_DATA_TIMER&&parseInt(n.env.RESET_APP_DATA_TIMER,10)||12e4;function u(e,t,n){var a=r(11227)("algoliasearch"),s=r(82882),c=r(5826),o=r(37164),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==n._allowEmptyCredentials&&!e)throw new i.AlgoliaSearchError("Please provide an application ID. "+u);if(!0!==n._allowEmptyCredentials&&!t)throw new i.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=e,this.apiKey=t,this.hosts={read:[],write:[]},n=n||{},this._timeouts=n.timeouts||{connect:1e3,read:2e3,write:3e4},n.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=n.timeout);var f=n.protocol||"https:";if(/:$/.test(f)||(f+=":"),"http:"!==f&&"https:"!==f)throw new i.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+n.protocol+"`)");if(this._checkAppIdData(),n.hosts)c(n.hosts)?(this.hosts.read=s(n.hosts),this.hosts.write=s(n.hosts)):(this.hosts.read=s(n.hosts.read),this.hosts.write=s(n.hosts.write));else{var l=o(this._shuffleResult,(function(t){return e+"-"+t+".algolianet.com"})),d=(!1===n.dsn?"":"-dsn")+".algolia.net";this.hosts.read=[this.applicationID+d].concat(l),this.hosts.write=[this.applicationID+".algolia.net"].concat(l)}this.hosts.read=o(this.hosts.read,h(f)),this.hosts.write=o(this.hosts.write,h(f)),this.extraHeaders={},this.cache=n._cache||{},this._ua=n._ua,this._useCache=!(void 0!==n._useCache&&!n._cache)||n._useCache,this._useRequestCache=this._useCache&&n._useRequestCache,this._useFallback=void 0===n.useFallback||n.useFallback,this._setTimeout=n._setTimeout,a("init done, %j",this)}function h(e){return function(t){return e+"//"+t.toLowerCase()}}function f(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var r=JSON.stringify(e);return Array.prototype.toJSON=t,r}function l(e){var t={};for(var r in e){var n;if(Object.prototype.hasOwnProperty.call(e,r))n="x-algolia-api-key"===r||"x-algolia-application-id"===r?"**hidden for security purposes**":e[r],t[r]=n}return t}u.prototype.initIndex=function(e){return new s(this,e)},u.prototype.setExtraHeader=function(e,t){this.extraHeaders[e.toLowerCase()]=t},u.prototype.getExtraHeader=function(e){return this.extraHeaders[e.toLowerCase()]},u.prototype.unsetExtraHeader=function(e){delete this.extraHeaders[e.toLowerCase()]},u.prototype.addAlgoliaAgent=function(e){var t="; "+e;-1===this._ua.indexOf(t)&&(this._ua+=t)},u.prototype._jsonRequest=function(e){this._checkAppIdData();var t,n,s,c=r(11227)("algoliasearch:"+e.url),o=e.additionalUA||"",u=e.cache,h=this,d=0,p=!1,m=h._useFallback&&h._request.fallback&&e.fallback;this.apiKey.length>500&&void 0!==e.body&&(void 0!==e.body.params||void 0!==e.body.requests)?(e.body.apiKey=this.apiKey,s=this._computeRequestHeaders({additionalUA:o,withApiKey:!1,headers:e.headers})):s=this._computeRequestHeaders({additionalUA:o,headers:e.headers}),void 0!==e.body&&(t=f(e.body)),c("request start");var g=[];function v(e,t,r){return h._useCache&&e&&t&&void 0!==t[r]}function y(t,r){if(v(h._useRequestCache,u,n)&&t.catch((function(){delete u[n]})),"function"!==typeof e.callback)return t.then(r);t.then((function(t){a((function(){e.callback(null,r(t))}),h._setTimeout||setTimeout)}),(function(t){a((function(){e.callback(t)}),h._setTimeout||setTimeout)}))}if(h._useCache&&h._useRequestCache&&(n=e.url),h._useCache&&h._useRequestCache&&t&&(n+="_body_"+t),v(h._useRequestCache,u,n)){c("serving request from cache");var R=u[n];return y("function"!==typeof R.then?h._promise.resolve({responseText:R}):R,(function(e){return JSON.parse(e.responseText)}))}var b=function r(a,y){h._checkAppIdData();var R=new Date;if(h._useCache&&!h._useRequestCache&&(n=e.url),h._useCache&&!h._useRequestCache&&t&&(n+="_body_"+y.body),v(!h._useRequestCache,u,n)){c("serving response from cache");var b=u[n];return h._promise.resolve({body:JSON.parse(b),responseText:b})}if(d>=h.hosts[e.hostType].length)return!m||p?(c("could not get any response"),h._promise.reject(new i.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+h.applicationID,{debugData:g}))):(c("switching to fallback"),d=0,y.method=e.fallback.method,y.url=e.fallback.url,y.jsonBody=e.fallback.body,y.jsonBody&&(y.body=f(y.jsonBody)),s=h._computeRequestHeaders({additionalUA:o,headers:e.headers}),y.timeouts=h._getTimeoutsForRequest(e.hostType),h._setHostIndexByType(0,e.hostType),p=!0,r(h._request.fallback,y));var _=h._getHostByType(e.hostType),F=_+y.url,x={body:y.body,jsonBody:y.jsonBody,method:y.method,headers:s,timeouts:y.timeouts,debug:c,forceAuthHeaders:y.forceAuthHeaders};return c("method: %s, url: %s, headers: %j, timeouts: %d",x.method,F,x.headers,x.timeouts),a===h._request.fallback&&c("using fallback"),a.call(h,F,x).then((function(e){var r=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;c("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,r,e.headers);var a=2===Math.floor(r/100),o=new Date;if(g.push({currentHost:_,headers:l(s),content:t||null,contentLength:void 0!==t?t.length:null,method:y.method,timeouts:y.timeouts,url:y.url,startTime:R,endTime:o,duration:o-R,statusCode:r}),a)return h._useCache&&!h._useRequestCache&&u&&(u[n]=e.responseText),{responseText:e.responseText,body:e.body};if(4!==Math.floor(r/100))return d+=1,w();c("unrecoverable error");var f=new i.AlgoliaSearchError(e.body&&e.body.message,{debugData:g,statusCode:r});return h._promise.reject(f)}),(function(n){c("error: %s, stack: %s",n.message,n.stack);var o=new Date;g.push({currentHost:_,headers:l(s),content:t||null,contentLength:void 0!==t?t.length:null,method:y.method,timeouts:y.timeouts,url:y.url,startTime:R,endTime:o,duration:o-R}),n instanceof i.AlgoliaSearchError||(n=new i.Unknown(n&&n.message,n));if(d+=1,n instanceof i.Unknown||n instanceof i.UnparsableJSON||d>=h.hosts[e.hostType].length&&(p||!m))return n.debugData=g,h._promise.reject(n);if(n instanceof i.RequestTimeout)return c("retrying request with higher timeout"),h._incrementHostIndex(e.hostType),h._incrementTimeoutMultipler(),y.timeouts=h._getTimeoutsForRequest(e.hostType),r(a,y);return w()}));function w(){return c("retrying request"),h._incrementHostIndex(e.hostType),r(a,y)}}(h._request,{url:e.url,method:e.method,body:t,jsonBody:e.body,timeouts:h._getTimeoutsForRequest(e.hostType),forceAuthHeaders:e.forceAuthHeaders});return h._useCache&&h._useRequestCache&&u&&(u[n]=b),y(b,(function(e){return e.body}))},u.prototype._getSearchParams=function(e,t){if(void 0===e||null===e)return t;for(var r in e)null!==r&&void 0!==e[r]&&e.hasOwnProperty(r)&&(t+=""===t?"":"&",t+=r+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[r])?f(e[r]):e[r]));return t},u.prototype._computeRequestHeaders=function(e){var t=r(49804),n={"x-algolia-agent":e.additionalUA?this._ua+"; "+e.additionalUA:this._ua,"x-algolia-application-id":this.applicationID};return!1!==e.withApiKey&&(n["x-algolia-api-key"]=this.apiKey),this.userToken&&(n["x-algolia-usertoken"]=this.userToken),this.securityTags&&(n["x-algolia-tagfilters"]=this.securityTags),t(this.extraHeaders,(function(e,t){n[t]=e})),e.headers&&t(e.headers,(function(e,t){n[t]=e})),n},u.prototype.search=function(e,t,n){var i=r(5826),a=r(37164);if(!i(e))throw new Error("Usage: client.search(arrayOfQueries[, callback])");"function"===typeof t?(n=t,t={}):void 0===t&&(t={});var s=this,c={requests:a(e,(function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:s._getSearchParams(e.params,t)}}))},o=a(c.requests,(function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)})).join("&");return void 0!==t.strategy&&(c.strategy=t.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:c,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:o}},callback:n})},u.prototype.searchForFacetValues=function(e){var t=r(5826),n=r(37164),i="Usage: client.searchForFacetValues([{indexName, params: {facetName, facetQuery, ...params}}, ...queries])";if(!t(e))throw new Error(i);var a=this;return a._promise.all(n(e,(function(e){if(!e||void 0===e.indexName||void 0===e.params.facetName||void 0===e.params.facetQuery)throw new Error(i);var t=r(82882),n=r(33076),s=e.indexName,c=e.params,o=c.facetName,u=n(t(c),(function(e){return"facetName"===e})),h=a._getSearchParams(u,"");return a._jsonRequest({cache:a.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(s)+"/facets/"+encodeURIComponent(o)+"/query",hostType:"read",body:{params:h}})})))},u.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],r=0;r<e.length;++r)if("[object Array]"===Object.prototype.toString.call(e[r])){for(var n=[],i=0;i<e[r].length;++i)n.push(e[r][i]);t.push("("+n.join(",")+")")}else t.push(e[r]);e=t.join(",")}this.securityTags=e},u.prototype.setUserToken=function(e){this.userToken=e},u.prototype.clearCache=function(){this.cache={}},u.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},u.prototype.setTimeouts=function(e){this._timeouts=e},u.prototype.getTimeouts=function(){return this._timeouts},u.prototype._getAppIdData=function(){var e=c.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},u.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),c.set(this.applicationID,e)},u.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>o?this._resetInitialAppIdData(e):e},u.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||function(e){var t,r,n=e.length;for(;0!==n;)r=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[r],e[r]=t;return e}([1,2,3]),this._setAppIdData(t)},u.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},u.prototype._partialAppIdDataUpdate=function(e){var t=r(49804),n=this._getAppIdData();return t(e,(function(e,t){n[t]=e})),this._setAppIdData(n)},u.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},u.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},u.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},u.prototype._setHostIndexByType=function(e,t){var n=r(82882)(this._hostIndexes);return n[t]=e,this._partialAppIdDataUpdate({hostIndexes:n}),e},u.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},u.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},u.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}},99437:function(e,t,r){var n=r(10148),i=r(93043),a=r(10137);function s(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}e.exports=s,s.prototype.clearCache=function(){this.cache={}},s.prototype.search=n("query"),s.prototype.similarSearch=i(n("similarQuery"),a("index.similarSearch(query[, callback])","index.search({ similarQuery: query }[, callback])")),s.prototype.browse=function(e,t,n){var i,a,s=r(51004),c=this;0===arguments.length||1===arguments.length&&"function"===typeof arguments[0]?(i=0,n=arguments[0],e=void 0):"number"===typeof arguments[0]?(i=arguments[0],"number"===typeof arguments[1]?a=arguments[1]:"function"===typeof arguments[1]&&(n=arguments[1],a=void 0),e=void 0,t=void 0):"object"===typeof arguments[0]?("function"===typeof arguments[1]&&(n=arguments[1]),t=arguments[0],e=void 0):"string"===typeof arguments[0]&&"function"===typeof arguments[1]&&(n=arguments[1],t=void 0),t=s({},t||{},{page:i,hitsPerPage:a,query:e});var o=this.as._getSearchParams(t,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/browse",body:{params:o},hostType:"read",callback:n})},s.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{cursor:e},hostType:"read",callback:t})},s.prototype.searchForFacetValues=function(e,t){var n=r(82882),i=r(33076);if(void 0===e.facetName||void 0===e.facetQuery)throw new Error("Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])");var a=e.facetName,s=i(n(e),(function(e){return"facetName"===e})),c=this.as._getSearchParams(s,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(a)+"/query",hostType:"read",body:{params:c},callback:t})},s.prototype.searchFacet=i((function(e,t){return this.searchForFacetValues(e,t)}),a("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),s.prototype._search=function(e,t,r,n){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:r,additionalUA:n})},s.prototype.getObject=function(e,t,r){var n=this;1!==arguments.length&&"function"!==typeof t||(r=t,t=void 0);var i="";if(void 0!==t){i="?attributes=";for(var a=0;a<t.length;++a)0!==a&&(i+=","),i+=t[a]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e)+i,hostType:"read",callback:r})},s.prototype.getObjects=function(e,t,n){var i=r(5826),a=r(37164),s="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!i(e))throw new Error(s);var c=this;1!==arguments.length&&"function"!==typeof t||(n=t,t=void 0);var o={requests:a(e,(function(e){var r={indexName:c.indexName,objectID:e};return t&&(r.attributesToRetrieve=t.join(",")),r}))};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:o,callback:n})},s.prototype.as=null,s.prototype.indexName=null,s.prototype.typeAheadArgs=null,s.prototype.typeAheadValueOption=null},67191:function(e,t,r){"use strict";var n=r(51580),i=r(8779);e.exports=i(n,"Browser (lite)")},8779:function(e,t,r){"use strict";var n=r(58908),i=n.Promise||r(82702).Promise;e.exports=function(e,t){var a=r(35717),s=r(23733),c=r(80660),o=r(53970),u=r(94504);function h(e,t,n){return(n=r(82882)(n||{}))._ua=n._ua||h.ua,new l(e,t,n)}t=t||"",h.version=r(4572),h.ua="Algolia for JavaScript ("+h.version+"); "+t,h.initPlaces=u(h),n.__algolia={debug:r(11227),algoliasearch:h};var f={hasXMLHttpRequest:"XMLHttpRequest"in n,hasXDomainRequest:"XDomainRequest"in n};function l(){e.apply(this,arguments)}return f.hasXMLHttpRequest&&(f.cors="withCredentials"in new XMLHttpRequest),a(l,e),l.prototype._request=function(e,t){return new i((function(r,n){if(f.cors||f.hasXDomainRequest){e=c(e,t.headers);var i,a,o=t.body,u=f.cors?new XMLHttpRequest:new XDomainRequest,h=!1;i=setTimeout(l,t.timeouts.connect),u.onprogress=function(){h||d()},"onreadystatechange"in u&&(u.onreadystatechange=function(){!h&&u.readyState>1&&d()}),u.onload=function(){if(a)return;var e;clearTimeout(i);try{e={body:JSON.parse(u.responseText),responseText:u.responseText,statusCode:u.status,headers:u.getAllResponseHeaders&&u.getAllResponseHeaders()||{}}}catch(t){e=new s.UnparsableJSON({more:u.responseText})}e instanceof s.UnparsableJSON?n(e):r(e)},u.onerror=function(e){if(a)return;clearTimeout(i),n(new s.Network({more:e}))},u instanceof XMLHttpRequest?(u.open(t.method,e,!0),t.forceAuthHeaders&&(u.setRequestHeader("x-algolia-application-id",t.headers["x-algolia-application-id"]),u.setRequestHeader("x-algolia-api-key",t.headers["x-algolia-api-key"]))):u.open(t.method,e),f.cors&&(o&&("POST"===t.method?u.setRequestHeader("content-type","application/x-www-form-urlencoded"):u.setRequestHeader("content-type","application/json")),u.setRequestHeader("accept","application/json")),o?u.send(o):u.send()}else n(new s.Network("CORS not supported"));function l(){a=!0,u.abort(),n(new s.RequestTimeout)}function d(){h=!0,clearTimeout(i),i=setTimeout(l,t.timeouts.complete)}}))},l.prototype._request.fallback=function(e,t){return e=c(e,t.headers),new i((function(r,n){o(e,t,(function(e,t){e?n(e):r(t)}))}))},l.prototype._promise={reject:function(e){return i.reject(e)},resolve:function(e){return i.resolve(e)},delay:function(e){return new i((function(t){setTimeout(t,e)}))},all:function(e){return i.all(e)}},h}},80660:function(e,t,r){"use strict";e.exports=function(e,t){/\?/.test(e)?e+="&":e+="?";return e+n(t)};var n=r(68795)},53970:function(e,t,r){"use strict";e.exports=function(e,t,r){if("GET"!==t.method)return void r(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var a=!1,s=!1;i+=1;var c=document.getElementsByTagName("head")[0],o=document.createElement("script"),u="algoliaJSONP_"+i,h=!1;window[u]=function(e){!function(){try{delete window[u],delete window[u+"_loaded"]}catch(e){window[u]=window[u+"_loaded"]=void 0}}(),s?t.debug("JSONP: Late answer, ignoring"):(a=!0,d(),r(null,{body:e,responseText:JSON.stringify(e)}))},e+="&callback="+u,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var f=setTimeout((function(){t.debug("JSONP: Script timeout"),s=!0,d(),r(new n.RequestTimeout)}),t.timeouts.complete);function l(){t.debug("JSONP: success"),h||s||(h=!0,a||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),d(),r(new n.JSONPScriptFail)))}function d(){clearTimeout(f),o.onload=null,o.onreadystatechange=null,o.onerror=null,c.removeChild(o)}o.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||l()},o.onload=l,o.onerror=function(){t.debug("JSONP: Script error"),h||s||(d(),r(new n.JSONPScriptError))},o.async=!0,o.defer=!0,o.src=e,c.appendChild(o)};var n=r(23733),i=0},10148:function(e,t,r){e.exports=function(e,t){return function(r,i,a){if("function"===typeof r&&"object"===typeof i||"object"===typeof a)throw new n.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"===typeof r?(a=r,r=""):1!==arguments.length&&"function"!==typeof i||(a=i,i=void 0),"object"===typeof r&&null!==r?(i=r,r=void 0):void 0!==r&&null!==r||(r="");var s,c="";return void 0!==r&&(c+=e+"="+encodeURIComponent(r)),void 0!==i&&(i.additionalUA&&(s=i.additionalUA,delete i.additionalUA),c=this.as._getSearchParams(i,c)),this._search(c,t,a,s)}};var n=r(23733)},82882:function(e){e.exports=function(e){return JSON.parse(JSON.stringify(e))}},93043:function(e){e.exports=function(e,t){var r=!1;return function(){return r||(console.warn(t),r=!0),e.apply(this,arguments)}}},10137:function(e){e.exports=function(e,t){var r=e.toLowerCase().replace(/[\.\(\)]/g,"");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#"+r}},23733:function(e,t,r){"use strict";var n=r(35717);function i(e,t){var n=r(49804),i=this;"function"===typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):i.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=e||"Unknown error",t&&n(t,(function(e,t){i[t]=e}))}function a(e,t){function r(){var r=Array.prototype.slice.call(arguments,0);"string"!==typeof r[0]&&r.unshift(t),i.apply(this,r),this.name="AlgoliaSearch"+e+"Error"}return n(r,i),r}n(i,Error),e.exports={AlgoliaSearchError:i,UnparsableJSON:a("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:a("RequestTimeout","Request timed out before getting a response"),Network:a("Network","Network issue, see err.more for details"),JSONPScriptFail:a("JSONPScriptFail","<script> was loaded but did not call our provided callback"),ValidUntilNotFound:a("ValidUntilNotFound","The SecuredAPIKey does not have a validUntil parameter."),JSONPScriptError:a("JSONPScriptError","<script> unable to load due to an `error` event on it"),ObjectNotFound:a("ObjectNotFound","Object not found"),Unknown:a("Unknown","Unknown error occured")}},93753:function(e){e.exports=function(e,t){t(e,0)}},37164:function(e,t,r){var n=r(49804);e.exports=function(e,t){var r=[];return n(e,(function(n,i){r.push(t(n,i,e))})),r}},51004:function(e,t,r){var n=r(49804);e.exports=function e(t){var r=Array.prototype.slice.call(arguments);return n(r,(function(r){for(var n in r)r.hasOwnProperty(n)&&("object"===typeof t[n]&&"object"===typeof r[n]?t[n]=e({},t[n],r[n]):void 0!==r[n]&&(t[n]=r[n]))})),t}},33076:function(e,t,r){e.exports=function(e,t){var n=r(82215),i=r(49804),a={};return i(n(e),(function(r){!0!==t(r)&&(a[r]=e[r])})),a}},94504:function(e,t,r){e.exports=function(e){return function(t,a,s){var c=r(82882);(s=s&&c(s)||{}).hosts=s.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!==typeof t&&void 0!==t||(t="",a="",s._allowEmptyCredentials=!0);var o=e(t,a,s),u=o.initIndex("places");return u.search=i("query","/1/places/query"),u.reverse=function(e,t){var r=n.encode(e);return this.as._jsonRequest({method:"GET",url:"/1/places/reverse?"+r,hostType:"read",callback:t})},u.getObject=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/places/"+encodeURIComponent(e),hostType:"read",callback:t})},u}};var n=r(87735),i=r(10148)},44475:function(e,t,r){var n,i=r(11227)("algoliasearch:src/hostIndexState.js"),a="algoliasearch-client-js",s={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},c={set:function(e,t){s.set(e,t);try{var n=JSON.parse(r.g.localStorage[a]);return n[e]=t,r.g.localStorage[a]=JSON.stringify(n),n[e]}catch(i){return o(e,i)}},get:function(e){try{return JSON.parse(r.g.localStorage[a])[e]||null}catch(t){return o(e,t)}}};function o(e,t){return i("localStorage failed with",t),function(){try{r.g.localStorage.removeItem(a)}catch(e){}}(),(n=s).get(e)}function u(e,t){return 1===arguments.length?n.get(e):n.set(e,t)}function h(){try{return"localStorage"in r.g&&null!==r.g.localStorage&&(r.g.localStorage[a]||r.g.localStorage.setItem(a,JSON.stringify({})),!0)}catch(e){return!1}}n=h()?c:s,e.exports={get:u,set:u,supportsLocalStorage:h}},4572:function(e){"use strict";e.exports="3.35.1"},82702:function(e,t,r){var n=r(34155);e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"===typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=0,s=void 0,c=void 0,o=function(e,t){_[a]=e,_[a+1]=t,2===(a+=2)&&(c?c(F):w())};function u(e){c=e}function h(e){o=e}var f="undefined"!==typeof window?window:void 0,l=f||{},d=l.MutationObserver||l.WebKitMutationObserver,p="undefined"===typeof self&&"undefined"!==typeof n&&"[object process]"==={}.toString.call(n),m="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function g(){return function(){return n.nextTick(F)}}function v(){return"undefined"!==typeof s?function(){s(F)}:b()}function y(){var e=0,t=new d(F),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function R(){var e=new MessageChannel;return e.port1.onmessage=F,function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(F,1)}}var _=new Array(1e3);function F(){for(var e=0;e<a;e+=2)(0,_[e])(_[e+1]),_[e]=void 0,_[e+1]=void 0;a=0}function x(){try{var e=r(24327);return s=e.runOnLoop||e.runOnContext,v()}catch(t){return b()}}var w=void 0;function j(e,t){var r=arguments,n=this,i=new this.constructor(O);void 0===i[P]&&$(i);var a=n._state;return a?function(){var e=r[a-1];o((function(){return X(a,i,e,n._result)}))}():L(n,i,e,t),i}function S(e){var t=this;if(e&&"object"===typeof e&&e.constructor===t)return e;var r=new t(O);return U(r,e),r}w=p?g():d?y():m?R():void 0===f?x():b();var P=Math.random().toString(36).substring(16);function O(){}var E=void 0,A=1,T=2,C=new Z;function N(){return new TypeError("You cannot resolve a promise with itself")}function H(){return new TypeError("A promises callback cannot return that same promise.")}function I(e){try{return e.then}catch(t){return C.error=t,C}}function k(e,t,r,n){try{e.call(t,r,n)}catch(i){return i}}function D(e,t,r){o((function(e){var n=!1,i=k(r,t,(function(r){n||(n=!0,t!==r?U(e,r):B(e,r))}),(function(t){n||(n=!0,V(e,t))}),"Settle: "+(e._label||" unknown promise"));!n&&i&&(n=!0,V(e,i))}),e)}function q(e,t){t._state===A?B(e,t._result):t._state===T?V(e,t._result):L(t,void 0,(function(t){return U(e,t)}),(function(t){return V(e,t)}))}function Q(e,r,n){r.constructor===e.constructor&&n===j&&r.constructor.resolve===S?q(e,r):n===C?(V(e,C.error),C.error=null):void 0===n?B(e,r):t(n)?D(e,r,n):B(e,r)}function U(t,r){t===r?V(t,N()):e(r)?Q(t,r,I(r)):B(t,r)}function M(e){e._onerror&&e._onerror(e._result),J(e)}function B(e,t){e._state===E&&(e._result=t,e._state=A,0!==e._subscribers.length&&o(J,e))}function V(e,t){e._state===E&&(e._state=T,e._result=t,o(M,e))}function L(e,t,r,n){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+A]=r,i[a+T]=n,0===a&&e._state&&o(J,e)}function J(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,a=e._result,s=0;s<t.length;s+=3)n=t[s],i=t[s+r],n?X(r,n,i,a):i(a);e._subscribers.length=0}}function Z(){this.error=null}var W=new Z;function K(e,t){try{return e(t)}catch(r){return W.error=r,W}}function X(e,r,n,i){var a=t(n),s=void 0,c=void 0,o=void 0,u=void 0;if(a){if((s=K(n,i))===W?(u=!0,c=s.error,s.error=null):o=!0,r===s)return void V(r,H())}else s=i,o=!0;r._state!==E||(a&&o?U(r,s):u?V(r,c):e===A?B(r,s):e===T&&V(r,s))}function G(e,t){try{t((function(t){U(e,t)}),(function(t){V(e,t)}))}catch(r){V(e,r)}}var Y=0;function z(){return Y++}function $(e){e[P]=Y++,e._state=void 0,e._result=void 0,e._subscribers=[]}function ee(e,t){this._instanceConstructor=e,this.promise=new e(O),this.promise[P]||$(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):V(this.promise,te())}function te(){return new Error("Array Methods must be provided an Array")}function re(e){return new ee(this,e).promise}function ne(e){var t=this;return i(e)?new t((function(r,n){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function ie(e){var t=new this(O);return V(t,e),t}function ae(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function se(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ce(e){this[P]=z(),this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!==typeof e&&ae(),this instanceof ce?G(this,e):se())}function oe(){var e=void 0;if("undefined"!==typeof r.g)e=r.g;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(i){}if("[object Promise]"===n&&!t.cast)return}e.Promise=ce}return ee.prototype._enumerate=function(e){for(var t=0;this._state===E&&t<e.length;t++)this._eachEntry(e[t],t)},ee.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===S){var i=I(e);if(i===j&&e._state!==E)this._settledAt(e._state,t,e._result);else if("function"!==typeof i)this._remaining--,this._result[t]=e;else if(r===ce){var a=new r(O);Q(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},ee.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===E&&(this._remaining--,e===T?V(n,r):this._result[t]=r),0===this._remaining&&B(n,this._result)},ee.prototype._willSettleAt=function(e,t){var r=this;L(e,void 0,(function(e){return r._settledAt(A,t,e)}),(function(e){return r._settledAt(T,t,e)}))},ce.all=re,ce.race=ne,ce.resolve=S,ce.reject=ie,ce._setScheduler=u,ce._setAsap=h,ce._asap=o,ce.prototype={constructor:ce,then:j,catch:function(e){return this.then(null,e)}},ce.polyfill=oe,ce.Promise=ce,ce}()},49804:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var s=0;s<a;s++)n.call(i,e[s],s,e);else for(var c in e)t.call(e,c)&&n.call(i,e[c],c,e)}},58908:function(e,t,r){var n;n="undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{},e.exports=n},5826:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},29335:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,a){n=n||"&",i=i||"=";var s={};if("string"!==typeof e||0===e.length)return s;var c=/\+/g;e=e.split(n);var o=1e3;a&&"number"===typeof a.maxKeys&&(o=a.maxKeys);var u=e.length;o>0&&u>o&&(u=o);for(var h=0;h<u;++h){var f,l,d,p,m=e[h].replace(c,"%20"),g=m.indexOf(i);g>=0?(f=m.substr(0,g),l=m.substr(g+1)):(f=m,l=""),d=decodeURIComponent(f),p=decodeURIComponent(l),t(s,d)?r(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},68795:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,s,c){return a=a||"&",s=s||"=",null===e&&(e=void 0),"object"===typeof e?n(i(e),(function(i){var c=encodeURIComponent(t(i))+s;return r(e[i])?n(e[i],(function(e){return c+encodeURIComponent(t(e))})).join(a):c+encodeURIComponent(t(e[i]))})).join(a):c?encodeURIComponent(t(c))+s+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},87735:function(e,t,r){"use strict";t.decode=t.parse=r(29335),t.encode=t.stringify=r(68795)},95009:function(e,t,r){"use strict";r.d(t,{Ei:function(){return u},O7:function(){return o},RD:function(){return h},U6:function(){return l},WN:function(){return c},cI:function(){return d}});var n=r(4942),i=r(60647);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return u(e)?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function o(e,t){if(e.results){if(e.results.hits)return e.results;var r=c(t);if(e.results[r])return e.results[r]}return null}function u(e){return e&&e.multiIndexContext}function h(e,t,r,i,a){if(u(r)){var o=c(r);return a?function(e,t,r,i,a){var c,o=i?{page:1}:void 0,u=e.indices&&e.indices[r]?s(s({},e.indices),{},(0,n.Z)({},r,s(s({},e.indices[r]),{},(c={},(0,n.Z)(c,a,s(s({},e.indices[r][a]),t)),(0,n.Z)(c,"page",1),c)))):s(s({},e.indices),{},(0,n.Z)({},r,s((0,n.Z)({},a,t),o)));return s(s({},e),{},{indices:u})}(e,t,o,i,a):function(e,t,r,i){var a=i?{page:1}:void 0,c=e.indices&&e.indices[r]?s(s({},e.indices),{},(0,n.Z)({},r,s(s(s({},e.indices[r]),t),a))):s(s({},e.indices),{},(0,n.Z)({},r,s(s({},t),a)));return s(s({},e),{},{indices:c})}(e,t,o,i)}return e.indices&&i&&Object.keys(e.indices).forEach((function(t){e=h(e,{page:1},{multiIndexContext:{targetedIndex:t}},!0,a)})),a?function(e,t,r,i){var a=r?{page:1}:void 0;return s(s({},e),{},(0,n.Z)({},i,s(s({},e[i]),t)),a)}(e,t,i,a):function(e,t,r){var n=r?{page:1}:void 0;return s(s(s({},e),t),n)}(e,t,i)}function f(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function l(e,t,r,n,i){var a=c(r),s=f(n),o=s.namespace,h=s.attributeName,l={multiIndex:u(r),indexId:a,namespace:o,attributeName:h,id:n,searchState:t},d=function(e){var t=e.multiIndex,r=e.indexId,n=e.namespace,i=e.attributeName,a=e.id,s=e.searchState;return t&&n?s.indices&&s.indices[r]&&s.indices[r][n]&&Object.hasOwnProperty.call(s.indices[r][n],i):t?s.indices&&s.indices[r]&&Object.hasOwnProperty.call(s.indices[r],a):n?s[n]&&Object.hasOwnProperty.call(s[n],i):Object.hasOwnProperty.call(s,a)}(l);return d?function(e){var t=e.multiIndex,r=e.indexId,n=e.namespace,i=e.attributeName,a=e.id,s=e.searchState;return t&&n?s.indices[r][n][i]:t?s.indices[r][a]:n?s[n][i]:s[a]}(l):e.defaultRefinement?e.defaultRefinement:i}function d(e,t,r){var a=c(t),o=f(r),h=o.namespace,l=o.attributeName;return u(t)&&Boolean(e.indices)?function(e){var t=e.searchState,r=e.indexId,a=e.id,c=e.namespace,o=e.attribute,u=t.indices[r];if(c&&u)return s(s({},t),{},{indices:s(s({},t.indices),{},(0,n.Z)({},r,s(s({},u),{},(0,n.Z)({},c,(0,i.CE)(u[c],[o])))))});if(u)return s(s({},t),{},{indices:s(s({},t.indices),{},(0,n.Z)({},r,(0,i.CE)(u,[a])))});return t}({attribute:l,searchState:e,indexId:a,id:r,namespace:h}):function(e){var t=e.searchState,r=e.id,a=e.namespace,c=e.attribute;if(a)return s(s({},t),{},(0,n.Z)({},a,(0,i.CE)(t[a],[c])));return(0,i.CE)(t,[r])}({attribute:l,searchState:e,id:r,namespace:h})}},4793:function(e,t,r){"use strict";r.d(t,{Z:function(){return V}});var n=r(15671),i=r(43144),a=r(97326),s=r(32531),c=r(82963),o=r(61120),u=r(4942),h=r(67294),f=r(69590),l=r.n(f),d=r(45697),p=r.n(d),m=r(45987),g=r(8131),v=r.n(g),y=r(60647);var R={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};var b=r(95009),_=["resultsFacetValues"],F=["resultsFacetValues"],x=["resultsFacetValues"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){"function"===typeof e.addAlgoliaAgent&&(e.addAlgoliaAgent("react (".concat(h.version,")")),e.addAlgoliaAgent("react-instantsearch (".concat("6.24.1",")")))}var P=function(e){return(0,b.Ei)({ais:e.props.contextValue,multiIndexContext:e.props.indexContextValue})},O=function(e,t){return e.props.indexContextValue.targetedIndex===t},E=function(e){return Boolean(e.props.indexId)},A=function(e,t){return e.props.indexId===t},T=function(e,t){var r=E(e),n=E(t);return r&&!n?-1:!r&&n?1:0};function C(e){return Object.keys(e).map((function(t){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[i++])}))}("%s=%s",t,(r=e[t],"[object Object]"===Object.prototype.toString.call(r)||"[object Array]"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join("&")}function N(e){var t=e.indexName,r=e.initialState,n=void 0===r?{}:r,i=e.searchClient,a=e.resultsState,s=e.stalledSearchDelay,c=v()(i,t,j({},R));S(i),c.on("search",(function(){f||(f=setTimeout((function(){var e=p.getState(),t=(e.resultsFacetValues,(0,m.Z)(e,x));p.setState(j(j({},t),{},{isSearchStalled:!0}))}),s))})).on("result",N({indexId:t})).on("error",I);var o,h=!1,f=null,l=c.state,d=function(e){var t=[],r=!1;function n(){r||(r=!0,(0,y.PQ)((function(){r=!1,e()})))}return{registerWidget:function(e){return t.push(e),n(),function(){t.splice(t.indexOf(e),1),n()}},update:n,getWidgets:function(){return t}}}((function(){var e=g(p.getState().widgets);p.setState(j(j({},p.getState()),{},{metadata:e,searching:!0})),w()}));!function(e,t){if(!t)return;if((!e.transporter||e._cacheHydrated)&&(!e._useCache||"function"!==typeof e.addAlgoliaAgent))return;if(e.transporter&&!e._cacheHydrated){e._cacheHydrated=!0;var r=e.search;e.search=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s=t.map((function(e){return j(j({},e),{},{params:C(e.params)})}));return e.transporter.responsesCache.get({method:"search",args:[s].concat(i)},(function(){return r.apply(void 0,[t].concat(i))}))}}if(Array.isArray(t.results))return void function(e,t){if(e.transporter)return void e.transporter.responsesCache.set({method:"search",args:[t.reduce((function(e,t){return e.concat(t.rawResults.map((function(e){return{indexName:e.index,params:e.params}})))}),[])]},{results:t.reduce((function(e,t){return e.concat(t.rawResults)}),[])});var r="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:t.reduce((function(e,t){return e.concat(t.rawResults.map((function(e){return{indexName:e.index,params:e.params}})))}),[])}));e.cache=j(j({},e.cache),{},(0,u.Z)({},r,JSON.stringify({results:t.reduce((function(e,t){return e.concat(t.rawResults)}),[])})))}(e,t.results);!function(e,t){if(e.transporter)return void e.transporter.responsesCache.set({method:"search",args:[t.rawResults.map((function(e){return{indexName:e.index,params:e.params}}))]},{results:t.rawResults});var r="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:t.rawResults.map((function(e){return{indexName:e.index,params:e.params}}))}));e.cache=j(j({},e.cache),{},(0,u.Z)({},r,JSON.stringify({results:t.rawResults})))}(e,t)}(i,a);var p=function(e){var t=e,r=[];return{getState:function(){return t},setState:function(e){t=e,r.forEach((function(e){return e()}))},subscribe:function(e){return r.push(e),function(){r.splice(r.indexOf(e),1)}}}}({widgets:n,metadata:H(a),results:function(e){if(!e)return null;if(Array.isArray(e.results))return e.results.reduce((function(e,t){return j(j({},e),{},(0,u.Z)({},t._internalIndexId,new(v().SearchResults)(new(v().SearchParameters)(t.state),t.rawResults)))}),{});return new(v().SearchResults)(new(v().SearchParameters)(e.state),e.rawResults)}(a),error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1});function g(e){return d.getWidgets().filter((function(e){return Boolean(e.getMetadata)})).map((function(t){return t.getMetadata(e)}))}function b(){var e=d.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){return!P(e)&&!E(e)})).reduce((function(e,t){return t.getSearchParameters(e)}),l),r=d.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){var r=P(e)&&O(e,t),n=E(e)&&A(e,t);return r||n})).sort(T).reduce((function(e,t){return t.getSearchParameters(e)}),e),n=d.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){var r=P(e)&&!O(e,t),n=E(e)&&!A(e,t);return r||n})).sort(T).reduce((function(e,t){var r=P(t)?t.props.indexContextValue.targetedIndex:t.props.indexId,n=e[r]||[];return j(j({},e),{},(0,u.Z)({},r,n.concat(t)))}),{});return{mainParameters:r,derivedParameters:Object.keys(n).map((function(t){return{parameters:n[t].reduce((function(e,t){return t.getSearchParameters(e)}),e),indexId:t}}))}}function w(){if(!h){var e=b(c.state),t=e.mainParameters,r=e.derivedParameters;o=r.length+1,c.derivedHelpers.slice().forEach((function(e){e.detach()})),r.forEach((function(e){var t=e.indexId,r=e.parameters;c.derive((function(){return r})).on("result",N({indexId:t})).on("error",I)})),c.setState(t),c.search()}}function N(e){var t=e.indexId;return function(e){o--;var r=p.getState(),n=!c.derivedHelpers.length,i=r.results?r.results:{};i=!n&&i.getFacetByName?{}:i,i=n?e.results:j(j({},i),{},(0,u.Z)({},t,e.results));var a=p.getState(),s=a.isSearchStalled;c.hasPendingRequests()||(clearTimeout(f),f=null,s=!1);a.resultsFacetValues;var h=(0,m.Z)(a,_);p.setState(j(j({},h),{},{results:i,isSearchStalled:s,searching:o>0,error:null}))}}function I(e){var t=e.error,r=p.getState(),n=r.isSearchStalled;c.hasPendingRequests()||(clearTimeout(f),n=!1);r.resultsFacetValues;var i=(0,m.Z)(r,F);p.setState(j(j({},i),{},{isSearchStalled:n,error:t,searching:!1}))}return{store:p,widgetsManager:d,getWidgetsIds:function(){return p.getState().metadata.reduce((function(e,t){return"undefined"!==typeof t.id?e.concat(t.id):e}),[])},getSearchParameters:b,onSearchForFacetValues:function(e){var t=e.facetName,r=e.query,n=e.maxFacetHits,i=void 0===n?10:n,a=Math.max(1,Math.min(i,100));p.setState(j(j({},p.getState()),{},{searchingForFacetValues:!0})),c.searchForFacetValues(t,r,a).then((function(e){var n;p.setState(j(j({},p.getState()),{},{error:null,searchingForFacetValues:!1,resultsFacetValues:j(j({},p.getState().resultsFacetValues),{},(n={},(0,u.Z)(n,t,e.facetHits),(0,u.Z)(n,"query",r),n))}))}),(function(e){p.setState(j(j({},p.getState()),{},{searchingForFacetValues:!1,error:e}))})).catch((function(e){setTimeout((function(){throw e}))}))},onExternalStateUpdate:function(e){var t=g(e);p.setState(j(j({},p.getState()),{},{widgets:e,metadata:t,searching:!0})),w()},transitionState:function(e){var t=p.getState().widgets;return d.getWidgets().filter((function(e){return Boolean(e.transitionState)})).reduce((function(e,r){return r.transitionState(t,e)}),e)},updateClient:function(e){S(e),c.setClient(e),w()},updateIndex:function(e){l=l.setIndex(e)},clearCache:function(){c.clearCache(),w()},skipSearch:function(){h=!0}}}function H(e){return e?e.metadata.map((function(e){return j(j({value:function(){return{}}},e),{},{items:e.items&&e.items.map((function(e){return j(j({value:function(){return{}}},e),{},{items:e.items&&e.items.map((function(e){return j({value:function(){return{}}},e)}))})}))})})):[]}var I=r(33866),k=r(71002);function D(e,t){var r=document.createElement("meta"),n=document.querySelector("head");r.name="algolia:metadata";var i=function(e,t){var r=["contextValue","indexContextValue"],n=e.map((function(e){var t=e.props,n=e.constructor,i=n._connectorDesc||{},a=i.defaultProps,s=void 0===a?{}:a,c=i.displayName;return{displayName:void 0===c?n.displayName:c,params:Object.keys(t).filter((function(e){return!r.includes(e)&&s[e]!==t[e]&&void 0!==t[e]}))}})),i=t;return{ua:i.transporter&&i.transporter.userAgent?i.transporter.userAgent.value:i._ua,widgets:n}}(e,t);r.content=JSON.stringify(i),n.appendChild(r)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,o.Z)(e);if(t){var i=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}function M(e){return Boolean(e.searchState)}var B=function(e){(0,s.Z)(r,e);var t=U(r);function r(e){var i;(0,n.Z)(this,r),i=t.call(this,e),(0,u.Z)((0,a.Z)(i),"isUnmounting",!1);var s=N({indexName:i.props.indexName,searchClient:i.props.searchClient,initialState:i.props.searchState||{},resultsState:i.props.resultsState,stalledSearchDelay:i.props.stalledSearchDelay}),c={store:s.store,widgetsManager:s.widgetsManager,mainTargetedIndex:i.props.indexName,onInternalStateUpdate:i.onWidgetsInternalStateUpdate.bind((0,a.Z)(i)),createHrefForState:i.createHrefForState.bind((0,a.Z)(i)),onSearchForFacetValues:i.onSearchForFacetValues.bind((0,a.Z)(i)),onSearchStateChange:i.onSearchStateChange.bind((0,a.Z)(i)),onSearchParameters:i.onSearchParameters.bind((0,a.Z)(i))};return i.state={isControlled:M(i.props),instantSearchManager:s,contextValue:c},i}return(0,i.Z)(r,[{key:"componentDidUpdate",value:function(e){var t=M(e);if(t&&!this.state.isControlled)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled");if(!t&&this.state.isControlled)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");this.props.refresh!==e.refresh&&this.props.refresh&&this.state.instantSearchManager.clearCache(),e.indexName!==this.props.indexName&&this.state.instantSearchManager.updateIndex(this.props.indexName),e.searchClient!==this.props.searchClient&&this.state.instantSearchManager.updateClient(this.props.searchClient)}},{key:"componentDidMount",value:function(){"object"===("undefined"===typeof window?"undefined":(0,k.Z)(window))&&"object"===(0,k.Z)(window.navigator)&&"string"===typeof window.navigator.userAgent&&window.navigator.userAgent.includes("Algolia Crawler")&&"object"===(0,k.Z)(window.document)&&D(this.state.instantSearchManager.widgetsManager.getWidgets(),this.props.searchClient)}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0,this.state.instantSearchManager.skipSearch()}},{key:"createHrefForState",value:function(e){return e=this.state.instantSearchManager.transitionState(e),this.state.isControlled&&this.props.createURL?this.props.createURL(e,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(e){e=this.state.instantSearchManager.transitionState(e),this.onSearchStateChange(e),this.state.isControlled||this.state.instantSearchManager.onExternalStateUpdate(e)}},{key:"onSearchStateChange",value:function(e){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(e)}},{key:"onSearchParameters",value:function(e,t,r,n,i){if(this.props.onSearchParameters){var a=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(e,t,r,a)}if(this.props.widgetsCollector){var s=this.props.searchState?this.props.searchState:{};this.props.widgetsCollector({getSearchParameters:e,getMetadata:n,context:t,props:r,searchState:s,displayName:i})}}},{key:"onSearchForFacetValues",value:function(e){this.state.instantSearchManager.onSearchForFacetValues(e)}},{key:"getKnownKeys",value:function(){return this.state.instantSearchManager.getWidgetsIds()}},{key:"render",value:function(){return 0===h.Children.count(this.props.children)?null:h.createElement(I.tJ,{value:this.state.contextValue},this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=M(e),n=t.instantSearchManager.store.getState().widgets,i=e.searchState;return r&&!l()(n,i)&&t.instantSearchManager.onExternalStateUpdate(e.searchState),{isControlled:r,contextValue:Q(Q({},t.contextValue),{},{mainTargetedIndex:e.indexName})}}}]),r}(h.Component);(0,u.Z)(B,"defaultProps",{stalledSearchDelay:200,refresh:!1}),(0,u.Z)(B,"propTypes",{indexName:p().string.isRequired,searchClient:p().shape({search:p().func.isRequired,searchForFacetValues:p().func,addAlgoliaAgent:p().func,clearCache:p().func}).isRequired,createURL:p().func,refresh:p().bool,searchState:p().object,onSearchStateChange:p().func,onSearchParameters:p().func,widgetsCollector:p().func,resultsState:p().oneOfType([p().object,p().array]),children:p().node,stalledSearchDelay:p().number});var V=B}}]);
//# sourceMappingURL=764-3bf6d17dc1276b97.js.map