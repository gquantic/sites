(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6113],{45488:function(e,t,n){"use strict";var i=n(81020),s=n.n(i);s().shape({className:s().string.isRequired,interactiveClassName:s().string,onClick:s().func,onKeyDown:s().func,refNode:s().func.isRequired,tabIndex:s().number.isRequired,role:s().string.isRequired})},36113:function(e,t,n){"use strict";n.d(t,{$1:function(){return Re}});var i=n(92777),s=n(82262),a=n(10748),o=n(81531),r=n(63553),l=n(37247),u=n(59499),c=n(67294),d=n(43393),p=n(96486),m=n(94184),h=n.n(m),g=n(93665),v=n(33241),f=n(24627),k=n(35760),y=n(20753),N=n(34174),S=n(67397),F=n(93658),R=n(82337),w=n(46288),C=n(64598),x=(n(45488),n(31767)),Z=n.n(x),b=n(85893);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=e.node,n=e.resultProps,i=new w.Z(t),s=i.getPlayerAvatar(),a=(0,d.Map)({color:t.get("color")||i.getColor(),image:s||null,prefix:t.get("prefix")||null,gamerTag:t.get("gamerTag")||null,name:t.get("gamerTag")||null,twitchStream:t.get("twitchStream")||null,twitterHandle:t.get("twitterHandle")||null,youtube:t.get("youtube")||null,country:t.get("country")||null,state:t.get("state")||null}),o=(t.get("rankings")||(0,d.Map)()).take(3).map((function(e){var t=e.getIn(["iteration","series"]),n=new F.Z(t).getImage("icon",32,null,!1),i=parseInt(e.get("rank"),10);return n&&i?(0,b.jsxs)("span",{className:Z().ranking,children:[(0,b.jsx)("img",{className:Z().rankingImage,src:n,alt:e.getIn(["iteration","title"])}),(0,b.jsx)("span",{children:R.Z.asOrdinal(i)})]},e.get("id")):null})).toArray(),r=o&&o.length?(0,b.jsx)("div",{children:(0,b.jsx)(N.pN,{useLegacyStyles:!0,direction:"horizontal",size:"xs",children:o})}):null,l=h()(n.className,(0,u.Z)({},n.interactiveClassName,!0));return(0,b.jsx)(S.Z,D(D({className:l},(0,p.omit)(n,["className","interactiveClassName"])),{},{children:(0,b.jsxs)("div",{className:Z().playerResult,children:[(0,b.jsx)(C.Z,{player:t.toJS(),shouldLink:!1}),(0,b.jsxs)(N.pN,{useLegacyStyles:!0,className:Z().details,size:"sm",children:[r,(0,b.jsx)(N.hc,{player:a})]})]})}))}I.defaultProps={node:(0,d.Map)()};var M=I,O=n(65422),P=n(82876),T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpotlightPlayerSelection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"player"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gamerTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:111,source:{body:"query SpotlightPlayerSelection($id: ID!) {\n\tplayer(id: $id) {\n\t\tid\n\t\tprefix\n\t\tgamerTag\n\t\tuser {\n\t\t\tid\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};function q(e){var t=e.selection,n=e.onClick,i=e.onKeyDown,s=e.refNode,a={id:t&&t.get("id")};return(0,b.jsx)(O.AE,{query:T,variables:a,skip:P.sk,children:function(e){var t=e.loading,a=e.error,o=e.data;if(a)return(0,b.jsxs)(N.QP,{type:"error",children:[(0,b.jsx)(N.xu,{className:"fa fa-exclamation gg-color-red"}),a]});if(t||P.sk)return(0,b.jsx)(N.Df,{children:"Loading..."});var r=(0,d.fromJS)(o),l=r&&r.get("player")||(0,d.Map)();return(0,b.jsxs)(N.Df,{refNode:s,onClick:function(e){return n(l,e)},onKeyDown:function(e){return i(l,e)},textColor:"gg-color-gray_midnight",backgroundColor:"gg-background-color-gray_blueish",children:[(0,b.jsx)(N.yC,{player:l,size:"sm"}),(0,b.jsx)(N.xu,{className:"fa fa-fw fa-close"})]})}})}q.defaultProps={selection:(0,d.Map)(),onClick:function(){},onKeyDown:function(){},refNode:null};var E=q,L=n(24561),V=n(46252),B=n.n(V);var K=function(){return(0,b.jsxs)(L.ZP,{className:B().playerContentLoader,height:66,width:234,speed:1,primaryColor:"#F2F2F4",secondaryColor:"#E8E8E8",children:[(0,b.jsx)("circle",{cx:"33",cy:"34",r:"32"}),(0,b.jsx)("rect",{x:"90",y:"4",rx:"4",ry:"3",width:"145",height:"16"}),(0,b.jsx)("rect",{x:"90",y:"30",rx:"4",ry:"3",width:"113",height:"8"}),(0,b.jsx)("rect",{x:"90",y:"51",rx:"4",ry:"3",width:"75",height:"8"})]})},A=n(78385),H=n(85625),_=n.n(H);function z(e){var t=e.boundingRect,n=e.children,i={width:"".concat(t.width,"px"),transform:"translate3d(".concat(t.left,"px, ").concat(t.top+t.scrollTop+t.height,"px, 0)")};return(0,b.jsx)(A.Z,{children:(0,b.jsx)("div",{className:" ",children:(0,b.jsx)("div",{className:_().spotlightPortal,children:(0,b.jsx)("div",{className:_().spotlightPortalContents,style:i,children:(0,b.jsx)("div",{className:_().searchInput,children:n})})})})})}z.defaultProps={boundingRect:{height:0,left:0,top:0,width:0},children:null};var W=z,U=n(17253),G=n(15180),Q=n(54730);function X(e){var t=e.id,n=e.label,i=e.children,s=e.show,a=e.onCloseComplete,o=e.onOpenComplete,r=e.scrollToTop;return(0,b.jsx)(Q.Z,{id:t,className:_().spotlightModalContext,show:s,onOpenComplete:o,onCloseComplete:a,scrollToTop:r,modalHeader:function(e){return(0,b.jsxs)("div",{className:_().spotlightHeader,children:[(0,b.jsx)(G.Z,{onClick:e,type:"primary",children:(0,b.jsx)(N.M5,{icon:"fa fa-angle-left",text:"Back"})}),n&&(0,b.jsx)(U.ZT,{variant:"h5",component:"h3",children:n})]})},modal:(0,b.jsx)(N.u_,{className:_().spotlightModal,size:"md",children:(0,b.jsx)(N.hz,{isFull:!0,children:(0,b.jsx)("div",{className:_().spotlightModalContent,children:i})})})})}X.defaultProps={label:null,children:null,show:!1,onOpenComplete:function(){},onCloseComplete:function(){},scrollToTop:!1};var Y,J=X,$=n(71383),ee=n(90116),te=n(11214),ne=n(48759),ie=n(14219),se=n.n(ie),ae=n(90051),oe=n(41074);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var s=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,r.Z)(this,n)}}var ce=function(e){(0,o.Z)(n,e);var t=ue(n);function n(e){var s;return(0,i.Z)(this,n),s=t.call(this,e),(0,u.Z)((0,a.Z)(s),"state",{searchResults:{},nodes:(0,d.Map)(),isLoading:!1,footerHeight:0,resultIndex:0}),(0,u.Z)((0,a.Z)(s),"onBlur",(function(){var e=s.props.onBlur;e&&e()})),(0,u.Z)((0,a.Z)(s),"onDelete",(function(){var e=s.props.onDelete;e&&e()})),(0,u.Z)((0,a.Z)(s),"onFocusResult",(function(e){var t=s.results[e];return!!t&&(t.focus(),s.setState({resultIndex:e}),!0)})),(0,u.Z)((0,a.Z)(s),"onResultSelect",(function(e,t){var n=s.props,i=n.allowMultiple,a=n.onSelect;a&&a(e);var o=s.results[t-1],r=s.results[t+1];i?r?s.onFocusResult(t+1):o?s.onFocusResult(t-1):s.onEscape():s.onBlur()})),(0,u.Z)((0,a.Z)(s),"onSelectionSelect",(function(e,t){var n=s.props.onSelect;n&&n(e);var i=s.selections[t-1],a=s.selections[t+1];a?a.focus():i?i.focus():s.onEscape()})),(0,u.Z)((0,a.Z)(s),"onEscape",(function(){var e=s.props.onEscape;e&&e()})),(0,u.Z)((0,a.Z)(s),"onFetchMore",(function(e){var t=s.props,i=t.value,a=t.pathToNodes,o=t.entityType,r=s.state,l=r.searchResults,c=r.isLoading,d=n.getSafeValue(i),m=l[d]||1;c||s.setState({isLoading:!0,searchResults:le(le({},s.state.searchResults),(0,u.Z)({},d,m+1))},(function(){var t=s.getNewVariables(d,s.state.searchResults[d]);e({variables:t,updateQuery:function(e,t){var n=t.fetchMoreResult;if(s.setState({isLoading:!1}),!n)return e;var i=a.concat(["nodes"]),r=a.concat(["pageInfo"]),l=(0,p.get)(e,i,[]),u=(0,p.get)(e,r,{}),c=(0,p.get)(n,i,[])||[],d=(0,p.get)(n,r,{})||{},m=(0,p.get)(n,a.concat("__typename"),o||"Untyped"),h=[].concat((0,ee.Z)(l),(0,ee.Z)(c)),g=le(le({},u),d);return(0,p.set)({},a,{nodes:h,pageInfo:g,__typename:m})}})}))})),(0,u.Z)((0,a.Z)(s),"onChangeView",(function(e,t){t&&s.onFetchMore(e)})),(0,u.Z)((0,a.Z)(s),"onCreateNew",(function(){var e=s.props.onCreateNew;e&&e()})),(0,u.Z)((0,a.Z)(s),"onResultKeyDown",(function(e,t,n){var i=n&&n.which,a=s.results[t-1],o=s.results[t+1],r=s.selections[0],l=function(){r?r.focus():s.createNew&&s.createNew.focus()};switch(i){case f.ZH:case f.yY:s.onDelete(),n.preventDefault();break;case f.Mf:l(),n.preventDefault();break;case f.K5:case f.L_:s.onResultSelect(e,t),n.preventDefault();break;case f.UP:a?s.onFocusResult(t-1):s.onEscape(),n.preventDefault();break;case f.WV:o?s.onFocusResult(t+1):l(),n.preventDefault()}})),(0,u.Z)((0,a.Z)(s),"onSelectionKeyDown",(function(e,t,n){var i=n&&n.which,o=s.selections[t-1],r=s.selections[t+1],l=(0,a.Z)(s).results,u=l[0],c=l[s.state.resultIndex],d=function(){c?s.onFocusResult(s.state.resultIndex):u?s.onFocusResult(0):s.onEscape()},p=function(){s.createNew?s.createNew.focus():s.onEscape()};switch(i){case f.ZH:case f.yY:s.onDelete(),n.preventDefault();break;case f.UP:d(),n.preventDefault();break;case f.RL:o?o.focus():d(),n.preventDefault();break;case f.WV:p(),n.preventDefault();break;case f.pX:r?r.focus():p(),n.preventDefault();break;case f.K5:case f.L_:s.onSelectionSelect(e,t),r?r.focus():o&&o.focus(),n.preventDefault()}})),(0,u.Z)((0,a.Z)(s),"onCreateKeyDown",(function(e){var t=e&&e.which,n=(0,a.Z)(s).results,i=n[0],o=n[s.state.resultIndex],r=(0,a.Z)(s).selections,l=r[0],u=r[Object.keys(r).pop()];switch(t){case f.K5:case f.L_:s.onCreateNew(),e.preventDefault();break;case f.UP:u?u.focus():l?l.focus():o?s.onFocusResult(s.state.resultIndex):i?s.onFocusResult(0):s.onEscape(),e.preventDefault()}})),(0,u.Z)((0,a.Z)(s),"renderRow",(function(e,t){var n=s.props,i=n.resultComponent,a=n.customField,o="result-".concat(e.get("id")),r={className:_().spotlightResult,interactiveClassName:_().isInteractive,onClick:function(n){return s.onResultSelect(e,t,n)},onKeyDown:function(n){return s.onResultKeyDown(e,t,n)},refNode:function(e){s.results[t]=e},tabIndex:0,role:"button"};return(0,b.jsx)(i,{node:e,resultProps:r,customField:a},o)})),(0,u.Z)((0,a.Z)(s),"renderRows",(function(e){return e.map(s.renderRow).toArray()})),s.results={},s.selections={},s.state={searchResults:le({},(0,u.Z)({},e.value||"",1)),isLoading:!1,footerHeight:e.footerHeight},s}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.name,n=e.data.spotlightResults,i=(void 0===n?[]:n).filter((function(e){return e.name===t})).reduce((function(e,t){var n=t.id,i=t.value;return le(le({},e),(0,u.Z)({},n,i))}),{});this.setState({searchResults:i})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.value,i=t.shouldFocusResults,s=e.value,a=e.shouldFocusResults,o=this.state.resultIndex,r={};if(!i&&a){var l=this.results[o],u=this.results[0],c=this.selections[0];l?this.onFocusResult(o):u?this.onFocusResult(0):c?c.focus():this.createNew&&this.createNew.focus()}n!==s&&(this.results={},r=le(le({},r),{resultIndex:0})),this.footer&&(r=le(le({},r),{footerHeight:this.footer.clientHeight})),(0,p.isEmpty)(r)||this.setState(r)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.name,n=e.client,i=e.updateSpotlightResults,s=n.cache,a=this.state.searchResults,o=se()(Y||(Y=(0,$.Z)(["\n\t\t\tquery SpotlightSearchResults {\n\t\t\t\tspotlightResults @client {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t}\n\t\t"]))),r=s.readQuery({query:o}),l=(0,p.toArray)((0,p.mapValues)(a,(function(e,n){return{id:n,name:t,value:e,__typename:"SpotlightResult"}}))),u=r.spotlightResults.concat(l).sort((function(e){return e.value}));i((0,p.uniqBy)(u,(function(e){return e.id})))}},{key:"getPageInfo",value:function(e){var t=this.props.pathToNodes.concat(["pageInfo"]);return(0,d.Map)((0,p.get)(e,t,{}))}},{key:"mapPageInfo",value:function(e,t){var n=this.props.pageSize,i=this.getPageInfo(e);return Array(i.get("perPage")||n).fill(void 0).map(t)}},{key:"getFilteredResults",value:function(e){var t=this.props.selections;return t&&t.size?(e||(0,d.Map)()).filter((function(e){return!t.get(e.get("id"))})):e}},{key:"getNewVariables",value:function(e,t){var n=this.props,i=n.variables,s=n.valueToSearch,a={};if((0,p.isString)(s))a=(0,u.Z)({},s,e);else{if(!(0,p.isArray)(s))throw new Error("Invalid property valueToSearch: ".concat(s));a=(0,p.set)({},s,e)}var o=le(le({},i),{query:le(le({},i&&i.query||{}),{filter:le(le({},i&&i.query&&i.query.filter||{}),a)})});return void 0!==t&&(o=le(le({},o),{},{query:le(le({},o.query),{page:t})})),o}},{key:"getBoundingRectStyles",value:function(){var e=this.props.boundingRect,t=this.state.footerHeight;if(!e)return null;var n=e.top+e.height;t&&(n+=t);return n+=8,(n+=16)?{maxHeight:"calc(100vh - ".concat(n,"px)")}:null}},{key:"renderEmptyState",value:function(e){var t=this.props.emptyStateComponent;return(0,b.jsx)("div",{className:_().spotlightResultsEmptyState,children:(0,b.jsx)(t,{value:e})})}},{key:"renderInfiniteLoader",value:function(e,t){var n=this,i=this.props.contentLoaderComponent,s=this.mapPageInfo(e,(function(e,t){return(0,b.jsx)("div",{className:_().spotlightResult,children:(0,b.jsx)(i,{})},"infinite-loader-".concat(t))}));return(0,b.jsxs)(c.Fragment,{children:[(0,b.jsx)(ne.ZP,{className:_().spotLightResultLoader,onChange:function(e){return n.onChangeView(t,e)},rootMargin:"-50px"},"infinite-loaders"),s]})}},{key:"renderLoaders",value:function(e){var t=this.props.contentLoaderComponent;return this.mapPageInfo(e,(function(e,n){return(0,b.jsx)("div",{className:_().spotlightResult,children:(0,b.jsx)(t,{})},"content-loader-".concat(n))}))}},{key:"renderCreateNew",value:function(){var e=this,t=this.props,n=t.allowCreate,i=t.customCreateNewText,s=t.createNewTrackingData,a=t.entityType,o=t.selections,r=t.translate,l=i||r("SpotlightResults.createNew",{entityType:r("entityTypes.".concat(a),{smart_count:1})}),u=o&&o.size;return n&&!u?(0,b.jsx)(S.Z,{refNode:function(t){e.createNew=t},className:_().createNew,onClick:this.onCreateNew,onKeyDown:this.onCreateKeyDown,trackingData:s,children:(0,b.jsxs)("div",{children:[(0,b.jsx)(N.xu,{className:"fa fa-fw fa-plus-circle"}),l]})}):null}},{key:"renderSelections",value:function(){var e=this,t=this.props.selectionsNode;return t?c.cloneElement(t,{onClick:this.onSelectionSelect,onKeyDown:this.onSelectionKeyDown,refNode:function(t,n){e.selections[n]=t}}):null}},{key:"renderFooter",value:function(){var e=this,t=this.renderSelections(),n=this.renderCreateNew();return n||t?(0,b.jsxs)("div",{className:_().footer,ref:function(t){e.footer=t},children:[t,n]}):null}},{key:"render",value:function(){var e,t=this,i=this.props,s=i.query,a=i.value,o=i.pathToNodes,r=i.nodeTransformation,l=i.customNodes,u=i.customField,c=i.contentWrapper,m=i.translate,h=n.getSafeValue(a),g=this.getNewVariables(h),v=this.getBoundingRectStyles(),f=(0,b.jsx)("div",{className:_().searchResults,style:v,children:(0,b.jsx)("div",{className:_().spotlightResults,children:this.renderEmptyState(h)})});if(l&&!l.isEmpty()){var k=this.getFilteredResults(l).filter((function(e){return function(e,t){var n=t.split(" ");return(0,p.some)(n,(function(t){return String(e.get(u)).toLowerCase().includes(t.toLowerCase())}))}(e,a)}));e=k.isEmpty()?f:(0,b.jsx)("div",{className:_().searchResults,style:v,children:(0,b.jsx)("div",{className:_().spotlightResults,children:this.renderRows(k)})})}else e=(0,b.jsx)(O.AE,{query:s,variables:g,onCompleted:this.onFetch,fetchPolicy:"cache-and-network",skip:P.sk,children:function(e){var n=e.loading,i=e.error,s=e.data,a=e.fetchMore,l=n||P.sk;if(i)return(0,b.jsx)("div",{children:m("SpotlightResults.error",{error:i})});var u=o.concat(["nodes"]),g=t.getFilteredResults((0,d.fromJS)((0,p.map)((0,p.get)(s,u,[]),r))||(0,d.Map)()),k=!g||g.isEmpty();if(l&&k)return(0,b.jsx)("div",{className:_().searchResults,style:v,children:(0,b.jsx)("div",{className:_().spotlightResults,children:(0,b.jsx)("div",{className:_().spotlightResultsEmptyState,children:(0,b.jsx)(N.xu,{className:"fa fa-spin fa-spinner"})})})});var y=null;if(l)y=t.renderLoaders(s);else{if(k)return f;y=t.renderRows(g)}var S=t.getPageInfo(s),F=(t.state.searchResults[h]||1)<S.get("totalPages");return y&&(F&&!l)&&(y=y.concat(t.renderInfiniteLoader(s,a))),c&&(y=(0,b.jsx)(c,{children:y})),(0,b.jsx)("div",{className:_().searchResults,style:v,children:(0,b.jsx)("div",{className:_().spotlightResults,children:y})})}});return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:_().dropDown,children:[e,this.renderFooter()]})})}}],[{key:"getSafeValue",value:function(e){return e||""}}]),n}(c.Component);(0,u.Z)(ce,"defaultProps",{onBlur:function(){},onDelete:function(){},onFetch:function(){},onSelect:function(){},onCreateNew:function(){},onEscape:function(){},contentWrapper:void 0,customCreateNewText:null,createNewTrackingData:{},allowCreate:!1,allowMultiple:!1,shouldFocusResults:!1,customNodes:(0,d.Map)(),customField:null,value:"",selections:(0,d.Map)(),pageSize:25,footerHeight:36,boundingRect:{},selectionsNode:null});var de=(0,te.qC)((0,ae.BX)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpotlightSearchResults"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spotlightResults"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:84,source:{body:"query SpotlightSearchResults {\n\tspotlightResults @client {\n\t\tid\n\t\tname\n\t\tvalue\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{}),(0,ae.BX)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SpotlightResultsMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spotlightResults"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"SpotlightResult"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSpotlightResults"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spotlightResults"},value:{kind:"Variable",name:{kind:"Name",value:"spotlightResults"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:146,source:{body:"mutation SpotlightResultsMutation($spotlightResults: [SpotlightResult]!) {\n\tupdateSpotlightResults(spotlightResults: $spotlightResults) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{props:function(e){var t=e.mutate;return{updateSpotlightResults:function(e){return t({variables:{spotlightResults:e}})}}}}))(ce),pe=(0,oe.Z)()(de),me=(0,ae.CG)(pe);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var s=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,r.Z)(this,n)}}var ge=function(e){(0,o.Z)(n,e);var t=he(n);function n(){var e;(0,i.Z)(this,n);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,a.Z)(e),"onClick",(function(t,n,i){var s=e.props.onClick;s&&s(t,n,i)})),(0,u.Z)((0,a.Z)(e),"onKeyDown",(function(t,n,i){var s=e.props.onKeyDown;s&&s(t,n,i)})),e}return(0,s.Z)(n,[{key:"renderSelection",value:function(e,t){var n=this,i=this.props,s=i.selectionComponent,a=i.refNode,o=i.customField,r=s;return(0,b.jsx)(r,{onClick:function(e,i){return n.onClick(e,t,i)},onKeyDown:function(e,i){return n.onKeyDown(e,t,i)},selection:e,refNode:function(e){a&&a(e,t)},customField:o},"selection-".concat(e.get("id")||t))}},{key:"render",value:function(){var e=this.props.selections;return!e||e.isEmpty()?null:(0,b.jsx)(N.pN,{useLegacyStyles:!0,className:_().spotlightSelections,isCentered:!0,direction:"horizontal",size:"sm",children:e.filter((function(e){return!!e})).toList().map(this.renderSelection,this).toArray()})}}]),n}(c.Component);(0,u.Z)(ge,"defaultProps",{onClick:function(){},onKeyDown:function(){},selectionComponent:function(){},selections:(0,d.Map)(),refNode:null,customField:null});var ve=ge,fe=n(35704),ke=n.n(fe);function ye(e){var t=e.translate,n=e.value;return(0,b.jsx)("div",{className:ke().genericEmptyState,children:t("GenericEmptyState.emptyState",{value:n||t("GenericEmptyState.emptyInput")})})}ye.defaultProps={value:""};var Ne=(0,oe.Z)()(ye);function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var s=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,r.Z)(this,n)}}var Fe=function(e){(0,o.Z)(n,e);var t=Se(n);function n(e){var s;return(0,i.Z)(this,n),s=t.call(this,e),(0,u.Z)((0,a.Z)(s),"onDebouncedInputChange",(0,p.debounce)((function(e){s.setState({value:e})}),200)),(0,u.Z)((0,a.Z)(s),"onInputChange",(function(e){var t=e.currentTarget.value;s.setState({visualValue:t},(function(){s.onDebouncedInputChange(t)}))})),(0,u.Z)((0,a.Z)(s),"onResultsBlur",(function(){var e=(0,a.Z)(s).searchInput;e&&(e.focus(),e.blur())})),(0,u.Z)((0,a.Z)(s),"onBlur",(function(){var e=s.props,t=e.onBlur;if(!e.shouldBlur)return null;s.timeoutID=setTimeout((function(){!s.isUnmounting&&s.state.isFocused&&s.setState({isFocused:!1},t)}),200)})),(0,u.Z)((0,a.Z)(s),"onFocus",(function(){var e=s.props.onFocus;clearTimeout(s.timeoutID),s.state.isFocused||s.setState({isFocused:!0},e)})),(0,u.Z)((0,a.Z)(s),"onInputFocus",(function(){var e=(0,a.Z)(s).inputRef;if(!e)return null;var t=e.getBoundingClientRect(),n=Math.round(window.scrollY),i=Math.round(window.scrollX);s.setState({boundingRect:{width:t.width,height:t.height,top:Math.round(t.top),left:Math.round(t.left),scrollTop:n,scrollLeft:i}})})),(0,u.Z)((0,a.Z)(s),"onInputKeydown",(function(e){if((e&&e.which)===f.WV)s.onFocusResults(),e.preventDefault()})),(0,u.Z)((0,a.Z)(s),"onEscape",(function(){s.searchInput&&s.searchInput.focus()})),(0,u.Z)((0,a.Z)(s),"onDecoyFocused",(function(e){return s.setState({isModalOpen:!0}),e.preventDefault(),e.stopPropagation(),!1})),(0,u.Z)((0,a.Z)(s),"onModalOpenComplete",(function(){s.searchInput&&(s.searchInput.focus(),s.setState({isModalFocused:!0},s.setState({isModalFocused:!1})))})),(0,u.Z)((0,a.Z)(s),"onModalCloseComplete",(function(){s.setState({isModalOpen:!1,isModalFocused:!1,isFocused:!1})})),(0,u.Z)((0,a.Z)(s),"onCreateNew",(function(){var e=s.props,t=e.onCreateNew,n=e.shouldCloseOnCreate,i=s.state,o=i.value,r=i.isModalOpen,l=i.isFocused,u=(0,a.Z)(s).searchInput;t&&t(o),n&&s.focusElement&&(r||l?s.onModalCloseComplete():u&&(u.focus(),u.blur()))})),(0,u.Z)((0,a.Z)(s),"onFetch",(function(e){var t=s.props.onFetch;t&&t(e)})),(0,u.Z)((0,a.Z)(s),"onDelete",(function(){var e=(0,a.Z)(s).searchInput,t=s.state.value;e&&(e.focus(),t&&t.length&&(t=t.slice(0,-1),s.onChange(t)))})),(0,u.Z)((0,a.Z)(s),"onSelect",(function(e){if(!e)return null;var t=e.get("id"),n=s.props,i=n.allowMultiple,a=n.onChange,o=n.shouldCloseOnSelect,r=n.shouldClearOnSelect,l=n.noSelections,c=s.state,p=c.selections,m=c.value,h=p.get(t),g=null;r&&s.setState({visualValue:"",value:""}),o&&s.onModalCloseComplete(),g=i?h?p.delete(t):p.set(t,e):h?(0,d.Map)():(0,d.Map)((0,u.Z)({},t,e));var v=function(){a&&a(i?g:g.first(),m)};l?v():s.setState({selections:g},v)})),s.state={value:"",visualValue:"",isFocused:!1,isModalOpen:!1,shouldFocusResults:!1,selections:(0,d.Map)(),boundingRect:{width:0,height:0,left:0,top:0,scrollTop:0,scrollLeft:0}},s}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){var e=this.props.selections;e&&this.setState({selections:e})}},{key:"componentWillReceiveProps",value:function(e){var t=this.searchInput,n=this.props,i=n.isFocused,s=n.selections,a=e.isFocused,o=e.selections;t&&!i&&a&&t.focus(),!(0,p.chain)((o||(0,d.Map)()).keySeq().toArray()).xor((s||(0,d.Map)()).keySeq().toArray()).isEmpty().value()&&this.setState({selections:o})}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0}},{key:"onFocusResults",value:function(){var e=this;this.setState({shouldFocusResults:!0},(function(){e.setState({shouldFocusResults:!1})}))}},{key:"renderSelections",value:function(){var e=this.props,t=e.selectionComponent,n=e.selectionsComponent,i=e.customField,s=e.noSelections,a=this.state.selections;return s?null:(0,b.jsx)(n,{onClick:this.onSelect,selections:a,selectionComponent:t,customField:i})}},{key:"renderPortal",value:function(e){var t=this.state.boundingRect;return this.state.isFocused?(0,b.jsx)(W,{boundingRect:t,children:e}):null}},{key:"renderResults",value:function(){var e=this.props,t=e.allowMultiple,n=e.allowCreate,i=e.entityType,s=e.createNewTrackingData,a=e.name,o=e.query,r=e.variables,l=void 0===r?{}:r,u=e.pathToNodes,c=e.nodeTransformation,d=e.customCreateNewText,p=e.customNodes,m=e.customField,h=e.emptyStateComponent,g=e.contentLoaderComponent,v=e.resultComponent,f=e.resultsComponent,k=e.resultsContentWrapper,y=e.valueToSearch,N=this.state,S=N.value,F=N.selections,R=N.shouldFocusResults,w=N.boundingRect,C=this.renderSelections();return(0,b.jsx)(f,{name:a,query:o,variables:l,pathToNodes:u,nodeTransformation:c,allowMultiple:t,allowCreate:n,selections:F,customCreateNewText:d,customNodes:p,customField:m,emptyStateComponent:h,contentLoaderComponent:g,resultComponent:v,contentWrapper:k,entityType:i,onBlur:this.onResultsBlur,onDelete:this.onDelete,onEscape:this.onEscape,onFetch:this.onFetch,onSelect:this.onSelect,onCreateNew:this.onCreateNew,createNewTrackingData:s,shouldFocusResults:R,selectionsNode:C,boundingRect:this.state.isModalOpen?null:w,valueToSearch:y,value:S})}},{key:"renderModal",value:function(){var e=this.props,t=e.name,n=e.label;return this.state.isModalOpen?(0,b.jsx)(J,{id:"".concat(t||"spotlight","-modal"),show:!0,label:n,onOpenComplete:this.onModalOpenComplete,onCloseComplete:this.onModalCloseComplete,scrollToTop:this.state.isModalFocused,children:this.renderSpotlight()}):null}},{key:"renderDecoy",value:function(){var e=this.props,t=e.name,n=e.label,i=e.disabled,s=e.icon,a=e.placeholder,o=this.state.visualValue;return(0,b.jsxs)("div",{className:_().spotlightDecoy,children:[(0,b.jsx)(g.II,{name:"".concat(t,"-decoy"),label:n,icon:s,disabled:i,placeholder:a,onFocus:this.onDecoyFocused,value:o,type:"text",autoComplete:"off",autoFocus:!0}),this.renderSelections(),this.renderModal()]})}},{key:"renderSpotlight",value:function(){var e=this,t=this.props,n=t.name,i=t.label,s=t.placeholder,a=t.icon,o=t.disabled,r=t.isXsDown,l=this.state,c=l.visualValue,d=l.isFocused,p=l.isModalOpen,m=(h()(_().spotlight,(0,u.Z)({},_().isFocused,d)),"".concat(n,"Spotlight")),v=p?this.renderResults():this.renderPortal(this.renderResults());return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{ref:function(t){e.focusElement=t},onFocus:this.onFocus,onBlur:this.onBlur,children:[(0,b.jsx)(g.II,{name:m,onChange:this.onInputChange,onFocus:this.onInputFocus,onKeyDown:this.onInputKeydown,label:p?"":i,icon:a,placeholder:s,disabled:o,type:"text",autoComplete:"off",value:c,ref:function(t){e.searchInput=t},inputRef:function(t){e.inputRef=t},autoFocus:r,className:_().placeholder}),(0,b.jsx)("div",{className:_().spotlightModalInset,children:v})]}),!d&&!p&&this.renderSelections()]})}},{key:"render",value:function(){var e=this.props.className,t=this.state.isModalOpen?null:(0,b.jsx)("div",{className:_().spotlightContainer,children:this.renderSpotlight()}),n=this.renderSelections();return(0,b.jsxs)("div",{className:e,children:[this.renderDecoy(n),t]})}}]),n}(c.Component);(0,u.Z)(Fe,"defaultProps",{label:"",placeholder:"Search",icon:"fa fa-search fa-fw",disabled:!1,entityType:v.Z.PLAYER,selections:null,className:"",allowMultiple:!1,allowCreate:!1,shouldCloseOnCreate:!1,shouldCloseOnSelect:!1,shouldClearOnSelect:!1,isFocused:!1,onChange:p.noop,onCreateNew:p.noop,onFetch:p.noop,onFocus:p.noop,onBlur:p.noop,shouldBlur:!0,query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpotlightPlayerResults"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlayerQuery"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"players"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playerAvatar"},directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rankings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rank"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iteration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"series"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"icon",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pageInfo"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"playerAvatar"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Player"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gamerTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"twitchStream"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"twitterHandle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileAuthorization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MIXER"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUsername"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"image"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOriginal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pageInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PageInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"page"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalPages"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortBy"},arguments:[],directives:[]}]}}],loc:{start:0,end:616,source:{body:'#import "gg-common/gql/fragments/domain/Image/image.gql"\n#import "gg-common/gql/fragments/domain/Player/playerAvatar.gql"\n#import "gg-common/gql/fragments/utils/pagination.gql"\n\nquery SpotlightPlayerResults($query: PlayerQuery!) {\n\tplayers(query: $query) {\n\t\tnodes {\n\t\t\t...playerAvatar\n\n\t\t\tcountry\n\t\t\tstate\n\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t}\n\n\t\t\t# TODO: rankings fragment?\n\t\t\trankings {\n\t\t\t\tid\n\t\t\t\trank\n\t\t\t\titeration {\n\t\t\t\t\tid\n\t\t\t\t\ttitle\n\t\t\t\t\tseries {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t\timages(type: "icon") {\n\t\t\t\t\t\t\t...image\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t# pageInfo is a pretty hard requirement.\n\t\tpageInfo {\n\t\t\t...pageInfo\n\t\t}\n\t}\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},variables:{query:{page:1,perPage:25,filter:{}}},pathToNodes:["players"],nodeTransformation:function(e){return e},valueToSearch:"searchField",createNewTrackingData:null,customCreateNewText:null,customNodes:(0,d.Map)(),emptyStateComponent:Ne,contentLoaderComponent:K,resultComponent:M,selectionComponent:E,resultsComponent:me,selectionsComponent:ve,noSelections:!1,isXsDown:!1});var Re=(0,k.Z)(y.Z,(function(){return function(e){return e.breakpoints.down("sm")}}),(function(e){return{isXsDown:e}}))(Fe)},35704:function(e){e.exports={genericEmptyState:"genericEmptyState-sggJXejU"}},46252:function(e){e.exports={playerContentLoader:"playerContentLoader-sggTfkvG"}},31767:function(e){e.exports={playerResult:"playerResult-sggDA1jO",details:"details-sggjYo1r",ranking:"ranking-sggOGjMg",rankingImage:"rankingImage-sgg7ff0g"}},85625:function(e){e.exports={spotlight:"spotlight-sggqKL-3",spotlightPortal:"spotlightPortal-sggAi1Kg",spotlightSelections:"spotlightSelections-sgg0wers",spotlightModalInset:"spotlightModalInset-sggl4M6-",searchInput:"searchInput-sggKis4x",dropDown:"dropDown-sggwFAUG",searchResults:"searchResults-sggYoUzI",footer:"footer-sgg0jMyG",createNew:"createNew-sggJp2W6",spotlightResults:"spotlightResults-sggxggcq",spotlightResult:"spotlightResult-sgga29Hv",isInteractive:"isInteractive-sggV-J4U",spotLightResultLoader:"spotLightResultLoader-sgg9erAL",spotlightPortalContents:"spotlightPortalContents-sggZ7Wdu",spotlightResultsEmptyState:"spotlightResultsEmptyState-sggq9vYN",spotlightModalContext:"spotlightModalContext-sgglJwiI",spotlightHeader:"spotlightHeader-sggdmEmY",spotlightModal:"spotlightModal-sggdwp19",spotlightModalContent:"spotlightModalContent-sggvJRbl",spotlightDecoy:"spotlightDecoy-sggrViK6",spotlightContainer:"spotlightContainer-sggwTYdd",placeholder:"placeholder-sggSczQy"}}}]);
//# sourceMappingURL=6113-26e2e7a4e75c8f12.js.map