(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4643],{90884:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(67294),i=n(71007),s=n(35523),a=n(30585),o=n.n(a),c=(JSON.parse('{"u":"RebrandAnnouncementBanner"}').u,{banner_primary_v1:"RebrandAnnouncementBanner.banner_primary_v1","_banner_primary_v1.comment":"RebrandAnnouncementBanner._banner_primary_v1.comment",banner_link_v1:"RebrandAnnouncementBanner.banner_link_v1","_banner_link_v1.comment":"RebrandAnnouncementBanner._banner_link_v1.comment",banner_primary_v2:"RebrandAnnouncementBanner.banner_primary_v2","_banner_primary_v2.comment":"RebrandAnnouncementBanner._banner_primary_v2.comment",banner_link_v2:"RebrandAnnouncementBanner.banner_link_v2","_banner_link_v2.comment":"RebrandAnnouncementBanner._banner_link_v2.comment",banner_primary_v3:"RebrandAnnouncementBanner.banner_primary_v3","_banner_primary_v3.comment":"RebrandAnnouncementBanner._banner_primary_v3.comment",banner_link_v3:"RebrandAnnouncementBanner.banner_link_v3","_banner_link_v3.comment":"RebrandAnnouncementBanner._banner_link_v3.comment","banner_primary_v4--m^":"RebrandAnnouncementBanner.banner_primary_v4--m^","_banner_primary_v4--m^.comment":"RebrandAnnouncementBanner._banner_primary_v4--m^.comment","banner_primary_v4--html^":"RebrandAnnouncementBanner.banner_primary_v4--html^","_banner_primary_v4--html^.comment":"RebrandAnnouncementBanner._banner_primary_v4--html^.comment",closeBannerLabel:"RebrandAnnouncementBanner.closeBannerLabel","_closeBannerLabel.comment":"RebrandAnnouncementBanner._closeBannerLabel.comment"}),l=n(74610),u=n(81154),d=n(85893),p=function(){var e="v4",t=(0,r.useState)(!u.Z.getItem("dismissed_announcement_".concat(e))),n=t[0],a=t[1],p=(0,r.useState)(!1),m=p[0],g=p[1],h=(0,i._)().t;if((0,r.useEffect)((function(){g(!0)}),[]),!m||!n)return null;var v=function(e){switch(e){case"v1":return"\ud83d\udc40";case"v2":return"\ud83d\udd1c";case"v3":return"\ud83c\udf89";default:return null}}(e);return(0,d.jsxs)("div",{className:o().banner,children:[(0,d.jsx)("div",{className:o().spacer}),(0,d.jsxs)("div",{className:o().announcementText,children:[v&&(0,d.jsx)(s.Z,{size:"14px",className:o().icon,"aria-hidden":!0,children:v}),"\xa0",(0,d.jsx)(s.Z,{size:"14px",children:h(c["banner_primary_".concat(e,"--html^")])})]}),(0,d.jsx)("div",{className:o().close,children:(0,d.jsx)(l.hU,{size:"small",color:"inherit",onClick:function(){u.Z.setCookie("dismissed_announcement_".concat(e),!0,{expires:20736e3}),a(!1)},"aria-label":h(c.closeBannerLabel),children:(0,d.jsx)("i",{className:"fa fa-close"})})})]})}},4284:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(4298),i=n.n(r),s=n(85893),a=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{id:"stripe-js",src:"https://js.stripe.com/v3/",strategy:"afterInteractive"}),(0,s.jsx)(i(),{src:"https://checkout.stripe.com/checkout.js",strategy:"afterInteractive"})]})}},53114:function(e,t,n){"use strict";var r=n(27458);t.Z=(0,r.Z)()},28257:function(e,t,n){"use strict";var r=n(59499),i=(n(67294),n(94184)),s=n.n(i),a=n(43393),o=n(24561),c=n(41074),l=n(96908),u=n(67219),d=n(25193),p=n(76732),m=n.n(p),g=n(85893),h={children:null,className:null,contentLoader:(0,g.jsxs)(o.ZP,{className:m().loader,height:32,width:320,speed:1,primaryColor:"#F2F2F4",secondaryColor:"#E8E8E8",children:[(0,g.jsx)("rect",{x:"0",y:"30",rx:"0",ry:"0",width:"85",height:"2"}),(0,g.jsx)("rect",{x:"12",y:"9",rx:"0",ry:"0",width:"55",height:"14"}),(0,g.jsx)("rect",{x:"100",y:"9",rx:"0",ry:"0",width:"85",height:"14"}),(0,g.jsx)("rect",{x:"200",y:"9",rx:"0",ry:"0",width:"45",height:"14"}),(0,g.jsx)("rect",{x:"260",y:"0",rx:"0",ry:"0",width:"1",height:"32"}),(0,g.jsx)("rect",{x:"280",y:"9",rx:"0",ry:"0",width:"45",height:"14"})]}),isLoading:!1,userFeatures:(0,a.List)(),profileType:null,entityHeader:null};function v(e){var t=e.isLoading,n=e.children,i=e.className,o=e.contentLoader,c=e.currentRoute,p=e.entityHeader,h=e.userFeatures,v=void 0===h?(0,a.Map)():h,f=e.profileId,y=e.translate;function x(e,t,n,r,i){if(!t||!n)return null;var a=s()(m().indicator,l.Z.getColors(e)),o=e?(0,g.jsx)("i",{className:a,children:"\u2022"}):null,c=y("FeatureListItem.".concat(t),null,null,t);return(0,g.jsxs)(u.Z,{role:"tab","aria-selected":i,className:m().link,url:n,newTab:r,children:[o,c]})}function j(e){var t=e.get("subItems")||(0,a.List)();return t&&t.size>0?(0,g.jsx)("ul",{className:m().subItems,children:t.map(b)}):null}function b(e,t){var n="feature-item-".concat(t),i=e.get("activeState"),a=e.get("text"),o=e.get("url"),l=e.get("newTab"),u=e.get("isActive")||[o].some((function(e){return c.get("url").split("?")[0].endsWith(e)})),d=s()(m().item,(0,r.Z)({},m().isActive,!!u));return(0,g.jsxs)("li",{className:d,role:"presentation",children:[x(i,a,o,l,u),j(e)]},n)}var k=null;v.isEmpty()||(k=v.map((function(e,t){var n="feature-group-".concat(t),r=(e.get("navFeatures")||(0,a.List)()).map(b);return(0,g.jsx)("ul",{className:m().group,role:"tablist",children:r},n)})));var S=s()(m().navigation,(0,r.Z)({},i,!!i));return k&&(0,g.jsx)(d.Z,{className:m().scroller,children:(0,g.jsxs)("div",{className:S,children:[p&&(0,g.jsx)(p,{className:m().entityHeader,profileId:f}),(0,g.jsx)("div",{className:m().contents,children:t?o:k}),n]})})}v.defaultProps=h,t.Z=(0,c.Z)()(v)},15187:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(11214),i=n(41074),s=n(60533),a=n(53114),o=n(59499),c=n(67294),l=n(94184),u=n.n(l),d=n(41771),p=n(34174),m=n(37948),g=n(43098),h=n(95453),v=n(93679),f=n(39759),y=n.n(f),x=n(85893);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={className:null,shouldAutoplay:!1,aspectRatio:m.u,shouldDisablePointerEvents:!1};function S(e,t){var n=e.shouldAutoplay,r=e.language,i=e.url,s=d.Z.supportsNativeAutoPlay(i),a=d.Z.getPreviewUrl(i),o=d.Z.getEmbedUrl({url:i,language:r,autoplay:n}),c=u()(y().preview),l=u()(y().playButton,{"fa fa-play fa-4x":!0}),m=b({className:c},o?{onClick:function(){return t(!0)}}:{url:i});return!n&&!s?(0,x.jsxs)(p.rU,b(b({},m),{},{children:[a&&(0,x.jsx)("div",{className:y().previewImage,style:{backgroundImage:'url("'.concat(a,'")')}}),(0,x.jsx)("div",{className:y().previewDarken}),(0,x.jsx)(p.xu,{className:l})]})):null}function N(e){var t,n=(0,c.useState)(!1),r=n[0],i=n[1],s=e.className,a=e.shouldAutoplay,l=e.url,p=e.aspectRatio,f=e.language,j=e.shouldDisablePointerEvents,b=(0,g.f)().groups,k=void 0===b?[]:b,N=d.Z.supportsNativeAutoPlay(l),Z=d.Z.getEmbedUrl({url:l,language:f,autoplay:a}),O=N||a||r,P=u()(y().videoEmbed,(t={},(0,o.Z)(t,y().aspect4by3,p===m.n),(0,o.Z)(t,y().aspect16by9,p===m.u),(0,o.Z)(t,y().isPlaying,O),(0,o.Z)(t,s,!!s),t)),w=u()(y().iframe,(0,o.Z)({},y().disablePointerEvents,j));return k.includes(h.w.THIRD_PARTY_ANALYTICS)?(0,x.jsxs)("div",{className:P,children:[S(e,i),O&&(0,x.jsx)("iframe",{className:w,title:Z,type:"text/html",frameBorder:0,src:Z,allow:"autoplay",allowFullScreen:"allowFullScreen"})]}):(0,x.jsx)(v.Z,{url:l})}N.defaultProps=k;var Z=N,O=(0,r.qC)((0,s.Z)(a.Z,(function(e){return{shouldDisablePointerEvents:e}})),(0,i.Z)())(Z)},11998:function(e,t,n){"use strict";var r=n(92777),i=n(82262),s=n(10748),a=n(81531),o=n(63553),c=n(37247),l=n(59499),u=n(17253),d=n(67294),p=n(1392),m=n(85893);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var h=function(e){(0,a.Z)(n,e);var t=g(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,s.Z)(e),"cancel",(function(){e.props.onRequestHide()})),e}return(0,i.Z)(n,[{key:"render",value:function(){return(0,m.jsxs)(p.u,{show:!0,dialogClassName:"modal-lg",onHide:this.cancel,children:[(0,m.jsx)(p.u.Header,{closeButton:!0,children:(0,m.jsx)(p.u.Title,{children:this.props.title})}),(0,m.jsx)(p.u.Body,{children:(0,m.jsx)("img",{className:"img-responsive center-block",src:this.props.image})}),(0,m.jsx)(p.u.Footer,{children:(0,m.jsx)(u.zx,{onClick:this.cancel,type:"secondary",children:this.props.cancelText})})]})}}]),n}(d.Component);(0,l.Z)(h,"defaultProps",{cancelText:"Close",title:"Image"}),t.Z=h},21478:function(e,t,n){"use strict";var r=n(59499),i=(n(67294),n(72555)),s=n.n(i),a=(n(43393),n(53788)),o=n(90343),c=n(89070),l=n(85893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=s()({displayName:"ShopPage",mixins:[a.Z],getHeader:function(){var e=this.getTab();return(0,l.jsx)(o.Z,d(d({},this.props),{},{tab:e,isSmall:!0}))},getTab:function(){return"shop/".concat(this.props.shopSlug)},getContent:function(){return(0,l.jsx)(c.Z,{ownerName:this.props.tournament,shopSlug:this.props.shopSlug,currentUser:this.props.currentUser})},getPageClassName:function(){return"temp-container-max-width"},shouldHideToaster:function(){return!0}});t.Z=p},65592:function(e,t,n){"use strict";var r=n(59499),i=n(17253),s=n(67294),a=n(94184),o=n.n(a),c=n(34174),l=n(67219),u=n(48206),d=n(46725),p=n.n(d),m=n(85893),g=function(e){var t=e.className,n=e.innerClassName,a=e.containerSize,d=e.children,g=e.label,h=e.url,v=e.title,f=e.isSticky,y=Boolean(v),x=y&&(0,s.isValidElement)(v),j=y&&"string"===typeof v,b=Boolean(h)&&Boolean(g)?(0,m.jsx)("span",{children:(0,m.jsxs)(l.Z,{url:h,type:"primary",children:[(0,m.jsx)(c.xu,{className:"fa fa-angle-left"})," ",g]})}):null,k=null;x?k=v:j&&(k=(0,m.jsx)(i.ZT,{variant:"h4",component:"h1",children:v}));var S=o()(p().contentHeaderContainer,(0,r.Z)({},p().sticky,f)),N=o()(p().contentHeader,(0,r.Z)({},t,Boolean(t))),Z=o()(n,(0,r.Z)({},p().leftMargin,!0));return(0,m.jsx)("div",{className:S,children:(0,m.jsx)("header",{className:N,children:(0,m.jsx)("div",{children:(0,m.jsxs)(u.Z,{className:Z,size:a,children:[b,k,d]})})})})};g.defaultProps={children:null,className:null,innerClassName:null,containerSize:"large",label:null,url:null,isSticky:!1},t.Z=g},99911:function(e,t,n){"use strict";var r=n(65592);t.Z=r.Z},89070:function(e,t,n){"use strict";n.d(t,{Z:function(){return mn}});var r=n(11214),i=n(12273),s=n(59499),a=n(17253),o=n(67294),c=n(72555),l=n.n(c),u=n(96486),d=n(43393),p=n.n(d),m=n(34174),g=n(93665),h=n(60926),v=n(41074),f=n(78147),y=n(48206),x=n(3248),j=n(30343),b=n(45564),k=n(85302),S=n(13770),N=n(81769),Z=n(92211),O=n(80710),P=n(12315),w=n(54785),C=n(93267),I=n(90977),T=n(53658),D=n(92777),_=n(82262),M=n(10748),L=n(81531),A=n(63553),E=n(37247),R=n(90773),F=n(94184),B=n.n(F),z=n(74524),U=n(64926),V=n.n(U),G=n(85893),H=function(e){var t,n,r,i=e.className,o=e.currency,c=e.level,l=e.isLocked,d=e.expanded,p=e.numUnlocks,m=e.showGoalTotal,g=e.translate,h=c.get("contributedAmount",0),v=c.get("goalAmount",0),f=O.Z.format(Math.round(h),o),y=B()(V().progressInfo,(0,s.Z)({},V().expanded,d)),x=!v,j=g("LevelProgressIndicator.amountRaisedSoFar",{amount:O.Z.format(h,o)}),b=B()((0,s.Z)({},V().isUncapped,x));t=(0,G.jsx)("progress",{styles:b,value:h,max:v}),l||(t=(0,G.jsx)(a.MZ,{placement:"top",message:j,children:t}));var k=Math.floor(h/v*100),S=p>0&&!d,N=(0,u.isInteger)(k);return m&&v&&(r=g("LevelProgressIndicator.raisedXofGoal",{goal:O.Z.format(Math.round(v),o)})),n=(0,G.jsxs)("div",{className:y,children:[(0,G.jsxs)("div",{children:[(0,G.jsx)("strong",{children:f})," ",(0,G.jsxs)("span",{children:[g("LevelProgressIndicator.raised"),r]})]}),N&&(0,G.jsxs)("div",{children:[(0,G.jsx)("strong",{children:"".concat(k,"%")})," ",(0,G.jsx)("span",{children:g("LevelProgressIndicator.funded")})]}),S&&(0,G.jsxs)("div",{children:[(0,G.jsx)("strong",{children:p})," ",(0,G.jsx)("span",{children:g("LevelProgressIndicator.unlocks")})]})]}),l&&(n=(0,G.jsx)("div",{className:V().progressInfo,children:(0,G.jsx)("span",{children:(0,G.jsx)("strong",{children:g("LevelProgressIndicator.goalLocked")})})})),t||n?(0,G.jsxs)("div",{className:"".concat(V().progressIndicator," ").concat(i),children:[t,n]}):null};H.defaultProps={className:"",expanded:!1,isLocked:!1,numUnlocks:0,showGoalTotal:!1};var q=(0,v.Z)()(H),Q=n(30381),W=n.n(Q);function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,A.Z)(this,n)}}var J=function(e){(0,L.Z)(n,e);var t=Y(n);function n(e){var r;return(0,D.Z)(this,n),r=t.call(this,e),(0,s.Z)((0,M.Z)(r),"updateTime",(function(){r.setState({now:W()()})})),r.state={now:W()()},r.updateTime(),r}return(0,_.Z)(n,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.updateTime,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.level,n=e.className,r=this.state.now,i=t.get("endAt");if(!i)return null;var s=W().unix(i).diff(r);if(s<0)return(0,G.jsx)(m.Df,{className:n,backgroundColor:"gg-background-color-gray_dark",children:(0,G.jsx)(m.M5,{icon:"fa fa-lock",text:"CLOSED"})});var a=function(e){var t,n=W().duration(e),r=n.days(),i=n.hours(),s=n.minutes(),a=n.seconds();return r>0?t="".concat(i>12?r+1:r," days"):((0,u.isInteger)(a)&&(t="".concat(Math.abs(a),"s")),(0,u.isInteger)(s)&&(t="".concat(Math.abs(s),"m ").concat(t)),(0,u.isInteger)(i)&&(t="".concat(Math.abs(i),"h ").concat(t))),t}(s),o="".concat(a," left");return(0,G.jsx)(m.Df,{className:n,backgroundColor:"gg-background-color-".concat("orange"),children:o})}}]),n}(o.Component);J.defaultProps={className:""};var K=J,X=n(54730),$=n(51938),ee=n(96097),te=n(43005),ne=n.n(te);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ie=function(e){var t=e.unlockItems,n=e.levels,r=(t||(0,d.Map)()).filter((function(e){return[w.ZP.LEVEL,w.ZP.GENERIC].indexOf(e.get("type"))>-1}));if(!r.size)return null;return(0,G.jsxs)("div",{children:[(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",children:"This level unlocks:"}),r.map((function(t){var r,i=t.get("targetId"),a=t.get("type");if(a===w.ZP.LEVEL){if(!(r=n.get(i)))return null;var o=new Z.Z(r);return(0,G.jsx)(je,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({level:r},o.getRelevantLevelInfo(e)),r.get("id"))}if(a===w.ZP.GENERIC){var c=t.get("text"),l=t.get("iconClass");return(0,G.jsxs)("div",{className:ne().unlockItemRow,children:[(0,G.jsx)(m.xu,{className:"text-center fa fa-".concat(l)}),(0,G.jsx)("span",{children:c})]})}return null})).toArray()]})};ie.defaultProps={};var se=ie,ae=n(75212),oe=n.n(ae);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue={player:null,unlockItems:(0,d.Map)(),unlocksByLevel:(0,d.Map)(),isFeatured:!1,isLocked:!1},de=function(e){var t=e.level,n=e.currency,r=e.unlockItems,i=e.player,s=e.closeModal,o=e.isLocked,c=e.navigate,l=e.shop,u=t.get("id")||0,d=new Z.Z(t),p=t.get("name"),g=d.getImageUrl(i),h=g&&(0,G.jsx)("img",{alt:p,src:g,className:oe().img}),v=new N.Z(l).getTabUrl("products"),f=t.getIn(["mutations","shopLevelVoting",u.toString(),"config","id"])&&(0,G.jsx)(ee.Z,{level:t,readOnly:!0}),y=d.isSelectable()&&!o&&(0,G.jsx)(m.zx,{onClick:function(){return c(v)},size:"sm",label:"Shop to contribute"});return(0,G.jsx)(X.Z,{id:"shop-level-modal",show:!0,closeModal:s,size:"lg",modal:(0,G.jsxs)(m.u_,{className:oe().levelModal,children:[(0,G.jsx)(m.xB,{children:(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",children:p})}),(0,G.jsx)(m.hz,{children:(0,G.jsxs)(m.rj,{hasGutter:!0,children:[(0,G.jsx)(m.r8,{size:8,children:(0,G.jsxs)(m.pN,{children:[h,(0,G.jsx)("div",{children:(0,G.jsx)($.Z,{markdown:d.getDescription()})}),f]})}),(0,G.jsx)(m.r8,{size:4,children:(0,G.jsxs)(m.pN,{useLegacyStyles:!0,direction:"vertical",children:[(0,G.jsx)(q,{level:t,expanded:!0,currency:n,numUnlocks:r.size||0,isLocked:o,showGoalTotal:!0}),(0,G.jsx)(K,{level:t}),y]})}),(0,G.jsx)(m.r8,{size:8,children:(0,G.jsx)(se,le({},e))})]})})]})})};de.defaultProps=ue;var pe=(0,R.Z)(de),me=n(63735),ge=n.n(me);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,A.Z)(this,n)}}var ye={player:null,isLocked:!1,blockedByLevel:null,unlockItems:(0,d.Map)()},xe=function(e){(0,L.Z)(n,e);var t=fe(n);function n(){var e;(0,D.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,M.Z)(e),"state",{showModal:!1}),(0,s.Z)((0,M.Z)(e),"showModal",(function(){e.setState({showModal:!0})})),(0,s.Z)((0,M.Z)(e),"closeModal",(function(){e.setState({showModal:!1})})),e}return(0,_.Z)(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.level,i=n.currency,a=n.unlockItems,c=n.player,l=n.blockedByLevel,u=n.isLocked,d=r.get("name"),p="fa-flag",g=a.first();if(g){var h=g.get("iconClass");p=h?"fa-".concat(h):"fa-arrow-circle-up"}var v=B()((e={},(0,s.Z)(e,p,Boolean(p)),(0,s.Z)(e,"fa",!0),e)),f=new Z.Z(r),y=f.getImageUrl(c),x=y?(0,G.jsx)("img",{alt:d,src:y}):(0,G.jsx)("i",{className:v}),j=u&&(0,G.jsx)(m.xu,{className:"".concat(ge().lock," fa fa-lock")}),b=B()(ge().imgContainer,(t={},(0,s.Z)(t,ge().noImage,!y),(0,s.Z)(t,ge().isClosed,u||f.isClosed()),t)),k=(0,G.jsx)(K,{level:r}),S=r.getIn(["mutations","shopLevelVoting",r.get("id").toString(),"config","id"])&&(0,G.jsxs)(m.Df,{backgroundColor:"gg-background-color-blue",children:[(0,G.jsx)(m.xu,{className:"fa fa-bar-chart"}),"VOTING"]}),N=(0,G.jsxs)(m.pN,{useLegacyStyles:!0,className:ge().chiclet,direction:"horizontal",size:"sm",children:[k,S]}),O=this.state.showModal?(0,G.jsx)(pe,ve(ve({},this.props),{},{closeModal:this.closeModal})):null;return(0,G.jsxs)(o.Fragment,{children:[O,(0,G.jsx)(z.Z,{onClick:this.showModal,children:(0,G.jsxs)("div",{className:ge().levelOverview,children:[(0,G.jsxs)("div",{className:b,children:[x,y&&j]}),(0,G.jsxs)("span",{className:ge().levelInfo,children:[(0,G.jsx)("span",{className:ge().levelName,children:d}),N,(0,G.jsx)(q,{level:r,currency:i,numUnlocks:a.size||0,isLocked:Boolean(l)})]})]})})]})}}]),n}(o.Component);xe.defaultProps=ye;var je=xe,be=n(76734),ke=n.n(be),Se={player:null,unlockItems:(0,d.Map)()};function Ne(e){var t,n,r=e.level,i=e.isLocked,a=e.isShopOpen,o=e.isFeatured,c=e.unlockItems,l=e.player,u=r.get("name"),p="fa-flag",g=c.first();if(g){var h=g.get("iconClass");p=h?"fa-".concat(h):"fa-arrow-circle-up"}var v=Z.Z.isComplete(r,a),f=B()(ke().levelImage,(t={},(0,s.Z)(t,p,Boolean(p&&!v)),(0,s.Z)(t,"fa",!v),t)),y=new Z.Z(r),x=y.getImageUrl(l||(0,d.Map)(),null,300),j=x?(0,G.jsx)("img",{className:o&&ke().isFeatured,alt:u,src:x}):(0,G.jsx)("i",{className:f}),b=v&&(0,G.jsx)(m.xu,{className:"fa fa-check-circle-o gg-color-green"}),k=x&&!v&&i&&(0,G.jsx)(m.xu,{className:"fa fa-lock"}),S=B()(ke().levelImage,(n={},(0,s.Z)(n,ke().noImage,!x),(0,s.Z)(n,ke().noImageComplete,!x&&v),(0,s.Z)(n,ke().isFaded,v||i||y.isClosed()),n));return(0,G.jsxs)("div",{className:S,children:[b,k,j]})}Ne.defaultProps=Se;var Ze=Ne,Oe=n(28065),Pe=n.n(Oe);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,A.Z)(this,n)}}var Te={player:(0,d.Map)(),unlockItems:(0,d.Map)()},De=function(e){(0,L.Z)(n,e);var t=Ie(n);function n(){var e;(0,D.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,M.Z)(e),"state",{showModal:!1}),(0,s.Z)((0,M.Z)(e),"showModal",(function(){e.setState({showModal:!0})})),(0,s.Z)((0,M.Z)(e),"closeModal",(function(){e.setState({showModal:!1})})),e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.level,n=e.currency,r=e.unlockItems,i=e.isLocked,s=e.player,a=e.isShopOpen,c=(0,G.jsx)(Ze,{level:t,player:s,isLocked:i,unlockItems:r,isShopOpen:a,isFeatured:!0}),l=t.get("id")||0,u=t.getIn(["mutations","shopLevelVoting",l.toString(),"config","id"]),d=u?(0,G.jsx)("div",{children:(0,G.jsx)(ee.Z,{condensed:!0,level:t,readOnly:!0,numColumns:2,maxDisplay:8,image:c})}):c,p=new Z.Z(t),g=t.get("description"),h=g&&g.length>20&&(0,G.jsx)(m.Dr,{type:"primary",onClick:this.showModal,children:"Read More"}),v=this.state.showModal?(0,G.jsx)(pe,Ce(Ce({},this.props),{},{closeModal:this.closeModal})):null,f=(0,G.jsx)(K,{level:t}),y=u&&(0,G.jsxs)(m.Df,{backgroundColor:"gg-background-color-blue",children:[(0,G.jsx)(m.xu,{className:"fa fa-bar-chart"}),"VOTING"]}),x=(0,G.jsxs)(m.pN,{useLegacyStyles:!0,className:Pe().chiclet,direction:"horizontal",size:"sm",children:[f,y]});return(0,G.jsxs)(o.Fragment,{children:[v,(0,G.jsx)(z.Z,{onClick:this.showModal,children:(0,G.jsxs)("div",{className:Pe().levelOverviewHero,children:[(0,G.jsxs)(m.pN,{useLegacyStyles:!0,direction:"vertical",children:[(0,G.jsx)("div",{className:Pe().topSection,children:d}),(0,G.jsx)("div",{className:Pe().bottomSection,children:(0,G.jsxs)("div",{children:[(0,G.jsx)("span",{className:Pe().levelName,children:t.get("name")}),x,(0,G.jsxs)("div",{className:Pe().description,children:[(0,G.jsx)("div",{children:(0,G.jsx)($.Z,{markdown:p.getDescription()})}),h]})]})})]}),(0,G.jsx)(q,{className:Pe().progressIndicator,level:t,currency:n,numUnlocks:r.size||0,isLocked:i})]})})]})}}]),n}(o.Component);De.defaultProps=Te;var _e=De,Me=n(60544),Le=n.n(Me);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,A.Z)(this,n)}}var Fe=function(e){(0,L.Z)(n,e);var t=Re(n);function n(){var e;(0,D.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,M.Z)(e),"state",{viewAll:!1}),e}return(0,_.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.shop,r=t.orderedLevels,i=t.navigate,s=t.players,a=t.translate,o=new N.Z(n),c=n.get("currency"),l=1;3131!==n.get("id")&&3225!==n.get("id")||(l=2);var u=r.slice(l,6).map((function(t,n){var r=new Z.Z(t);return(0,G.jsx)(je,Ee({level:t,players:s},r.getRelevantLevelInfo(Ee(Ee({},e.props),{},{currency:c}))),t.get("id"))}),this).toArray(),d=r.size>1,p=d?6:12,g=r.slice(0,l).map((function(t){var n=new Z.Z(t),r=Ee({level:t,isShopOpen:o.isOpen(),players:s},n.getRelevantLevelInfo(Ee(Ee({},e.props),{},{currency:c})));return(0,G.jsx)(m.r8,{className:Le().heroColumn,size:12,smSize:p,lgSize:p,xlSize:p,mdSize:12,children:(0,G.jsx)(_e,Ee({},r))})})).toArray(),h=o.getTabUrl("levels");return(0,G.jsxs)(m.Zb,{children:[(0,G.jsx)(m.eW,{isFull:!0,isBordered:!0,children:(0,G.jsxs)(m.rj,{className:Le().levelOverviewList,children:[g,(0,G.jsx)(m.r8,{className:Le().levelColumn,size:12,smSize:6,lgSize:6,xlSize:6,mdSize:12,children:u})]})}),(0,G.jsx)(m.iR,{children:(0,G.jsx)(m.zx,{type:"outline",size:"md",label:a("LevelOverviewList.viewAllGoals"),icon:(0,G.jsx)("i",{className:"fa fa-angle-right"}),onClick:function(){return i(h)}})})]})}}]),n}(o.Component),Be=(0,r.qC)((0,v.Z)(),R.Z)(Fe),ze=n(93658),Ue=n(15187);function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,A.Z)(this,n)}}var Ge=function(e){(0,L.Z)(n,e);var t=Ve(n);function n(e){var r;(0,D.Z)(this,n),r=t.call(this,e),(0,s.Z)((0,M.Z)(r),"timerHit",(function(){r.setState({time:r.state.time+1}),r.props.endTime<=r.state.time+1&&(clearInterval(r.secondsTimer),"function"===typeof r.props.onComplete&&r.props.onComplete())}));var i=W()();return r.state={time:i.unix()},r}return(0,_.Z)(n,[{key:"componentDidMount",value:function(){this.secondsTimer=setInterval(this.timerHit,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.secondsTimer)}},{key:"render",value:function(){var e=this.props,t=e.endTime,n=e.borderColor,r=e.textColor,i=e.isPageSection,s=e.hideTimerOnComplete,o=e.translate,c=this.props.timerText||o("CompendiumCountdown.timerText"),l=Math.max(1e3*(t-this.state.time),0),u=W().duration(l),d={};if(n&&(d.border="1px solid ".concat(n)),s&&t<this.state.time)return(0,G.jsx)("div",{});var p,m=B()(this.props.className,"splash-timer no-border",{"text-center page-section":i});return u.months()&&(p=(0,G.jsxs)("div",{style:d,children:[(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",style:{color:r},children:u.months()}),(0,G.jsx)(a.ZT,{variant:"header14",component:"h5",style:{color:r},className:"text-uppercase",children:o("CompendiumCountdown.months")})]})),(0,G.jsxs)("div",{className:m,children:[(0,G.jsx)("p",{style:{color:r},children:(0,G.jsx)("strong",{children:c})}),(0,G.jsxs)("div",{className:"splash-timer-time text-center",children:[p,(0,G.jsxs)("div",{style:d,children:[(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",style:{color:r},children:u.days()}),(0,G.jsx)(a.ZT,{variant:"header14",component:"h5",style:{color:r},className:"text-uppercase",children:o("CompendiumCountdown.days")})]}),(0,G.jsxs)("div",{style:d,children:[(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",style:{color:r},children:u.hours()}),(0,G.jsx)(a.ZT,{variant:"header14",component:"h5",style:{color:r},className:"text-uppercase",children:o("CompendiumCountdown.hours")})]}),(0,G.jsxs)("div",{style:d,children:[(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",style:{color:r},children:u.minutes()}),(0,G.jsx)(a.ZT,{variant:"header14",component:"h5",style:{color:r},className:"text-uppercase",children:o("CompendiumCountdown.mins")})]}),(0,G.jsxs)("div",{style:d,children:[(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",style:{color:r},children:u.seconds()}),(0,G.jsx)(a.ZT,{variant:"header14",component:"h5",style:{color:r},className:"text-uppercase",children:o("CompendiumCountdown.secs")})]})]})]})}}]),n}(o.Component);(0,s.Z)(Ge,"defaultProps",{endTime:1441407600,className:"",textColor:"#000000",isPageSection:!0,hideTimerOnComplete:!0});var He=(0,v.Z)()(Ge),qe=(0,v.Z)()((function(e){var t=e.shop,n=e.borderColor,r=e.textColor,i=e.translate,s=t.get("endAt");if(!s||!t.get("showCountdown"))return null;var a=new N.Z(t).isOpen()?i("ShopCountdown.closesIn"):i("ShopCountdown.closed",{date:W().unix(s).format("MMMM Do, YYYY")});return(0,G.jsx)(He,{borderColor:n,textColor:r,timerText:a,endTime:s,isPageSection:!1,hideTimerOnComplete:!1})})),Qe=n(29199),We=n.n(Qe);function Ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,A.Z)(this,n)}}function Je(e){return e.includes("#")?e:"#".concat(e)}var Ke=function(e){(0,L.Z)(n,e);var t=Ye(n);function n(){return(0,D.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"renderTagline",value:function(){var e=this.props.shop;if(!e.get("tagline"))return null;var t=Je(e.get("textPrimaryColor"));return(0,G.jsx)("div",{style:{color:t},children:(0,G.jsx)($.Z,{markdown:e.get("tagline")})})}},{key:"renderDescription",value:function(){var e=this.props.shop;if(!e.get("description"))return null;var t=Je(e.get("textPrimaryColor"));return(0,G.jsx)("div",{style:{color:t},children:(0,G.jsx)($.Z,{markdown:e.get("description")})})}},{key:"renderHeaderSummary",value:function(){var e=this.props.shop,t=Je(e.get("textHeadingColor")),n=Je(e.get("textPrimaryColor"));if(e.get("summaryMarkdown"))return(0,G.jsx)("div",{style:{color:n},children:(0,G.jsx)($.Z,{markdown:e.get("summaryMarkdown")})});if(e.get("headerItems")){for(var r=e.get("headerItems").sortBy((function(e){return e.get("displayOrder")})).map((function(r){return(0,G.jsx)(m.r8,{size:e.get("headerItems").size>1?6:12,children:(0,G.jsxs)(m.pN,{children:[(0,G.jsx)("strong",{style:{color:t},children:r.get("title")}),(0,G.jsx)("div",{style:{color:n},children:r.get("description")})]})},"headerItem-".concat(r.get("displayOrder")))}),this).toArray(),i=[],s=[],a=0;a<r.length;a+=1){var o=r[a];i.push(o),a%2!==0&&(s.push((0,G.jsx)(m.rj,{hasGutter:!0,children:i},"row-".concat(a))),i=[])}return i.length&&s.push((0,G.jsx)(m.rj,{hasGutter:!0,children:i})),s}}},{key:"renderShopInfo",value:function(){var e=this.props.shop,t=new N.Z(e),n=Je(e.get("textHeadingColor")),r=Je(e.get("textPrimaryColor"));return(0,G.jsxs)(m.pN,{useLegacyStyles:!0,size:"lg",children:[(0,G.jsx)("div",{children:(0,G.jsx)(a.ZT,{variant:"h2",component:"h1",style:{color:n},children:t.getName()})}),(0,G.jsx)("div",{className:We().mobileShopMedia,children:this.renderShopMedia()}),this.renderTagline(),this.renderDescription(),this.renderHeaderSummary(),(0,G.jsx)(qe,{shop:e,borderColor:n,textColor:r})]})}},{key:"renderShopMedia",value:function(){var e=this.props.shop;if(e.get("youtubeUrl"))return(0,G.jsx)(Ue.Z,{url:e.get("youtubeUrl")});if(2966===e.get("id"))return(0,G.jsx)("img",{src:"https://i.imgur.com/4eBGs8q.png",alt:"start.gg and Smash World Tour 2020",width:"320"});if(e.get("owner")){var t=new ze.Z(e.get("owner"));if(t.getImage("profile"))return(0,G.jsx)("div",{children:(0,G.jsx)("img",{src:t.getImage("profile",280),alt:"profile"})})}}},{key:"render",value:function(){var e=this.props.shop,t=!e.get("youtubeUrl")&&!(e.get("headerItems")&&e.get("headerItems").size)&&!e.get("description"),n=Je(e.get("bgColor"));return t?(0,G.jsx)("div",{className:"page-section",style:{backgroundColor:n},children:(0,G.jsx)(y.Z,{size:"fluid",children:(0,G.jsxs)(m.rj,{alignItems:"top",hasGutter:!0,children:[(0,G.jsx)(m.r8,{size:2}),(0,G.jsx)(m.r8,{size:8,children:this.renderShopInfo()})]})})}):(0,G.jsx)("div",{className:"page-section",style:{backgroundColor:n},children:(0,G.jsx)(y.Z,{size:"fluid",children:(0,G.jsxs)(m.rj,{alignItems:"top",hasGutter:!0,children:[(0,G.jsx)(m.r8,{size:12,mdSize:6,children:this.renderShopInfo()}),(0,G.jsx)(m.r8,{xsHidden:!0,smHidden:!0,mdSize:6,alignSelf:"center",className:We().shopMediaContainer,children:this.renderShopMedia()})]})})})}}]),n}(o.Component);Ke.defaultProps={};var Xe=Ke,$e=n(8129),et=n(5087),tt=n.n(et);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,A.Z)(this,n)}}var st={unlockItems:(0,d.Map)(),player:null,isFeatured:!1,isLocked:!1,shopSuperVisor:null},at=function(e){(0,L.Z)(n,e);var t=it(n);function n(){var e;(0,D.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,M.Z)(e),"state",{showModal:!1}),(0,s.Z)((0,M.Z)(e),"showModal",(function(){e.setState({showModal:!0})})),(0,s.Z)((0,M.Z)(e),"closeModal",(function(){e.setState({showModal:!1})})),e}return(0,_.Z)(n,[{key:"isShopSuperVisorEnabled",value:function(){return(this.props.shopSuperVisor||(0,d.Map)()).get("isEnabled")||!1}},{key:"render",value:function(){var e=this.props,t=e.level,n=e.currency,r=e.isFeatured,i=e.player,c=e.unlockItems,l=e.isLocked,u=e.isShopOpen,d=t.get("name"),p=t.get("published"),g=new Z.Z(t),h=(0,G.jsx)(Ze,{level:t,player:i,isLocked:l,unlockItems:c,isShopOpen:u,isFeatured:r}),v=t.get("description"),f=v&&v.length>20&&(0,G.jsx)("div",{className:tt().readMoreContainer,children:(0,G.jsx)(m.Dr,{type:"primary",onClick:this.showModal,children:"Read More"})}),y=this.state.showModal?(0,G.jsx)(pe,rt(rt({},this.props),{},{closeModal:this.closeModal})):null,x=t.get("id")||0,j=t.getIn(["mutations","shopLevelVoting",x.toString(),"config","id"]),b=j?(0,G.jsx)("div",{children:(0,G.jsx)(ee.Z,{condensed:!0,level:t,readOnly:!0,numColumns:r?2:1,maxDisplay:r?8:4,image:h})}):h,k=B()(tt().levelCard,(0,s.Z)({},tt().isFeatured,r)),S=(0,G.jsx)(K,{level:t}),N=j&&(0,G.jsxs)(m.Df,{backgroundColor:"gg-background-color-blue",children:[(0,G.jsx)(m.xu,{className:"fa fa-bar-chart"}),"VOTING"]}),O=(0,G.jsxs)(m.pN,{useLegacyStyles:!0,className:tt().chiclet,direction:"horizontal",size:"sm",children:[S,N]});return(0,G.jsxs)(o.Fragment,{children:[(0,G.jsxs)(m.Zb,{className:k,children:[(0,G.jsxs)(m.eW,{isFull:!0,isBordered:!0,children:[!p&&this.isShopSuperVisorEnabled()&&(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",className:"text-center",children:(0,G.jsx)("div",{className:"top-spacer-sm bottom-spacer-sm",children:(0,G.jsxs)(m.QP,{type:"error",children:[(0,G.jsx)(m.xu,{className:"fa fa-lock gg-color-red"}),"Unpublished"]})})}),(0,G.jsx)("div",{className:tt().topSection,children:(0,G.jsxs)($e.MI,{direction:"column",children:[b,(0,G.jsx)("div",{style:{position:"relative"},children:O})]})}),(0,G.jsxs)("div",{className:tt().info,children:[(0,G.jsxs)("div",{className:tt().descriptionContainer,children:[(0,G.jsx)("div",{className:tt().title,children:d}),(0,G.jsx)("div",{className:tt().description,children:(0,G.jsx)("div",{children:(0,G.jsx)($.Z,{markdown:g.getDescription()})})}),f]}),(0,G.jsx)(q,{className:tt().levelProgressIndicator,level:t,currency:n,numUnlocks:c.size||0,isLocked:l})]})]}),(0,G.jsx)(m.iR,{children:(0,G.jsx)(m.zx,{label:"View Goal",onClick:this.showModal,type:"outline"})})]}),y]})}}]),n}(o.Component);at.defaultProps=st;var ot=at,ct=(0,r.qC)((0,i.Z)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ShopSuperVisorQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shopSuperVisor"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:71,source:{body:"query ShopSuperVisorQuery {\n\tshopSuperVisor @client {\n\t\tisEnabled\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{}))(ot),lt=n(69162),ut=n.n(lt);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n,r,i){var s=t.shop.get("currency");return e&&e.size?(0,G.jsxs)(o.Fragment,{children:[i,(0,G.jsx)("div",{className:ut().levelGroup,children:e.map(gt(pt(pt({},t),{},{currency:s,canHaveFeatured:n,isShopOpen:r}))).toArray()})]}):null}function gt(e){return function(t,n){var r=new Z.Z(t);return(0,G.jsx)(ct,pt({isFeatured:0===n&&e.canHaveFeatured,level:t,players:e.players,isShopOpen:e.isShopOpen},r.getRelevantLevelInfo(e)),t.get("id"))}}var ht=function(e){if(!e.levels||!e.levels.size)return(0,G.jsx)(I.Z,{title:"No unlockable goals",message:"This shop does not have any unlockable goals."});var t=new N.Z(e.shop).isOpen(),n=function(e){return Z.Z.isComplete(e,t)},r=e.orderedLevels.filterNot(n),i=e.orderedLevels.filter(n),s=t?"Make an Impact":"Unfinished Levels",c=mt(r,e,t,t,(0,G.jsxs)("div",{className:"text-center",children:[(0,G.jsx)(a.ZT,{variant:"h4",component:"h2",children:s}),(0,G.jsx)("p",{className:"text-muted",children:"Help fund goals by ordering merch or donating directly!"})]})),l=mt(i,e,!t,t,(0,G.jsx)("div",{className:"text-center",children:(0,G.jsx)(a.ZT,{variant:"h4",component:"h2",children:"Complete Goals"})})),u=t?[c,l]:[l,c];return(0,G.jsxs)(o.Fragment,{children:[(0,G.jsx)(Xe,{shop:e.shop}),(0,G.jsx)(y.Z,{className:"page-section  ",size:"fluid",children:(0,G.jsx)(m.pN,{useLegacyStyles:!0,direction:"vertical",size:"lg",children:u})})]})},vt=n(73935),ft=n(67764).Z.extend({}),yt={arrangeForHorizontalMasonry:function(e,t,n){return this.getColumnLists(e,t,n).reduce((function(e,t){return e=e.concat(t)}),p().List())},getColumnLists:function(e,t,n){for(var r=[],i=[],s=0;s<e;s++)r.push(p().List()),i[s]=0;var a=0;return t.forEach((function(e){var t=1;n&&(t=n(e)),a=0,a=(0,u.reduce)(i,(function(e,t,n){return i[e]>i[n]?n:e}),0),i[a]+=t,r[a]=r[a].push(e)})),r}},xt=n(10414),jt=n(50229),bt=n(65810),kt=n(52346),St=n(49172),Nt=n(16215),Zt=n(22202),Ot=n(33241),Pt=n(29860),wt=n(11998),Ct={linkDeep:function(e){var t=e.split("."),n=t.shift(),r=t.pop(),i=this.state[n];if(r){i=i||{};for(var s=0;s<t.length;s++)i=(i=i[t[s]])||{};i=i[r]}return{value:i,requestChange:(0,u.bind)((function(e){var i={};if(r){for(var s=this.state[n],a=s=s||{},o=0;o<t.length;o++)a[t[o]]=a[t[o]]||{},a=a[t[o]];a[r]=e,i[n]=s,this.setState(i)}else i[n]=e,this.setState(i)}),this)}}},It=n(35368),Tt=n(54226);function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt=l()({displayName:"ProductItem",mixins:[Ct],getDefaultProps:function(){return{expanded:!1}},getInitialState:function(){return{options:this.props.product.get("options").reduce((function(e,t){var n=t.get("key"),r=t.get("variants").get(0);return e[n]=r&&r.get("value"),e}),{}),previewing:!1}},getLineItemData:function(e){var t,n=this.props.product,r=new kt.Z(n),i=this.props.productOptions.find((function(e){return e.get("type")===Nt.ZP.AMOUNT}))||(0,d.Map)(),s={unitPrice:r.getItemPrice((0,d.Map)(),i,this.props.productOptions)};if(this.props.productOptions.forEach((function(t){var n=t.get("type")===Nt.ZP.VARIANT_GROUP;if(!e[t.get("id")]&&n){var r=this.props.variantsByGroup.get(t.get("typeId"));r&&1===r.size&&(e[t.get("id")]=It.Z.getDefaultVariantOptions(r))}}),this),(0,u.isEmpty)(e)||(s.optionValues=e),r.isNonClothingShippingProduct()&&(0,u.isEmpty)(e)){var a=this.props.productOptions.filter((function(e){return e.get("shopProductId")===n.get("id")&&e.get("type")===Nt.ZP.VARIANT_GROUP}),this);a&&a.size&&(e={},a.forEach((function(r){if(n.get("type")===Zt.ZP.BUNDLE){var i=this.props.productOptions.get(r.get("parentOptionId"));if(i)if(t=this.props.products.get(i.get("typeId")),!new kt.Z(t).isNonClothingShippingProduct())return}if(this.props.variantsByGroup.get(r.get("typeId"))&&this.props.variantsByGroup.get(1===r.get("typeId").size)){var a={shipping:"shipping"};e[parseInt(r.get("id"),10)]=a,s.optionValues=e}}),this))}if(r.isAmountBased()){if(!this.state.expanded)return void this.setState({expanded:!0});s.optionValues=e,s.unitPrice=r.getItemPrice((0,d.fromJS)(e),i,this.props.productOptions)}return St.Z.getAddToCartData(n,s)},addToCart:function(e){var t=this.getLineItemData(e);if(t){var n={data:t,track:{tracker:"shop"}};this.props.executeAction(Tt.Z,n),this.setState({expanded:!1})}},isShopSuperVisorEnabled:function(){return(this.props.shopSuperVisor||(0,d.Map)()).get("isEnabled")},isVariantAvailable:function(){return{}},previewClicked:function(e){e.preventDefault(),e.stopPropagation(),this.setState({previewing:!0})},onEnterPreviewCliecked:function(e){"Enter"===e.key&&this.previewClicked(e)},modalClosed:function(){this.setState({previewing:!1})},buildCardContent:function(){var e,t,n,r,i,s,a,o,c=this.props,l=c.product,u=c.productOptions,d=c.shop,p=c.translate,g=c.hideAdd,h=this.state.expanded,v=l.get("type")===Zt.ZP.DONATION||!l.get("levelAmount"),f=new kt.Z(l),y=O.Z.iconForCurrency(d.get("currency")),x=p("ProductItem.checkout.btnText");if(f.isAmountBased())if(n=B()({"gg-well":!0}),h){s=p("ProductItem.contribution.level",{levelContributionAmount:f.getLevelContributionDisplay(y)}),i=this.buildContributionSection(s,"text-success-brand",!v),a=p("ProductItem.contribution.tooltip.donation"),o=this.buildContributionSection(a,"text-muted text-sm",!0);var j=u.find((function(e){return e.get("type")===Nt.ZP.AMOUNT}));if(j){var b=j.get("custom"),k=j.get("keyIndex"),S=5,N={};b.get("min")&&(S=b.get("min")),b.get("max")&&(N.max=b.get("max")),N.min=S,t=(0,G.jsx)(bt.Z,{title:j.get("name"),name:"".concat(j.get("id"),".custom"),isRequired:!0,value:S||l.get("price"),validationErrors:{isNumeric:p("Common.errors.isNumeric")},validations:{isNumeric:!0},children:(0,G.jsxs)("div",{className:"input-group cart-amount",children:[(0,G.jsx)("span",{className:"input-group-addon",children:O.Z.iconForCurrency(d.get("currency"))}),(0,G.jsx)("input",_t({type:"number",name:"amount",className:"form-control"},N))]})},"option-".concat(k))}}else x=f.getAddToCartText();if(!g){e=(0,G.jsx)(m.zx,{buttonType:"submit",type:"outline",label:x}),f.isSoldOut()&&(e=(0,G.jsx)("div",{className:"btn btn-primary btn-outline",children:p("ProductItem.product.soldOut")})),f.isPickupRequired()&&!f.canPickup()&&(e=(0,G.jsx)("div",{className:"btn btn-primary btn-outline",children:p("ProductItem.product.pickupDeadlinePassed")}));var Z={actionObjectType:Ot.Z.SHOP_PRODUCT,actionObjectId:l.get("id"),field1:"Add to Cart"},P="add-to-cart-".concat(l.get("id"));r=(0,G.jsx)(jt.Z,{name:P,role:"form",trackingData:Z,onSubmit:this.addToCart,submitButton:e,validationFn:this.isVariantAvailable,validationKey:P,children:(0,G.jsx)("div",{className:"",children:t})})}return s=p("ProductItem.contribution.level",{levelContributionAmount:f.getLevelContributionDisplay(y)}),i=this.buildContributionSection(s,"text-success-brand",l.get("showTooltip")&&!v),v&&!o&&(i=null),(0,G.jsxs)(m.pN,{useLegacyStyles:!0,className:n,children:[(0,G.jsx)("div",{children:r}),i,o]})},buildCardBody:function(){var e,t,n=this.props,r=n.product,i=n.translate,s=this.isShopSuperVisorEnabled(),a=(0,G.jsx)($.Z,{markdown:r.get("description")}),o=r.get("inventory")&&r.get("inventory").get("total");o&&(e=(0,G.jsx)("span",{className:"left-spacer-xs",children:(0,G.jsx)("span",{className:"label label-success",children:i("ProductItem.limit.inventory",{totalInventory:o})})})),(s||r.get("showBackers"))&&(t=(0,G.jsx)("span",{children:(0,G.jsx)("strong",{children:i("ProductItem.limit.backers",{backers:r.get("backers")})})}));var c=(0,G.jsxs)("div",{children:[(0,G.jsxs)("div",{className:"bottom-spacer-xs",children:[t,e]}),(0,G.jsx)("div",{children:a})]}),l=this.buildCardContent(),u=(0,G.jsxs)("div",{children:[c,l]});return r.get("type")===Zt.ZP.DONATION&&(u=(0,G.jsxs)("div",{children:[l,c]})),(0,G.jsx)("div",{className:"gg-card-body",children:u})},buildContributionSection:function(e,t,n){var r,i=this.props.levels&&this.props.levels.size;return n&&(r=(0,G.jsx)(Pt.Z,{product:this.props.product,hasLevels:i})),(0,G.jsxs)("div",{className:t,children:[(0,G.jsx)("span",{children:e})," ",r]})},render:function(){var e,t,n,r=this.props,i=r.product,s=r.shop,o=r.artistName,c=this.state,l=c.options,u=c.previewing,d=new kt.Z(i),p=i.get("name"),g=d.getImageForOptions(l);u&&(t=i.get("name"),o&&(t="".concat(o," - ").concat(t)),e=(0,G.jsx)(xt.Z,{onClose:this.modalClosed,name:"image-preview-modal-".concat(i.get("id")),modal:(0,G.jsx)(wt.Z,{title:t,image:d.getImageForOptions(l)})}));var h=O.Z.twoDecimalFormat(i.get("price"),s.get("currency"));i.get("type")!==Zt.ZP.DONATION&&i.get("type")!==Zt.ZP.GIFT_CARD&&(n=(0,G.jsx)(a.ZT,{variant:"h6",component:"h4",children:h}));var v=!i.get("published"),f=this.isShopSuperVisorEnabled(),y=v&&f;return(0,G.jsxs)("div",{className:"gg-card product-item text-center","data-item-key":i.get("id"),children:[e,(0,G.jsxs)("div",{className:"gg-card-body",children:[y&&(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",children:(0,G.jsxs)(m.QP,{type:"error",children:[(0,G.jsx)(m.xu,{className:"fa fa-lock gg-color-red"}),"Unpublished"]})}),n,(0,G.jsx)(a.ZT,{variant:"h6",component:"h4",className:"no-margin",children:p})]}),(0,G.jsx)("div",{className:"pointer previewable-image",onClick:this.previewClicked,role:"button",tabIndex:0,onKeyDown:this.onEnterPreviewCliecked,children:(0,G.jsx)("img",{className:"product-image",alt:p,src:g})}),this.buildCardBody()]})}}),Lt=(0,r.qC)((0,v.Z)(),f.Z)(Mt),At=(0,r.qC)((0,i.Z)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ShopSuperVisorQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shopSuperVisor"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:71,source:{body:"query ShopSuperVisorQuery {\n\tshopSuperVisor @client {\n\t\tisEnabled\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{}))(Lt),Et=n(81086),Rt=l()({displayName:"ShopProducts",mixins:[Et.Z],getInitialState:function(){return{numColumns:3}},componentDidUpdate:function(e){e.products!==this.props.products&&this.forceUpdate()},getEmptyChecks:function(){var e=[],t=(this.props.shop||p().Map()).get("id"),n={default:"This shop doesn't have any products yet. Check back soon!",1149:"Register now or manage your registration to order the shirt!"},r={default:"No products",1149:"Products Available in Registration"},i=n[t]||n.default,s=r[t]||r.default;return this.props.products&&this.props.products.size||e.push({title:s,message:i}),e},windowResized:function(){var e,t,n=vt.findDOMNode(this).querySelector(".product-card-list"),r=vt.findDOMNode(this).querySelectorAll(".gg-card.product-item");r&&r.length>0&&(e=r[0].offsetWidth);t=e&&3*e<n.offsetWidth?3:e&&2*e<n.offsetWidth?2:1,this.state.numColumns!==t&&this.setState({numColumns:t},this.windowResized)},makeProducts:function(e){var t=this.$el,n=yt.getColumnLists(this.state.numColumns,e,(function(e){return t?t.find('[data-item-key="'.concat(e.get("id"),'"]')).outerHeight(!0):1})),r=new N.Z(this.props.shop),i=P.Z.groupBy(this.props.variantGroups,"parentEntityId"),s=P.Z.groupBy(this.props.variants,"variantGroupId"),a=n.map((function(e,t){var n="product-card-column-".concat(t),a=e.reduce((function(e,t){var n=this.props.optionsByProduct.get(t.get("id"))||p().Map(),a=i.get(t.get("id"))||p().Map(),o=(0,G.jsx)(At,{hideAdd:!r.isOpen(),levels:this.props.levels,product:t,products:this.props.allProducts,productOptions:n,shop:this.props.shop,variantGroups:a,variantsByGroup:s},t.get("id"));return e.push(o),e}),[],this);return(0,G.jsx)("div",{className:"product-card-column",children:a},n)}),this);return(0,G.jsx)("div",{className:"gg-card-list masonry product-card-list",children:a})},makeArtistRows:function(){var e=this.props.vendors,t=[],n=this.props.products.toList().sortBy((function(e){return e.get("price")})).groupBy((function(e){return e.get("vendorId")&&6!==e.get("vendorId")?e.get("vendorId"):0}));return n.get(0)&&(e=e.set(0,p().fromJS({id:0,name:"Event Products"}))),(e=e.sort((function(e,t){if(67===e.get("id"))return 1;if(67===t.get("id"))return-1;if(6===e.get("id")||0===e.get("id"))return-1;if(6===t.get("id")||0===t.get("id"))return 1;if(66===e.get("id"))return 1;if(66===t.get("id"))return-1;var n=e.get("name"),r=t.get("name");return n===r?0:n>r?1:-1}))).forEach((function(e){var r=n.get(e.get("id"));if(r){var i,s,a,o,c,l,u,d,p=this.makeProducts(r),m=new ft(e).getImage("primary",100);e.get("name")&&(o=(0,G.jsx)("small",{className:"text-muted heading",children:(0,G.jsx)("span",{children:e.get("name")})})),m&&(d=(0,G.jsx)("div",{className:"avatar-attachment",children:(0,G.jsx)("div",{children:(0,G.jsx)("img",{className:"profile-pic img-circle",src:m})})})),e.get("twitterHandle")&&(s=(0,G.jsx)("li",{children:(0,G.jsx)("span",{children:(0,G.jsx)("a",{className:"text-social-twitter",target:"_blank",rel:"noopener noreferrer",href:"http://twitter.com/".concat(e.get("twitterHandle")),children:(0,G.jsx)("i",{className:"fa fa-twitter"})})})})),e.get("twitchStream")&&(a=(0,G.jsx)("li",{children:(0,G.jsx)("span",{children:(0,G.jsx)("a",{className:"text-social-twitch",target:"_blank",rel:"noopener noreferrer",href:"http://twitch.tv/".concat(e.get("twitchStream")),children:(0,G.jsx)("i",{className:"fa fa-twitch"})})})})),e.get("portfolioUrl")&&(c=(0,G.jsx)("li",{children:(0,G.jsx)("a",{href:e.get("portfolioUrl"),target:"_blank",rel:"noopener noreferrer",children:"Portfolio"})})),e.get("shopUrl")&&(l=(0,G.jsx)("li",{children:(0,G.jsx)("a",{href:e.get("shopUrl"),target:"_blank",rel:"noopener noreferrer",children:"Shop"})})),e.get("email")&&(u=(0,G.jsx)("li",{children:(0,G.jsx)("a",{href:"mailto:".concat(e.get("email")),target:"_blank",rel:"noopener noreferrer",children:e.get("email")})})),i=B()({"avatar-body":!0,"full-width":!0,"no-border":!0,"has-attachment":!!d}),0!==e.get("id")?t.push((0,G.jsxs)("div",{className:"page-section no-border",children:[(0,G.jsxs)("div",{className:"gg-well row shop-artist-row",children:[(0,G.jsx)("div",{className:"col-xs-12 col-sm-6",children:(0,G.jsxs)("div",{className:"player-avatar",children:[d,(0,G.jsxs)("div",{className:i,children:[(0,G.jsx)("div",{className:"gamertag-title gamertag-title-lg",children:o}),(0,G.jsxs)("ul",{className:"list-inline list-unstyled additional-player-info text-muted no-margin",children:[s,a]})]})]})}),(0,G.jsx)("div",{className:"col-xs-12 col-sm-6 text-right",children:(0,G.jsxs)("ul",{className:"list-inline list-unstyled",children:[c,l,u]})})]}),(0,G.jsx)("br",{}),p]},"".concat(e.get("id"),"-products"))):t.push((0,G.jsx)("div",{style:{marginTop:"25px"},children:this.makeProducts(n.get(0),!0)},"event-products"))}}),this),t},getContent:function(){return(0,G.jsx)("div",{children:this.makeArtistRows()})}}),Ft=n(64598),Bt=n(75809),zt=n(81448),Ut=n(79845),Vt=n(30262),Gt=n(509),Ht={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shopId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"1"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shop"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"shopId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"perPage"},value:{kind:"IntValue",value:"50"}},{kind:"ObjectField",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"page"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalPages"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"player"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playerAvatar"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"playerAvatar"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Player"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gamerTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"twitchStream"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"twitterHandle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileAuthorization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"MIXER"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalUsername"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"image"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOriginal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}}],loc:{start:0,end:351,source:{body:'#import "gg-common/gql/fragments/domain/Player/playerAvatar.gql"\n\nquery MessageList($shopId: ID!, $page: Int = 1) {\n\tshop(id: $shopId) {\n\t\tid\n\t\tmessages(query: { perPage: 50, page: $page }) {\n\t\t\tpageInfo {\n\t\t\t\ttotal\n\t\t\t\tpage\n\t\t\t\tperPage\n\t\t\t\ttotalPages\n\t\t\t}\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tplayer {\n\t\t\t\t\t...playerAvatar\n\t\t\t\t}\n\t\t\t\tmessage\n\t\t\t\ttotal\n\t\t\t}\n\t\t}\n\t}\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},qt={currency:O.Z.USD},Qt=function(e){var t=e.shop,n=e.apollo,r=e.currency,i=e.updateGQLPagination,s=(0,Ut.Z)().translate;if(Gt.Z.isLoading(n,Ht))return(0,G.jsx)("div",{className:"page-section page-section-sm",children:(0,G.jsx)(y.Z,{size:"large",className:" ",children:(0,G.jsx)(Vt.hM,{})})});var o=(0,d.List)([(0,d.Map)({heading:s("MessageList.amount"),cell:function(e){var t=e.get("total"),n=t&&O.Z.iconForCurrency(r)+t.toFixed(2);return(0,G.jsx)("td",{children:(0,G.jsx)(a.ZT,{variant:"h5",component:"h3",children:n})},"amount-".concat(e.get("id")))}}),(0,d.Map)({heading:s("MessageList.donor"),cell:function(e){var t,n=e.get("player");return t=n?(0,G.jsx)(Ft.Z,{player:n.toJS(),size:"md"}):(0,G.jsx)(Ft.Z,{player:{gamerTag:"Anonymous",color:"black"}}),(0,G.jsx)("td",{children:t},"donor-".concat(e.get("id")))}}),(0,d.Map)({heading:s("MessageList.message"),cell:function(e){return(0,G.jsx)("td",{children:e.get("message")},"message-".concat(e.get("id")))}})]),c=t&&t.getIn(["messages","nodes"])||(0,d.List)(),l=t&&t.getIn(["messages","pageInfo"])||(0,d.Map)();return(0,G.jsx)("div",{className:"page-section page-section-sm",children:(0,G.jsx)(y.Z,{size:"large",className:" ",children:(0,G.jsxs)($e.MI,{direction:"column",children:[(0,G.jsx)(m.iA,{columnMeta:o,data:c,emptyState:s("MessageList.emptyState"),hasShadow:!1}),(0,G.jsx)(zt.Z,{entityType:s("MessageList.entityType",{smart_count:l.get("total")}),pageInfo:l,updateGQLPagination:i})]})})})};Qt.defaultProps=qt;var Wt=(0,r.qC)((0,Bt.Z)(),(0,i.Z)(Ht,{options:function(e){var t=e.shopId;return{variables:{shopId:t,page:e.page},skip:!t}}}))(Qt),Yt=n(99911),Jt=n(64344),Kt=n(77588),Xt=n(18463),$t=n.n(Xt),en=function(e){var t=e.cart,n=e.shop,r=e.products,i=e.checkoutUrl,s=(0,Jt.eF)().translate,c=(0,o.useState)(!1),l=c[0],u=c[1],d=(0,o.useState)(!1),p=d[0],g=d[1],h=(0,Jt.ac)((function(e){return e.breakpoints.down("md")})),v=(0,Jt.D9)(t);return(0,o.useEffect)((function(){var e=v&&v.get("lineItems")&&v.get("lineItems").size>0,n=t&&t.get("lineItems")&&t.get("lineItems").size>0,r=!e&&n,i=e&&n&&v.get("lineItems").size!==t.get("lineItems").size;("undefined"!==typeof v&&r||i)&&g(!0),t&&t.get("lineItems")&&t.get("lineItems").size>0?u(!0):u(!1)}),[t]),(0,G.jsxs)("span",{className:" ",children:[l&&(0,G.jsx)("div",{className:$t().mobileCheckout,children:(0,G.jsx)(m.rU,{url:i,children:(0,G.jsx)(m.zx,{type:"primary",label:s("CartOverview.cta"),size:"lg"})})}),(0,G.jsx)(a.J2,{id:"shopCartOverview",placement:"bottom",trigger:"click",showPopover:p&&!h,content:(0,G.jsxs)(m.pN,{useLegacyStyles:!0,className:$t().cartOverviewSpacedGroup,children:[(0,G.jsx)(a.ZT,{variant:"header14",component:"h5",className:$t().center,children:s("CartOverview.label")}),(0,G.jsx)("div",{className:$t().cart,children:(0,G.jsx)(Kt.Z,{shop:n,cart:t,products:r})}),(0,G.jsx)(m.rU,{url:i,children:(0,G.jsx)(m.zx,{type:"primary",label:s("CartOverview.cta"),size:"md",fullWidth:!0})})]}),className:$t().popover,TransitionProps:{onExit:function(){return g(!1)}},children:(0,G.jsx)("div",{children:(0,G.jsx)(m.Dr,{onClick:function(){},className:$t().cartButton,children:l&&(0,G.jsxs)(m.pN,{useLegacyStyles:!0,direction:"horizontal",size:"sm",children:[(0,G.jsx)(m.M5,{icon:"fa fa-shopping-cart",iconColor:"gg-color-slate",text:s("CartOverview.label")}),(0,G.jsx)(m.Df,{backgroundColor:"gg-background-color-blue",textColor:"gg-background-color-white",children:t&&t.get("lineItems")&&t.get("lineItems").size})]})})})})]})};en.defaultProps={};var tn=en,nn=n(28257),rn=function(e){var t=e.shop,n=e.translate,r=t.get("contributions");if(!r||!r.size)return(0,G.jsx)("div",{});var i=(r.get("contributionGroups")||p().Map()).map((function(e){var n=e.get("amount");return void 0!==n&&(n=O.Z.format(n,t.get("currency"),!0),n=(0,G.jsx)("div",{className:"inline-block right-spacer-xs",children:(0,G.jsx)("div",{className:"h1",children:(0,G.jsx)("span",{children:n})})})),(0,G.jsxs)("div",{className:"inline-block right-spacer",children:[n,(0,G.jsx)("div",{className:"inline-block ",children:(0,G.jsx)("div",{className:"text-nowrap",children:(0,G.jsxs)("div",{className:"inline-block",children:[(0,G.jsx)("span",{className:"h4",children:e.get("description")}),(0,G.jsx)("p",{className:"text-left text-success-brand",children:(0,G.jsx)("i",{children:e.get("subText")})})]})})})]})}),this).toArray(),s=r.get("orderTotal"),o=O.Z.format(s,t.get("currency"),!0),c=(0,G.jsx)("span",{});if(r.get("tooltips")){var l=r.get("tooltips").map((function(e){return(0,G.jsx)("p",{children:e})})).toArray();c=(0,G.jsx)("div",{className:"inline-block",children:(0,G.jsx)(a.MZ,{placement:"bottom",message:l,children:(0,G.jsx)("span",{children:(0,G.jsx)("i",{className:"fa fa-question-circle"})})})})}return(0,G.jsx)("div",{className:"page-section",children:(0,G.jsx)(y.Z,{size:"fluid",children:(0,G.jsxs)("div",{className:"text-center text-muted-dark",children:[(0,G.jsx)(y.Z,{size:"fluid",children:i}),(0,G.jsx)("div",{className:"top-spacer-md",children:(0,G.jsxs)("span",{children:[n("LevelList.contributionSummary",{orderTotal:o})," ",c]})})]})})})};rn.displayName="ShopContributions";var sn=(0,v.Z)()(rn),an=n(90884),on=n(24755),cn=n.n(on);function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn=l()({displayName:"ShopWrapper",getInitialState:function(){return{activeTab:"products"}},componentDidMount:function(){if(this.props.shop){this.props.executeAction(T.Z,{shopId:this.props.shop.get("id")});var e=this.props.shop.get("currency");e&&j.Z.setCurrency(e)}},componentWillUnmount:function(){},onToggleSuperAdminVisor:function(e){(0,this.props.updateShopSuperVisor)(e.currentTarget.checked)},isShopSuperVisorEnabled:function(){return(this.props.shopSuperVisor||(0,d.Map)()).get("isEnabled")},isCurrentUserSuperAdmin:function(){return new S.Z(this.props.currentUser).isGlobalAdmin()},isCurrentUserAdmin:function(){return new S.Z(this.props.currentUser).hasPermission(C.Z.MANAGE_PRIVATE_DATA,this.props.tournament)},renderHeader:function(){var e,t=this.props,n=t.shop,r=t.currentRoute;!n.get("published")&&this.isCurrentUserAdmin()&&(e=(0,G.jsx)("div",{className:"alert alert-info text-center strong no-margin",children:"You can see this shop because you are an admin but it is not published. Contact startgg for publishing"}));var i=r.get("isEmbed"),s=new N.Z(n),a=this.isCurrentUserSuperAdmin(),o=this.isShopSuperVisorEnabled();return(0,G.jsxs)("div",{className:cn().headerContainer,children:[(0,G.jsx)(Yt.Z,{title:n.get("name"),isSticky:!0,children:a&&(0,G.jsx)(g.XZ,{name:"superAdminToggle",className:"flex-box flex-align-center",label:"\ud83d\udc53 SuperAdmin Visor",value:o,onChange:this.onToggleSuperAdminVisor})}),(0,G.jsx)("span",{className:cn().cartOverview,children:this.renderCart()}),(0,G.jsx)(nn.Z,{currentRoute:r,userFeatures:(0,d.fromJS)([{navFeatures:[{url:s.getTabUrl(null,i),text:"Overview",pageTitle:"Overview"},{url:s.getTabUrl("levels",i),text:"Event Goals",pageTitle:"Event Goals"},{url:s.getTabUrl("products",i),text:"Products",pageTitle:"Products"},{url:s.getTabUrl("comments",i),text:"Comments",pageTitle:"Comments"}]}])}),e]})},renderLevelsOverview:function(){var e,t=this.props,n=t.shop,r=t.tournament,i=t.levels,s=t.translate,o=new N.Z(n),c=r.get("name"),l=o.getPrizePool(i);return i.size?e=(0,G.jsx)("div",{className:"page-section",children:(0,G.jsx)(y.Z,{size:"fluid",children:(0,G.jsxs)(m.pN,{useLegacyStyles:!0,direction:"vertical",children:[(0,G.jsxs)("div",{className:"text-center",children:[(0,G.jsx)(a.ZT,{variant:"h4",component:"h2",children:s("ShopWrapper.makeAnImpact.title")}),(0,G.jsx)("p",{className:"text-muted",children:s("ShopWrapper.makeAnImpact.description")})]}),(0,G.jsx)(Be,un({},(0,u.pick)(this.props,["shop","levels","orderedLevels","unlocksByLevel","players"])))]})})}):l&&(l=O.Z.format(Math.floor(l),n.get("currency")),e=(0,G.jsx)("div",{className:"page-section",children:(0,G.jsx)(y.Z,{size:"fluid",children:(0,G.jsx)("div",{className:"text-center",children:(0,G.jsxs)("div",{className:"text-lg",children:[c," ",n.get("prizePoolName"),":"," ",(0,G.jsx)("span",{className:"text-bold text-xlg",children:l})]})})})})),e},renderLevelsPage:function(){return(0,G.jsx)(ht,un({},(0,u.pick)(this.props,["shop","levels","orderedLevels","unlocksByLevel","players"])))},renderProducts:function(){var e=this.props,t=e.vendors,n=e.translate,r=this.isCurrentUserSuperAdmin(),i=this.isShopSuperVisorEnabled(),s=this.props.products;if((!r||r&&!i)&&(s=s.filter((function(e){return e.get("published")}))),t&&t.size>0){var o=(0,d.Map)();t.forEach((function(e){var n=e.get("id");null!==n&&t.get(n)&&(o=o.set(n,t.get(n)))})),t=o}return(0,G.jsx)(y.Z,{size:"fluid",className:"page-section",children:(0,G.jsxs)(m.pN,{useLegacyStyles:!0,direction:"vertical",children:[(0,G.jsx)("div",{children:(0,G.jsx)(a.ZT,{variant:"h4",component:"h2",className:"text-center",children:n("ShopWrapper.shopProducts")})}),(0,G.jsx)(Rt,un({vendors:t,products:s,allProducts:this.props.products},(0,u.pick)(this.props,["shop","levels","optionsByProduct","variantGroups","variants"])))]})})},renderComments:function(){return(0,G.jsx)(Wt,{shopId:this.props.shop.get("id")})},renderCart:function(){var e=this.props,t=e.tournament,n=e.cart,r=e.shop,i=e.products,s=new k.Z(t).getTabUrl("checkout");return(0,G.jsx)(tn,{cart:n,shop:r,products:i,checkoutUrl:s})},renderOverview:function(){return(0,G.jsxs)(o.Fragment,{children:[(0,G.jsx)(Xe,{shop:this.props.shop}),this.renderLevelsOverview(),(0,G.jsx)(sn,{shop:this.props.shop}),this.renderProducts()]})},renderContent:function(){switch(this.props.shopTab){case"levels":return this.renderLevelsPage();case"products":return this.renderProducts();case"comments":return this.renderComments();default:return this.renderOverview()}},render:function(){var e=this.props,t=e.shop,n=e.translate,r=this.isCurrentUserAdmin();return t&&t.get("id")&&(r||t.get("published"))?(0,G.jsxs)("div",{className:" ",children:[this.renderHeader(),(0,G.jsx)(an.Z,{}),this.renderContent()]}):(0,G.jsx)(I.Z,{title:n("ShopWrapper.emptyState.title"),message:n("ShopWrapper.emptyState.message")})}});dn=(0,b.Z)(dn,{global:function(e){return{shopId:e.shop&&e.shop.get("id")}}}),dn=(0,x.Z)(dn,["ShopStore","ShopLevelStore","ShopLevelUnlockStore","PlayerStore","ShopProductStore","ShopProductOptionStore","ShopVendorStore","ActiveCartStore","RegionStore","VariantStore","VariantGroupStore"],(function(e,t){var n,r,i=t.shopSuperVisor;if(t.currentUser&&t.currentUser.get("playerId")&&(r=(e.PlayerStore.get(t.currentUser.get("playerId"))||(0,d.Map)()).get("gamerTag")),!(n=t.shopSlug?e.ShopStore.getBySlug(t.shopSlug).first():e.ShopStore.getByOwner(t.tournament.get("id")).first()||(0,d.Map)()))return{};var s=e.ShopLevelStore.getByShop(n.get("id")),a=e.ShopProductStore.getByShop(n.get("id")),o=(i||(0,d.Map)()).get("isEnabled"),c=P.Z.pluck(a,"id").toArray();o||(s=s.filter((function(e){return e.get("published")})));var l=s.map((function(e){return e.get("id")})).toArray(),p=e.ShopLevelUnlockStore.getByLevels(l),m={};a.forEach((function(e){e.get("vendorId")&&(m[e.get("vendorId")]=e.get("vendorId"))}));var g=(0,u.keys)(m),h=e.ShopVendorStore.getByIds(g),v=[];p.forEach((function(e){e.get("type")===w.ZP.PLAYER&&v.push(e.get("targetId"))}));var f=p.groupBy((function(e){return e.get("levelId")})),y=e.PlayerStore.getByIds(v),x=e.ShopProductOptionStore.getByProduct(c).groupBy((function(e){return e.get("shopProductId")})),j=e.VariantGroupStore.getByProduct(c),b=e.VariantStore.getByProduct(c);return{shop:n,levels:s,orderedLevels:new N.Z(n).isOpen()?Z.Z.sortLevelsByPctForDisplay(s):Z.Z.sortLevelsByCompleteForDisplay(s),unlocksByLevel:f,players:y,products:a,variantGroups:j,variants:b,optionsByProduct:x,vendors:h,cart:e.ActiveCartStore.getState(),regions:e.RegionStore.getAll(),currentGamerTag:r}})),dn=(0,v.Z)()(dn);var pn=(0,h.Z)((0,f.Z)(dn)),mn=(0,r.qC)((0,i.Z)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ShopSuperVisorQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shopSuperVisor"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:71,source:{body:"query ShopSuperVisorQuery {\n\tshopSuperVisor @client {\n\t\tisEnabled\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{}),(0,i.Z)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ShopWrapperMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isEnabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateShopSuperVisor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"isEnabled"},value:{kind:"Variable",name:{kind:"Name",value:"isEnabled"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:108,source:{body:"mutation ShopWrapperMutation($isEnabled: Boolean!) {\n\tupdateShopSuperVisor(isEnabled: $isEnabled) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{props:function(e){var t=e.mutate;return{updateShopSuperVisor:function(e){return t({variables:{isEnabled:e}})}}}}))(pn)},77588:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});n(67294),n(43393);var r=n(41074),i=n(52346),s=n(37448),a=n(58999),o=n(29535),c=n(85893),l=function(e){var t=e.cart,n=e.shop,r=e.products,l=e.translate,u=new a.Z(t,n,r),d=[{title:"products",lineItems:u.getLineItems().map((function(e){var t,n=r.get(e.get("productId")),a=new i.Z(n);return!e.get("pickup")&&n.get("shippingInfo")?t=n.get("shippingInfo"):a.isPickupRequired()&&(t=l("Cart.shippingInfo.venuePickupRequired")),{id:e.get("id"),name:e.get("productName"),optionValueType:s.Z.PRODUCT,price:e.get("unitPrice")*e.get("qty"),qty:e.get("qty"),shippingInfo:t}})).toList().toJS(),total:u.getUnitsTotal()}],p=u.getShippingTotal(),m=[];return u.haveMinimumShippingInfo()&&m.push({id:s.Z.SHIPPING,optionValueType:s.Z.SHIPPING,name:"Shipping",price:p}),(0,c.jsx)(o.Z,{lineItemGroups:d,feeLineItems:m,feeTotal:p,currency:n.get("currency")})};l.defaultProps={};var u=(0,r.Z)()(l)},90343:function(e,t,n){"use strict";n(67294),n(43393);var r=n(85302),i=n(30381),s=n.n(i),a=n(41074),o=n(39346),c=n(85893);t.Z=(0,a.Z)()((function(e){var t=e.tournament,n=e.translate,i=e.isUserRegistered,a=e.Header,l=new r.Z(t),u=t.get("name"),d=(0,o.ij)(l.getImage("banner")),p="".concat(u," ").concat(n("TournamentHeader.banner")),m=(0,o.ij)(l.getImage("profile")),g="".concat(u," ").concat(n("TournamentHeader.thumbnail")),h=(0,o.G)(l.getDurationDateStr()).filter((function(e){return e.length>0})),v=function(){var e=(0,o.ij)(t.get("city")),n=(0,o.ij)(t.get("addrState"));return e.flatMap((function(e){return n.map((function(t){return"".concat(e,", ").concat(t)}))}))}(),f=i?{actionText:n("TournamentHeader.manage"),actionUrl:l.getTabUrl("dashboard"),actionDetails:o.YP}:{actionText:n("TournamentHeader.register"),actionUrl:l.getTabUrl("register"),actionDetails:(0,o.ij)(t.get("registrationClosesAt")).map((function(e){return s().unix(e).format("M/D/YY")})).map((function(e){var t=n("TournamentHeader.registration_closes");return"".concat(t," ").concat(e)}))},y=f.actionText,x=f.actionUrl,j=f.actionDetails;return d.isSome()&&(0,c.jsx)(a,{title:u,bannerUrl:d,bannerAlt:p,thumbnailUrl:m,thumbnailAlt:g,location:v,date:h,actionText:y,actionUrl:x,actionDetails:j,children:(0,c.jsx)("div",{})})}))},81086:function(e,t,n){"use strict";n(67294);var r=n(90977),i=n(85893);t.Z={_getContent:function(){return"function"===typeof this.getContent?this.getContent():(0,i.jsx)("div",{})},_getEmptyChecks:function(){return"undefined"!==typeof this.getEmptyChecks?this.getEmptyChecks():[]},render:function(){for(var e=this._getEmptyChecks(),t=0;t<e.length;t++){var n=e[t];if(n)return(0,i.jsx)(r.Z,{title:n.title,message:n.message})}return this._getContent()}}},53788:function(e,t,n){"use strict";var r=n(59499),i=(n(67294),n(76254)),s=n(90343),a=n(85893);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z={_getContent:function(){return"function"===typeof this.getContent?this.getContent():(0,a.jsx)("div",{})},_getHeader:function(){return"function"===typeof this.getHeader?this.getHeader():(0,a.jsx)(s.Z,c({},this.props))},_getPageClassName:function(){if("function"===typeof this.getPageClassName)return this.getPageClassName()},_getTab:function(){return"function"===typeof this.getTab?this.getTab():this.props.tab},_shouldHideToaster:function(){return"function"===typeof this.shouldHideToaster&&this.shouldHideToaster()},render:function(){return(0,a.jsx)(i.Z,c(c({},this.props),{},{content:this._getContent(),header:this._getHeader(),tab:this._getTab(),shouldHideToaster:this._shouldHideToaster(),pageClassName:this._getPageClassName()}))}}},54226:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(43393),i=n.n(r),s=n(30343),a=n(9301);function o(e,t,n){var r=t.data;e.dispatch(a.Z.LINEITEM.ADD,r);var o=e.getStore("ActiveCartStore"),c=e.getStore("ShopStore"),l=e.getStore("ShopProductStore"),u=r.productId,d=l.get(u),p=c.get(d.get("shopId")),m=l.getByShop(p.get("id")),g=o.getState(),h=t.track||{},v=h.expandedFields||{},f=i().fromJS(r);s.Z.trackAddToCart(h.tracker,f,g,p,m,v),n()}},53658:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9301);function i(e,t,n){e.dispatch(r.Z.CART.RESET,t),n()}},29860:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});n(67294);var r=n(96486),i=(n(43393),n(41074)),s=n(17253),a=n(74610),o=n(78416),c=n.n(o),l=n(85893),u=function(e){var t=e.product,n=e.hasLevels,i=e.translate;if(!t.get("levelAmount"))return null;return(0,l.jsx)(s.MZ,{id:"contribution-tooltip-".concat(t.get("id")),placement:"bottom",message:function(){if(!n)return"Direct Donation";var e=t.get("levelAmountDisplay")||t.get("levelAmount"),s=[{label:i("ContributionTooltip.levelAmount"),value:Math.round(100*e)},{label:i("ContributionTooltip.creatorContribution"),value:Math.round(100*t.get("creatorContribution"))},{label:i("ContributionTooltip.productionCost"),value:Math.round(100*t.get("productionCost"))},{label:i("ContributionTooltip.processingFee"),value:Math.round(100*t.get("processingFee"))}];return(0,r.chain)(s).filter((function(e){return e.value>0})).map((function(e){return(0,l.jsxs)("div",{children:[e.label,": ",e.value,"%"]},e.label)})).value()}(),children:(0,l.jsx)("span",{className:c().contributionTooltipIcon,children:(0,l.jsx)(a.by,{fontSize:"small"})})})};u.defaultProps={hasLevels:!1};var d=(0,i.Z)()(u)},81448:function(e,t,n){"use strict";n(67294);var r=n(41074),i=n(34174),s=n(85428),a=n(85893),o=(0,r.Z)()((function(e){var t=e.pageInfo,n=e.translate,r=e.updateGQLPagination,o=e.entityType,c=t.get("page"),l=t.get("totalPages"),u=t.get("perPage"),d=t.get("total"),p=(0,a.jsx)(s.b,{translate:n,total:d,perPage:u,page:c,entityType:o});return(0,a.jsx)(i.GO,{currentPage:c,totalPages:l,label:p,onClick:function(e){return r({page:e})}})}));t.Z=o},85428:function(e,t,n){"use strict";n.d(t,{a:function(){return c},b:function(){return l}});n(67294);var r=n(26635),i=n(17253),s=n(27458),a=n(85893),o=(0,s.Z)(null),c=function(e){var t=e.message,n=e.children;return(0,a.jsx)(o.Provider,{value:t,children:n})},l=function(e){var t=e.translate,n=e.total,s=e.perPage,c=e.page,l=e.entityType;return(0,a.jsx)(o.Consumer,{children:function(e){var o=(0,r.Z)(t,n,s,c,l);return e?(0,a.jsx)(i.MZ,{message:e,placement:"top",children:(0,a.jsxs)("span",{children:[o,"*"]})}):o}})}},37948:function(e,t,n){"use strict";n.d(t,{n:function(){return r},u:function(){return i}});var r="4:3",i="16:9"},26635:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(82337);function i(e,t,n,i,s){if(t>0){var a=r.Z.withCommas,o=t<n?1:(i-1)*n+1,c=Math.min(o+n-1,t);return e("PaginationControl.label",{total:a(t),displayBegin:a(o),displayEnd:a(c),entityType:s})}return e("PaginationControl.noResults")}},87309:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return p}});var r=n(59499),i=n(66147),s=n(21478),a=n(4284),o=n(85893);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={showHeader:!1,showFooter:!1,titleKey:"shop",pageTelemetry:{name:"Shop"}},d=function(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.o,{}),(0,o.jsx)(s.Z,l(l({},e),u))]})};d.routeMeta=u,d.getLayout=(0,i.G)(u);var p=!0;t.default=d},32164:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tournament/[slug]/shop/[shopSlug]/[[...optionalParams]]",function(){return n(87309)}])},76732:function(e){e.exports={scroller:"scroller-sggBhMAX",navigation:"navigation-sggxVcUA",entityHeader:"entityHeader-sggJIxZo",contents:"contents-sggCQGKQ",group:"group-sggN6xPe",subItems:"subItems-sggmn49K",item:"item-sggX9gFp",link:"link-sggr7B--",isActive:"isActive-sggPfBQ-",indicator:"indicator-sgguqOxw",loader:"loader-sggKI-RQ"}},39759:function(e){e.exports={videoEmbed:"videoEmbed-sggS8yEE",loader:"loader-sggsKfxX",iframe:"iframe-sggFc9j7",preview:"preview-sggVyLka",previewImage:"previewImage-sggmrc-R",previewDarken:"previewDarken-sggdAc0-",disablePointerEvents:"disablePointerEvents-sgg5Pm1K",playButton:"playButton-sggcphU6",aspect4by3:"aspect4by3-sggrg-RP",aspect16by9:"aspect16by9-sggPmYUu",isLoading:"isLoading-sggFGi-7",isPlaying:"isPlaying-sggv0UVg"}},46725:function(e){e.exports={contentHeader:"contentHeader-sggqncAk",sticky:"sticky-sgg69mWm",contentHeaderContainer:"contentHeaderContainer-sgg2EvTf",leftMargin:"leftMargin-sggAbEEU"}},29199:function(e){e.exports={shopMediaContainer:"shopMediaContainer-sgglcKyg",mobileShopMedia:"mobileShopMedia-sggnMJJA"}},24755:function(e){e.exports={headerContainer:"headerContainer-sgggXFlC",cartOverview:"cartOverview-sggJPJvB"}},18463:function(e){e.exports={popover:"popover-sggBf7ta",cartOverviewSpacedGroup:"cartOverviewSpacedGroup-sgg040jC",cartButton:"cartButton-sggSkmvD",cart:"cart-sggmztzN",mobileCheckout:"mobileCheckout-sggivgfv",center:"center-sggAVM7r"}},5087:function(e){e.exports={levelCard:"levelCard-sgg2vd3v",title:"title-sggLaimY",isFeatured:"isFeatured-sggsYtZo",chiclet:"chiclet-sggtPf9x",topSection:"topSection-sggnERfm",info:"info-sggNMUgT",readMoreContainer:"readMoreContainer-sggBNGoe",descriptionContainer:"descriptionContainer-sggMo65y",chicletContainer:"chicletContainer-sggGmBu-",levelProgressIndicator:"levelProgressIndicator-sggSet7C",description:"description-sgg68JOn"}},76734:function(e){e.exports={levelImage:"levelImage-sggxGxII",isFeatured:"isFeatured-sggl6ZT7",noImage:"noImage-sggZoxn3",noImageComplete:"noImageComplete-sgg3cm2R",isFaded:"isFaded-sggIR5zZ"}},75212:function(e){e.exports={levelModal:"levelModal-sggu9IZu",img:"img-sggFqBml"}},63735:function(e){e.exports={levelOverview:"levelOverview-sggT5-Hb",imgContainer:"imgContainer-sggSAQML",noImage:"noImage-sgg0Hkkz",isClosed:"isClosed-sggf48D1",lock:"lock-sgg4k68P",levelInfo:"levelInfo-sgg8ohnb",levelName:"levelName-sgggURwg"}},28065:function(e){e.exports={levelOverviewHero:"levelOverviewHero-sggiYAiL",progressIndicator:"progressIndicator-sggDjT4s",topSection:"topSection-sggzuF89",bottomSection:"bottomSection-sggSTdXe",levelName:"levelName-sggGelmk",description:"description-sggyshRv"}},60544:function(e){e.exports={levelOverviewList:"levelOverviewList-sgg8U17R",heroColumn:"heroColumn-sggKVL-h",levelColumn:"levelColumn-sgg3Gza6"}},64926:function(e){e.exports={progressIndicator:"progressIndicator-sgg9tOwQ",uncapped:"uncapped-sgg8xiia",centered:"centered-sggIDN7J",progressInfo:"progressInfo-sggqKICn",expanded:"expanded-sggddjPE",section:"section-sggpgt2g"}},43005:function(e){e.exports={unlockItemRow:"unlockItemRow-sgguDk43"}},69162:function(e){e.exports={levelGroup:"levelGroup-sgguxi6b"}},78416:function(e){e.exports={contributionTooltipIcon:"contributionTooltipIcon-sggCuPqD"}},30585:function(e){e.exports={banner:"styles_banner__UGRZY",announcementText:"styles_announcementText__DyvPp",icon:"styles_icon__6IF0d",link:"styles_link__14d4A",spacer:"styles_spacer__fKDF5",close:"styles_close__tgcRM"}}},function(e){e.O(0,[4643],(function(){e.E(9135),e.E(5720)}),5);e.O(0,[9729,4275,6742,3781,705,4594,1151,7248,2110,9135,5499,4202,646,4762,6086,7586,9609,4761,6772,8745,686,9156,6254,6147,8163,9774,2888,179],(function(){return t=32164,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[[...optionalParams]]-bdaf2ed9b23e31c8.js.map