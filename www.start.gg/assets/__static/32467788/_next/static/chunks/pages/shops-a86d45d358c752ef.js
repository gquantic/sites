(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4646],{60530:function(e,t,r){"use strict";var a=r(92777),n=r(82262),o=r(81531),s=r(63553),i=r(37247),c=r(59499),l=r(67294),p=r(83871),u=r(99779),d=r(41074),h=r(85893);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,i.Z)(e);if(t){var n=(0,i.Z)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.Z)(this,r)}}var f="#3b5998",m=function(e){(0,o.Z)(r,e);var t=g(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){var e=this.props.translate,t={u:p.Z.addToUrl(this.props.url,{src:"fb_share"})};return this.props.small?(0,h.jsx)(u.Z,{params:t,sharerUrl:"http://www.facebook.com/sharer/sharer.php",large:this.props.large,name:"fb",nameLong:"facebook",text:e("FbShareButton.Share"),color:f,block:this.props.block}):(0,h.jsx)(u.Z,{params:t,sharerUrl:"http://www.facebook.com/sharer/sharer.php",isButton:this.props.isButton,name:"fb",nameLong:"facebook",text:e("FbShareButton.".concat(this.props.text),null,null,this.props.text),color:f,block:this.props.block,large:this.props.large})}}]),r}(l.Component);(0,c.Z)(m,"defaultProps",{isButton:!0,small:!1,large:!1,block:!0,text:"defaultText"}),t.Z=(0,d.Z)()(m)},99779:function(e,t,r){"use strict";var a=r(59499),n=(r(67294),r(83871)),o=r(48402),s=r(53157),i=r(67219),c=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){var t=e.name,r=e.nameLong,a=e.openShareWindow,l=e.sharerUrl,u=e.params,d=e.dataProps,h=e.color,g=e.text,f=n.Z.addToUrl(l,u),m=r||t,v="fa fa-".concat(m);return(0,c.jsx)(i.Z,p(p({"data-skiptrap":!0,url:f,"data-network":t,onClick:function(e){var r="".concat(t,"_share");if(o.Z.track("send","event","button","click",r),a){var n=m.charAt(0).toUpperCase()+m.substr(1),s="Share on ".concat(n);return window.open(e.currentTarget.attributes.href.value,s,"height=420,width=625"),!1}e.stopPropagation()},target:"_blank",rel:"noopener noreferrer"},d),{},{children:(0,c.jsx)(s.ZP,{colorOverride:h,icon:(0,c.jsx)("i",{className:v}),label:g,labelPosition:"after",buttonType:"button"})}))};u.defaultProps={nameLong:null,text:null,large:!0,block:!0,openShareWindow:!0,color:null,dataProps:{}},t.Z=u},70293:function(e,t,r){"use strict";r(67294);var a=r(99779),n=r(85893),o=function(e){var t=e.url,r=e.text,o=e.via,s=e.hashtags,i=e.dataProps,c=e.isButton,l=e.buttonText,p=e.large,u=e.block,d={url:t,text:r};return o&&(d.via="startgg"),s&&(d.hashtags=s),(0,n.jsx)(a.Z,{params:d,openShareWindow:!1,dataProps:i,sharerUrl:"https://twitter.com/intent/tweet",isButton:c,name:"twitter",text:l,large:p,block:u,color:"#00aced"})};o.defaultProps={isButton:!0,large:!0,block:!1,via:!0,buttonText:"Tweet",hashtags:"",dataProps:{}},t.Z=o},81930:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var a=r(59499),n=r(81020),o=r.n(n),s=r(67294),i=r(72555),c=r.n(i),l=r(43393),p=r.n(l),u=r(96486);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e,t,r){var n=e.displayName||e.name;t=t||{};var i={displayName:"".concat(n,"MutationExposer"),propTypes:{propName:o().any},exposeProps:function(){var e=(0,u.extend)({},this.props);return(0,u.each)(t,(0,u.bind)((function(t){var a=this.props[t];a&&a.size&&(a.get&&a.get("mutations")?a=p().List([a]):"paginationData"===t&&a.get&&a.first().get("mutations")&&(a=a.reduce((function(e,t){return t&&e.push(t),e}),[])),a.forEach((function(t){p().Map.isMap(t)&&(t.get("mutations")||p().Map()).forEach((function(a,n){var o,s;r&&r.groupedBy&&(s=t.get(r.groupedBy)),e[n]?(r&&r.groupedBy?(o=e[n].get(s,p().Map()).merge(a),o=e[n].set(s,o)):o=e[n].merge(a),e[n]=o):(o=a&&0!==a.size?a:p().Map(),r&&r.groupedBy&&(o=p().Map().set(s,o)),e[n]=o)}))})))}),this)),e},render:function(){return s.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ref:"component"},this.exposeProps()))}};return c()(i)}},51629:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return G},default:function(){return q}});var a=r(74896),n=(r(67294),r(23672)),o=r(59499),s=r(72555),i=r.n(s),c=r(30381),l=r.n(c),p=r(43393),u=r.n(p),d=r(94184),h=r.n(d),g=r(78147),f=r(90977),m=r(97115),v=r(21108),b=r(94248),j=r(81930),y=r(80710),x=r(46625),P=r(93658),_=r(52346),O=r(41074),N=r(70293),C=r(60530),S=r(94116),w={filters:[[{label:"Open",fieldName:"open",type:"bool",clearFields:["closed"]},{label:"Closed",fieldName:"closed",type:"bool",clearFields:["open"]}],[{label:"Apparel",fieldName:"productType",type:"array",value:"apparel"},{label:"Posters",fieldName:"productType",type:"array",value:"posters"},{label:"Game Accessories",fieldName:"productType",type:"array",value:"game"},{label:"Other",fieldName:"productType",type:"array",value:"other"}],[{label:"Open Reward Levels",fieldName:"openLevels",type:"bool"}],[{label:"Under $25",fieldName:"productPrice",type:"array",value:"lt:25"},{label:"$25 to $50",fieldName:"productPrice",type:"array",value:"gt:25,lte:50"},{label:"$50 to $100",fieldName:"productPrice",type:"array",value:"gt:50,lte:100"},{label:"$100 to $200",fieldName:"productPrice",type:"array",value:"gt:100,lte:200"},{label:"$200 and Above",fieldName:"productPrice",type:"array",value:"gt:200"}]],search:{placeholder:"Enter Tournament Name"}},Z=r(37975),k=r(85893);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=i()({displayName:"ShopsPage",getDefaultProps:function(){return{}},canGoToPage:function(e){var t;return void 0!==this.props.numPages?t=this.props.numPages:this.props.total&&(t=Math.ceil(this.props.total/this.props.page)),!(0===e||e===this.props.page||t<e)},paginationClicked:function(e){this.canGoToPage(e)&&this.props.goToPage&&this.props.goToPage(e)},renderShopCard:function(e){var t=this.props.cardData.get(e.get("id")),r=t.get("tournamentData"),a=e.get("currency"),n=t.get("levelData"),o=this.renderShopCardHeader(t,r),s=this.renderShopCardFeaturedRow(t),i=this.renderShopCardFooter(r),c=this.renderShopLevelData(n,a);return c||(c=this.renderShopCardProducts(t,a)),(0,k.jsx)("div",{className:"Column",children:(0,k.jsxs)("div",{className:"ShopCard Card--sm",children:[o,s,c,i]})},"shop-card-".concat(e.get("id")))},renderShopCardFeaturedRow:function(e){var t=this.props.translate,r="".concat(e.get("tournamentData").get("slug"),"/shop"),a=e.get("orderCount"),n=e.get("productCount");return(0,k.jsxs)("div",{className:"ObjectCard__row ObjectCard__row--featured",children:[(0,k.jsxs)("a",{href:r,className:"ObjectCard__column",children:[(0,k.jsx)("div",{children:n}),(0,k.jsx)("div",{children:t("ShopsPage.FeaturedRow.product",{smart_count:n})})]}),(0,k.jsxs)("a",{href:r,className:"ObjectCard__column",children:[(0,k.jsx)("div",{children:a}),(0,k.jsx)("div",{children:t("ShopsPage.FeaturedRow.donor",{smart_count:a})})]})]})},renderShopCardProducts:function(e,t){var r,a,n,o;o=(a=e.get("topSellers")||u().List()).first();var s=e.get("tournamentData").get("slug");return o&&o.get("images")&&o.get("images").size&&(r=this.renderFeaturedProduct(o,t,s),a=a.rest()),a&&a.size&&(n=this.renderTopSellers(a,t,s)),(0,k.jsxs)("ul",{className:"CardItemList",children:[r,n]})},renderTopSellers:function(e,t,r){var a="".concat(r,"/shop");return(e=e.map((function(e){var r=y.Z.format(e.get("price"),t);return(0,k.jsxs)("li",{className:"CardItem",children:[(0,k.jsx)("div",{className:"CardItem__content",children:(0,k.jsx)("a",{href:a,className:"CardItem__title",children:e.get("name")})}),(0,k.jsx)("div",{className:"CardItem__info",children:r})]},"cardListItem-".concat(e.get("name")))}))).toList()},renderFeaturedProduct:function(e,t,r){var a,n,o;(o="".concat(r,"/shop"),a=y.Z.format(e.get("price"),t),e.get("images")&&e.get("images").size)&&(n=new _.Z(e).getImage("cart_thumbnail"));return(0,k.jsxs)("li",{className:"CardItem CardItem--featured",children:[(0,k.jsx)("div",{className:"CardItem__icon",style:{"background-image":"url(".concat(n,")")}}),(0,k.jsxs)("div",{className:"CardItem__content",children:[(0,k.jsx)("div",{className:"CardItem__header",children:"Top Product"}),(0,k.jsx)("a",{href:o,className:"CardItem__title",children:e.get("name")})]}),(0,k.jsx)("div",{className:"CardItem__info",children:a})]})},renderShopLevelData:function(e,t){var r,a,n,o,s,i,c,l,p,u;if(i="ShopLevelProgress",e&&e.size&&(r=e.get("completingSoon").first())&&r.size)return l=Math.ceil(100*(r.get("currAmount")+r.get("adjustmentAmount")))/100,o="".concat(e.get("closedLevelCount"),"/").concat(e.get("closedLevelCount")+e.get("openLevelCount")," Reward levels cleared"),s=(0,k.jsx)("div",{className:"ShopLevelProgress__rewards gg-color-blue",children:o}),r.get("goalAmount")<=0||null===r.get("goalAmount")?(i="ShopLevelProgress ShopLevelProgress--uncapped",c=y.Z.format(l,t),s=null):(c=y.Z.format(r.get("goalAmount"),t),a=Math.floor(l/r.get("goalAmount")*100),n="".concat(a.toString(),"%"),u=(0,k.jsx)("div",{className:"ShopLevelProgress__percent",children:n}),p=(0,k.jsx)("div",{className:"ShopLevelProgress__bar",children:(0,k.jsx)("span",{style:{width:n}})})),(0,k.jsxs)("div",{className:i,children:[(0,k.jsxs)("div",{className:"ShopLevelProgress__container",children:[(0,k.jsx)("div",{className:"ShopLevelProgress__title",children:r.get("name")}),(0,k.jsx)("div",{className:"ShopLevelProgress__content",children:x.Z.truncate(r.get("description"),70)})]}),(0,k.jsxs)("div",{className:"ShopLevelProgress__footer",children:[u,p,(0,k.jsx)("div",{className:"ShopLevelProgress__total",children:c})]}),s]})},renderShopCardHeader:function(e,t){if(t){var r=new P.Z,a=u("profileImage",144),n=u("bannerImage"),o="".concat(t.get("slug"),"/shop"),s=l().unix(e.get("endAt")).format("M/D/YYYY"),i={"background-image":"url(".concat(n,")")},c=h()("Status",{"Status--open":e.get("isOpen"),"Status--closed":!e.get("isOpen")}),p=e.get("isOpen")?"Open":"Shop closed ".concat(s);return(0,k.jsxs)("div",{className:"CardHeading CardHeading--full",children:[(0,k.jsx)("div",{className:"CardHeading__bg",style:i}),(0,k.jsx)("a",{href:o,className:"CardHeading__icon",children:(0,k.jsx)("img",{src:a})}),(0,k.jsxs)("div",{className:"CardHeading__information",children:[(0,k.jsx)("div",{className:"CardHeading__title",children:(0,k.jsx)("a",{href:o,children:t.get("name")})}),(0,k.jsx)("div",{className:c,children:p})]})]})}function u(e,a){var n=t.get(e);return n&&r.convertToBingThImageUrl(n.get("url"),a)}},renderShopCardFooter:function(e){var t,r;return r="Check out ".concat(e.get("name"),"'s shop on start.gg!"),t="https://www.start.gg/".concat(e.get("slug"),"/shop"),(0,k.jsx)("div",{className:"CardFooting CardFooting--bordered",children:(0,k.jsxs)("div",{className:"CardFooting__links CardFooting__links--inactive",children:[(0,k.jsx)(N.Z,{url:t,text:r,isButton:!1}),(0,k.jsx)(C.Z,{url:t,text:"Share",isButton:!1})]})})},renderShopCards:function(){var e=this.props.paginationData.map(this.renderShopCard).toArray();return(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"ColumnGroup ColumnGroup__spaced ColumnGroup--objectCard",children:e}),(0,k.jsx)(b.Z,T(T({},this.props),{},{numPages:this.props.numPages,currentPage:this.props.page,canGoToPage:this.canGoToPage,paginationClicked:this.paginationClicked}))]})},renderHeader:function(){return(0,k.jsx)("div",{className:"TopLevelFilterBackground TopLevelFilterBackground--shops",children:(0,k.jsx)(Z.Z,{query:u().fromJS(this.props.query),containerClass:"tlp-container tlp-container-lg no-row",titleKey:"shops"})})},render:function(){var e,t=(0,k.jsx)("a",{href:"/shops",children:"Clear filters"}),r=(0,k.jsx)(f.Z,{title:"No results found",message:t});e=this.props.total?(0,k.jsx)("div",{className:"tlp-container tlp-container-lg",children:this.renderShopCards()}):r;return(0,k.jsxs)("div",{children:[this.renderHeader(),(0,k.jsx)("div",{className:"top-spacer bottom-spacer",children:(0,k.jsx)("div",{className:"tlp-container tlp-container-lg no-row top-spacer",children:(0,k.jsx)(S.Z,{baseUrl:"/shops",query:this.props.query,filterConfig:w,filterTabs:{filters:{label:"Filters",leftIcon:"fa-plus"},search:{label:"Search",leftIcon:"fa-search",collapsible:!0}},searchField:"nameAndOwnerName",fieldLabels:{ProductType:!0,nameAndOwnerName:!0},valueLabels:{game:"Game Accessories",poster:"Poster",other:"Other",apparel:"Apparel","lt:25":"<$25","gt:25,lte:50":"$26-$50","gt:50,lte:100":"$51-$100","gt:100,lte:200":"$101-$200","gt:200":"$200+"}})})}),e]})}});D=(0,j.Z)(D,["paginationData"]),D=(0,g.Z)(D);var E=(0,v.Z)((0,m.Z)((0,O.Z)()(D),"ShopListStore","ShopStore")),B=r(96486),F=r(9301),I=r(81645).Z.extend({BASE_URL:"/shop/",getPage:function(e,t){var r=this,a="/shops/";e&&e.params&&e.params.admin&&(a="/admin".concat(a)),this.request("read",a,e,(function(a,n,o){var s=r.normalizePaginatedData(a,o,e.schema,n);t(s,n)}))},getCartRequirements:function(e,t){var r="/shop/".concat(e.shopId);this.request("read",r,e,(function(e,r){t(e,r)}))},save:function(e){var t=e.id,r=this.BASE_URL,a="create";t&&(r+=t,a="update"),this.request(a,r,e)}}),A=r(79177);var R=r(28968),$="shops-page",H=(0,n.Z)((function(){return(0,k.jsx)(E,{paginationKey:$,currentRoute:(0,R.N0)()})}),(function(e,t,r){var a=new I(e),n=F.Z.SHOP.FETCHED,o=(0,B.extend)({},t.query);o.page=t.page||1,a.getResultsPage({params:o,schema:A.Z.paginatedSchema,validationKey:t.validationKey},(function(t,a){a||e.dispatch(n,t),r(a,t)}))}),$),M=function(){return(0,k.jsx)(H,{})},U={titleKey:"shops",pageTelemetry:{name:"Shops"}};M.routeMeta=U,M.getLayout=(0,a.G)(U);var G=!0,q=M},69278:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shops",function(){return r(51629)}])}},function(e){e.O(0,[4646],(function(){e.E(9135),e.E(5720)}),5);e.O(0,[9729,9741,2110,9135,5499,7958,6845,9643,6291,9774,2888,179],(function(){return t=69278,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=shops-a86d45d358c752ef.js.map